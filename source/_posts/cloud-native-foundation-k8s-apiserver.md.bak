---
title: Kubernetes - API Server
mathjax: false
date: 2022-12-03 00:06:25
cover: https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/Screen-Shot-2022-01-22-at-10.52.54-AM.png
categories:
  - Cloud Native
  - Cloud Native Foundation
  - Kubernetes
tags:
  - Cloud Native
  - Cloud Native Foundation
  - Kubernetes
---

# 概述

1. 提供`集群管理`的 `REST API`，包括`认证授权`、`数据校验`、`集群状态变更`等
2. 其它模块之间的`通信枢纽`（其它模块与 API Server 通信，只有 API Server 可以直接操作 `etcd`）

> 访问控制

![image-20230615082752079](/Users/zhongmingmao/data/typora/image-20230615082752079.png)

<!-- more -->

|                        | Mutating | Validating |
| ---------------------- | -------- | ---------- |
| 是否可以`修改`对象     | 是       | 否         |
| Webhook 是否可以`并行` | 否       | 是         |

> `impersonatation` - A 代替 B 执行某些动作
> `max-in-flight` - 用于`限流`
> `kube-aggregator` - 聚合其他 API Server

# ![image-20230615083523021](/Users/zhongmingmao/data/typora/image-20230615083523021.png)认证

1. 开启 `TLS` 时，`所有的请求`都首先经过`认证`
2. Kubernetes 支持`多种`认证机制，并支持`同时开启`多个认证插件（只需要有`一个`认证`通过`即可）
   - 认证成功，用户的 `username` 会传入授权模块，进行进一步的`鉴权`
   - 认证失败，返回 HTTP 401

## 插件



# 鉴权

# 准入

## Mutating

## Validating

## Admission

# 限流

# 对象

