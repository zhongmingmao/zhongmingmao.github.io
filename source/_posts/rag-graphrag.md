---
title: RAG - GraphRAG
mathjax: true
date: 2024-08-17 00:06:25
cover: https://rag-1253868755.cos.ap-guangzhou.myqcloud.com/graphrag-9781829.png
categories:
  - AI
  - RAG
tags:
  - AI
  - LLM
  - RAG
  - GraphRAG
---

# 向量检索

> 信息片段之间的**连接能力**有限

1. RAG 在**跨越多个信息片段**以获取**综合见解**时**表现不足**
2. 当要回答一个**复杂问题**时，必须要通过**共享属性**在不同信息之间建立联系
   - RAG **无法有效捕捉**这些关系
   - 限制了 RAG 在处理需要**多跳推理**或整合多源数据的**复杂查询**时的能力

<!-- more -->

> 归纳总结能力不足

1. 在处理**大型数据集**或**长文档**时，RAG 难以有效地**归纳和总结复杂的语义概念**
2. RAG 在需要**全面理解**和**总结复杂语义信息**的场景中表现不佳

# GraphRAG

> 利用 **LLM** 生成的**知识图谱**来改进 RAG 的**检索**部分

1. GraphRAG 利用**结构化**的**实体**和**关系**信息，使得检索过程更加**精准**和**全面**
2. GraphRAG 在处理**多跳问题**和**复杂文档分析**时表现出色
3. GraphRAG 在处理**复杂信息处理任务**时，显著提升**问答性能**，提供比 RAG 更为**准确**和**全面**的答案
4. GraphRAG 通过**知识图谱**有效地**连接**不同的信息片段
   - 不仅能够提供**准确答案**，还能展示答案之间的**内在联系**，提供更丰富和有价值的结果

> GraphRAG 先利用**知识图谱**，关联查询的**实体**和**关系**
> 从与知识图谱实体**直接相关**的文档中检索片段，提供一个**更全面**、**指标化**、**高信息密度**的总结

![image-20241025002247931](https://rag-1253868755.cos.ap-guangzhou.myqcloud.com/image-20241025002247931.png)

# 主要优势

> 通过构建知识图谱，将**实体**和**实体之间的关系**结构化地表示出来，克服了传统 RAG 的**复杂推理**局限性

1. 提高答案**准确度**和**完整性**
   - 精确的**关系捕捉**
     - 知识图谱能够显式地表示**实体**及其**关系**
     - 使得 GraphRAG 在处理涉及**多实体**、**多关系**的**复杂查询**时，能够准确地检索相关信息
   - **多级推理**能力
     - 通过**图结构**，GraphRAG 可以实现**多跳推理**，连接不同的信息片段，提供更加全面和深入的回答
   - **实证**效果
     - GraphRAG 在回答**复杂问题**时，LLM 响应的**准确度**平均提升 **3 倍**以上
2. 提升**可解释性**和**可追溯性**
   - 可解释性
     - 知识图谱的**结构化**特点使得系统的**决策过程透明化**，便于理解模型给出的某一答案的原因
   - 可追溯性
     - 每个**结论**都可以在知识图谱中找到对应的**路径**，支持对**决策过程**的**复查**和**验证**

# 知识图谱

1. **图谱**是一种用于表示**实体**及其**相互关系**的数学结构
   - 一个**图**（Graph）由一组**节点**（Nodes）和连接这些节点的**边**（Edges）组成
   - 节点通常代表实体（人物、地点、概念），而边则表示实体之间的关系或关联
2. **知识图谱**是一种特殊类型的图谱，用于表示**知识领域**中的实体及其关系
   - 以**结构化**的方式组织信息，使机器能够**理解和推理复杂的语义关系**
3. 知识图谱的核心要素
   - 实体（**Entities**） - 表示具体的对象或者概念
   - 属性（**Attributes**） - 描述实体的特征
   - 关系（**Relations**） - 连接实体之间的语义关联
4. 知识图谱能够**高效地组织和检索信息**，为各种应用提供支持 - RAG、推荐引擎、语义搜索

![image-20241025004617524](https://rag-1253868755.cos.ap-guangzhou.myqcloud.com/image-20241025004617524.png)

> GraphRAG 引入知识图谱，用于增强传统 RAG 的能力

1. **结构化信息表示**
   - 将**文本数据**转换为**知识图谱**，GraphRAG 能够以结构化的方式**捕捉实体和关系**，超越**纯粹向量**表示的局限
2. **增强语义理解**
   - 知识图谱提供了**显式的语义关系**，使模型能够理解实体之间的复杂关系，支持**多跳推理**和**全局信息整合**
3. **改进检索效率**
   - 在**检索**阶段，利用知识图谱可以**更精准地定位相关信息**，减少无关数据的干扰，提高 RAG 的检索速度

> 构建知识图谱的步骤

| Step           | Desc                                             |
| -------------- | ------------------------------------------------ |
| **实体识别**   | 从文本或数据源中识别出关键实体                   |
| **关系抽取**   | 确定实体之间的关系，可能通过 **NLP** 技术实现    |
| **三元组生成** | 将实体和关系表示为（**主体、关系、客体**）的形式 |
| **图谱存储**   | 使用**图数据库**或者专门的存储系统保存知识图谱   |

> 成本 - 构建知识图谱的主要问题

1. 数据**收集**和**清洗**
   - 构建**高质量**的知识图谱依赖于从**多源异构数据**中抽取出**可靠**的实体和关系
   - 需要对数据进行大量**清洗**和**预处理**，以消除**冗余**、**噪音**和**冲突**的数据，确保知识图谱的**准确性**和**一致性**
   - 该过程需要大量的**人工干预**和**计算资源**
2. 知识图谱的**构建**
   - 知识图谱的构建依赖于从数据中**识别并提取实体及其关系**
   - 传统上依赖**人工**识别和提取，现在可以借助 **LLM** 来完成 - 均需要**大量成本**
3. 知识图谱的**维护**与**更新**
   - 知识图谱是**动态**的，随着新的数据和知识不断涌现，需要**持续更新**以保持其**准确性**和**时效性**
   - 维护和更新知识图谱需要**定期重新处理数据**，以确保新添加的**实体**和**关系**与现有结构保持一致
