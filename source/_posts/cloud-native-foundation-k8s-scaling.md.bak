---
title: cloud-native-foundation-k8s-scaling
mathjax: false
date: 2023-12-22 23:12:35
categories:
tags:
---

# Metrics-Server

![image-20231222224857367](/Users/zhongmingmao/data/typora/image-20231222224857367.png)

<!-- more -->

1. `Metrics-Server` 是 Kubernetes `监控体系`中的`核心组件`之一
   - 负责从 `kubelet` 收集资源指标，然后对这些指标监控数据进行`聚合`（kube-aggregator）
   - 并在 `API Server` 中通过 `Metrics API`（/apis/metrics.k8s.io/） 暴露
2. Metrics-Server 只存储最新的指标数据（`CPU` / `Memory`） 
3. 几点注意
   - API Server 能访问 Metrics-Server
   - 需要在 API Server 启用`聚合层`
   - 组件要有`认证配置`并且绑定到 Metrics-Server
   - Pod / Node 指标需要由 `Summary API ` 通过 `kubelet` 公开

![image-20231222230008037](/Users/zhongmingmao/data/typora/image-20231222230008037.png)

