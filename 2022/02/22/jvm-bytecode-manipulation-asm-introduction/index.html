<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>ASM - Introduction | ByteCoding</title><meta name="author" content="zhongmingmao"><meta name="copyright" content="zhongmingmao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="Glance ASM is an all purpose Java bytecode manipulation and analysis framework. It can be used to modify existing classes or to dynamically generate classes, directly in binary form.   ASM provides so">
<meta property="og:type" content="article">
<meta property="og:title" content="ASM - Introduction">
<meta property="og:url" content="https://blog.zhongmingmao.top/2022/02/22/jvm-bytecode-manipulation-asm-introduction/index.html">
<meta property="og:site_name" content="ByteCoding">
<meta property="og:description" content="Glance ASM is an all purpose Java bytecode manipulation and analysis framework. It can be used to modify existing classes or to dynamically generate classes, directly in binary form.   ASM provides so">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-20.png">
<meta property="article:published_time" content="2022-02-21T16:06:25.000Z">
<meta property="article:modified_time" content="2023-04-03T10:04:59.587Z">
<meta property="article:author" content="zhongmingmao">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="JVM">
<meta property="article:tag" content="Bytecode Manipulation">
<meta property="article:tag" content="ASM">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-20.png"><link rel="shortcut icon" href="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="canonical" href="https://blog.zhongmingmao.top/2022/02/22/jvm-bytecode-manipulation-asm-introduction/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":512,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":256},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":32,"languages":{"author":"Author: zhongmingmao","link":"Link: ","source":"Source: ByteCoding","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ASM - Introduction',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-04-03 18:04:59'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ByteCoding" type="application/atom+xml">
</head><body><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">476</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">125</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">65</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-20.png')"><nav id="nav"><span id="blog-info"><a href="/" title="ByteCoding"><span class="site-name">ByteCoding</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">ASM - Introduction</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">Created</span><time datetime="2022-02-21T16:06:25.000Z" title="Created 2022-02-22 00:06:25">2022-02-22</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/java/">Java</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/java/jvm/">JVM</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/java/jvm/bytecode-manipulation/">Bytecode Manipulation</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word count:</span><span class="word-count">998</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading time:</span><span>6min</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Glance"><a href="#Glance" class="headerlink" title="Glance"></a>Glance</h1><ol>
<li>ASM is an <strong>all purpose</strong> Java bytecode manipulation and analysis framework.<ul>
<li>It can be used to <strong>modify existing classes</strong> or to <strong>dynamically generate classes</strong>, directly in <strong>binary</strong> form.</li>
</ul>
</li>
<li>ASM provides some <strong>common bytecode transformations and analysis algorithms</strong> from which custom complex transformations and code analysis tools can be built.</li>
<li>ASM offers similar functionality as other Java bytecode frameworks, but is focused on <strong>performance</strong>.<ul>
<li>Because it was designed and implemented to be as <strong>small</strong> and as <strong>fast</strong> as possible, it is well suited for use in <strong>dynamic</strong> systems (but can of course be used in a <strong>static</strong> way too, e.g. in compilers).</li>
</ul>
</li>
</ol>
<span id="more"></span>

<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><h2 id="Motivations"><a href="#Motivations" class="headerlink" title="Motivations"></a>Motivations</h2><h3 id="Situations"><a href="#Situations" class="headerlink" title="Situations"></a>Situations</h3><ol>
<li><strong>Program analysis</strong><ul>
<li>which can range from a simple syntaxic parsing to a full semantic analysis, can be used to find potential bugs in applications, to detect unused code, to reverse engineer code, etc.</li>
</ul>
</li>
<li><strong>Program generation</strong><ul>
<li>is used in <strong>compilers</strong>. This include <strong>traditional compilers</strong>, but also <strong>stub or skeleton compilers</strong> used for distributed programming, <strong>Just in Time compilers</strong>, etc.</li>
</ul>
</li>
<li><strong>Program transformation</strong><ul>
<li>can be used to <strong>optimize or obfuscate programs</strong>, to insert <strong>debugging</strong> or <strong>performance monitoring</strong> code into applications, for <strong>aspect oriented programming</strong>, etc.</li>
</ul>
</li>
</ol>
<h3 id="Advantages-of-working-on-compiled-classes"><a href="#Advantages-of-working-on-compiled-classes" class="headerlink" title="Advantages of working on compiled classes"></a>Advantages of working on compiled classes</h3><ol>
<li>The <strong>source code</strong> is <strong>not needed</strong>.<ul>
<li>Program transformations can therefore be used on <strong>any applications</strong>, including <strong>closed source</strong> and <strong>commercial ones</strong>.</li>
</ul>
</li>
<li>It becomes possible to analyze, generate or transform classes at <strong>runtime</strong>.<ul>
<li>Tools such as <strong>stub compilers</strong> or <strong>aspect weavers</strong> become <strong>transparent</strong> to users.</li>
</ul>
</li>
</ol>
<h3 id="ASM"><a href="#ASM" class="headerlink" title="ASM"></a>ASM</h3><ol>
<li>ASM is designed for <strong>runtime</strong> – but also offline – class <strong>generation</strong> and <strong>transformation</strong>.<ul>
<li>The ASM library was therefore designed to work on <strong>compiled Java classes</strong>.</li>
</ul>
</li>
<li>It was also designed to be as <strong>fast</strong> and as <strong>small</strong> as possible.<ul>
<li>Being as fast as possible is important in order <strong>not to slow down too much</strong> the applications that use ASM at runtime, for dynamic class generation or transformation.</li>
<li>And being as small as possible is important in order to be used in memory constrained environments, and to <strong>avoid bloating the size</strong> of small applications or libraries using ASM.</li>
</ul>
</li>
</ol>
<h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><h3 id="Scope"><a href="#Scope" class="headerlink" title="Scope"></a>Scope</h3><ol>
<li>The goal of the ASM library is to <strong>generate, transform and analyze compiled Java classes</strong>, represented as <strong>byte arrays</strong> (as they are stored on disk and loaded in the Java Virtual Machine).</li>
<li>For this purpose ASM provides tools to <strong>read, write and transform</strong> such byte arrays by using <strong>higher level concepts</strong> than bytes.</li>
<li>Note that the <strong>scope</strong> of the ASM library is <strong>strictly limited</strong> to <em><strong>reading, writing, transforming and analyzing classes</strong></em>.<ul>
<li>In particular the <em>class loading process</em> is <em>out of scope</em>.</li>
</ul>
</li>
</ol>
<h3 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h3><ol>
<li>The ASM library provides two APIs for generating and transforming compiled classes<ul>
<li>the <strong>core API</strong> provides an <strong>event based</strong> representation of classes</li>
<li>the <strong>tree API</strong> provides an <strong>object based</strong> representation of classes</li>
</ul>
</li>
<li><strong>event based</strong><ul>
<li>With the event based model a class is represented with <strong>a sequence of events</strong>, each <strong>event</strong> representing <strong>an element of the class</strong>, such as its header, a field, a method declaration, an instruction, etc.</li>
<li>The event based API defines the set of possible events and the <strong>order</strong> in which they must occur<ul>
<li>and provides a <strong>class parser</strong> that <strong>generates one event per element that is parsed</strong><ul>
<li><em><strong>class parser: element -&gt; event</strong></em></li>
</ul>
</li>
<li>as well as a <strong>class writer</strong> that <strong>generates compiled classes from sequences of such events</strong>.<ul>
<li><em><strong>class writer: events -&gt; class</strong></em></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><strong>object based</strong><ul>
<li>With the object based model a class is represented with <strong>a tree of objects</strong>, each object representing a part of the class, such as the class itself, a field, a method, an instruction, etc. and each object having <strong>references</strong> to the objects that represent its <strong>constituents</strong>.</li>
<li><em>The object based API is built <strong>on top of</strong> the event based API</em>.<ul>
<li>The object based API provides a way to convert a sequence of events representing a class to the object tree representing the same class and, vice versa, to convert an object tree to the equivalent event sequence.</li>
</ul>
</li>
</ul>
</li>
<li>ASM provides both APIs because <strong>there is no best API</strong>.<ul>
<li>The <strong>event based</strong> API is <strong>faster</strong> and <strong>requires less memory</strong> than the object based API, since there is no need to create and store in memory a tree of objects representing the class.</li>
<li>However <strong>implementing class transformations</strong> can be <strong>more difficult</strong> with the <strong>event based</strong> API, since <strong>only one element</strong> of the class is <strong>available</strong> at <strong>any given time</strong> (the element that corresponds to the current event), while the whole class is available in memory with the object based API.</li>
</ul>
</li>
<li>Note that the two APIs <strong>manage only one class at a time</strong>, and <strong>independently</strong> of the others<ul>
<li><strong>no information about the class hierarchy is maintained</strong>, and if a class transformation affects other classes, it is up to the user to modify these other classes.</li>
</ul>
</li>
</ol>
<h3 id="Architecture"><a href="#Architecture" class="headerlink" title="Architecture"></a>Architecture</h3><ol>
<li><strong>event based</strong><ul>
<li>Indeed the event based API is organized around <strong>event producers</strong> (the <strong>class parser</strong>), <strong>event consumers</strong> (the <strong>class writer</strong>) and various <strong>predefined event filters</strong>, to which user defined producers, consumers and filters can be added.</li>
<li>Two step process<ul>
<li><strong>assembling</strong> event producer, filter and consumer components into possibly complex architectures.</li>
<li>and then <strong>starting the event producers</strong> to run the <strong>generation</strong> or <strong>transformation</strong> process.</li>
</ul>
</li>
</ul>
</li>
<li><strong>object based</strong><ul>
<li>Indeed class <strong>generator</strong> or <strong>transformer</strong> components that operate on object trees <strong>can be composed</strong>, the <strong>links</strong> between them representing the <strong>order of transformations</strong>.</li>
</ul>
</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://jvm-byte-coding-1253868755.cos.ap-guangzhou.myqcloud.com/asm/image-20220222144417064.png" alt="image-20220222144417064"></p>
<h2 id="Organization"><a href="#Organization" class="headerlink" title="Organization"></a>Organization</h2><ol>
<li><strong>core API</strong><ul>
<li><strong>asm</strong><ul>
<li>**the <code>org.objectweb.asm</code> and <code>org.objectweb.asm.signature</code> packages define the <strong>event based</strong> API and provide the <strong>class parser and writer</strong> components.</li>
</ul>
</li>
<li><strong>asm-util</strong><ul>
<li>the <code>org.objectweb.asm.util</code> package, provides various tools based on the <strong>core API</strong> that can be used during the <strong>development</strong> and <strong>debuging</strong> of ASM applications.</li>
</ul>
</li>
<li><strong>asm-commons</strong><ul>
<li>the <code>org.objectweb.asm.commons</code> package provides several useful <strong>predefined class transformers</strong>, mostly based on the <strong>core API</strong>.</li>
</ul>
</li>
</ul>
</li>
<li><strong>tree API</strong><ul>
<li><strong>asm-tree</strong><ul>
<li>the <code>org.objectweb.asm.tree</code> package, defines the <strong>object based</strong> API, and provides tools to <strong>convert</strong> between the <strong>event based</strong> and the <strong>object based</strong> representations.</li>
</ul>
</li>
<li><strong>asm-analysis</strong><ul>
<li>the <code>org.objectweb.asm.tree.analysis</code> package provides a <strong>class analysis framework</strong> and several <strong>predefined class analyzers</strong>, based on the <strong>tree API</strong>.</li>
</ul>
</li>
</ul>
</li>
</ol>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ol>
<li><a target="_blank" rel="noopener" href="https://asm.ow2.io/asm4-guide.pdf">ASM 4.0 - A Java bytecode engineering library</a></li>
</ol>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css"></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="https://blog.zhongmingmao.top">zhongmingmao</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://blog.zhongmingmao.top/2022/02/22/jvm-bytecode-manipulation-asm-introduction/">https://blog.zhongmingmao.top/2022/02/22/jvm-bytecode-manipulation-asm-introduction/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/java/">Java</a><a class="post-meta__tags" href="/tags/jvm/">JVM</a><a class="post-meta__tags" href="/tags/bytecode-manipulation/">Bytecode Manipulation</a><a class="post-meta__tags" href="/tags/asm/">ASM</a></div><div class="post_share"></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/03/07/cloud-native-foundation-docker-foundation-namespace-cgroup/" title="Docker Foundation - Namespace + Cgroup"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-1.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">Docker Foundation - Namespace + Cgroup</div></div></a></div><div class="next-post pull-right"><a href="/2022/02/13/cloud-native-foundation-go-engineering/" title="Cloud Native Foundation - Go Engineering"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-18.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">Cloud Native Foundation - Go Engineering</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2022/02/11/jvm-bytecode-manipulation-javassist/" title="Bytecode Manipulation - Javassist"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-2.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-11</div><div class="title">Bytecode Manipulation - Javassist</div></div></a></div><div><a href="/2022/02/10/jvm-bytecode-manipulation-java-agent-practice/" title="Bytecode Manipulation - Java Agent Practice"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-17.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-10</div><div class="title">Bytecode Manipulation - Java Agent Practice</div></div></a></div><div><a href="/2019/09/13/java-performance-jvm-heap-allocation/" title="Java性能 -- JVM堆内存分配"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-21.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2019-09-13</div><div class="title">Java性能 -- JVM堆内存分配</div></div></a></div><div><a href="/2019/09/11/java-performance-gc/" title="Java性能 -- GC"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-4.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2019-09-11</div><div class="title">Java性能 -- GC</div></div></a></div><div><a href="/2019/09/09/java-performance-jit/" title="Java性能 -- JIT"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-19.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2019-09-09</div><div class="title">Java性能 -- JIT</div></div></a></div><div><a href="/2019/09/07/java-performance-jvm-memory-model/" title="Java性能 -- JVM内存模型"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-12.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2019-09-07</div><div class="title">Java性能 -- JVM内存模型</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">zhongmingmao</div><div class="author-info__description">Focus on Infrastructure.</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">476</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">125</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">65</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Things are always unexpected!</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Glance"><span class="toc-number">1.</span> <span class="toc-text">Glance</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Introduction"><span class="toc-number">2.</span> <span class="toc-text">Introduction</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Motivations"><span class="toc-number">2.1.</span> <span class="toc-text">Motivations</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Situations"><span class="toc-number">2.1.1.</span> <span class="toc-text">Situations</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Advantages-of-working-on-compiled-classes"><span class="toc-number">2.1.2.</span> <span class="toc-text">Advantages of working on compiled classes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ASM"><span class="toc-number">2.1.3.</span> <span class="toc-text">ASM</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Overview"><span class="toc-number">2.2.</span> <span class="toc-text">Overview</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Scope"><span class="toc-number">2.2.1.</span> <span class="toc-text">Scope</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Model"><span class="toc-number">2.2.2.</span> <span class="toc-text">Model</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Architecture"><span class="toc-number">2.2.3.</span> <span class="toc-text">Architecture</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Organization"><span class="toc-number">2.3.</span> <span class="toc-text">Organization</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Reference"><span class="toc-number">3.</span> <span class="toc-text">Reference</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/01/18/go-foundation-sync-atomic/" title="Go - Sync + Atomic"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/go-sync-atomic.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go - Sync + Atomic"/></a><div class="content"><a class="title" href="/2023/01/18/go-foundation-sync-atomic/" title="Go - Sync + Atomic">Go - Sync + Atomic</a><time datetime="2023-01-17T16:06:25.000Z" title="Created 2023-01-18 00:06:25">2023-01-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/01/17/go-foundation-channel/" title="Go - Channel"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/go-chan.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go - Channel"/></a><div class="content"><a class="title" href="/2023/01/17/go-foundation-channel/" title="Go - Channel">Go - Channel</a><time datetime="2023-01-16T16:06:25.000Z" title="Created 2023-01-17 00:06:25">2023-01-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/01/16/go-foundation-gpm/" title="Go - GPM"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/go-concurrency.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go - GPM"/></a><div class="content"><a class="title" href="/2023/01/16/go-foundation-gpm/" title="Go - GPM">Go - GPM</a><time datetime="2023-01-15T16:06:25.000Z" title="Created 2023-01-16 00:06:25">2023-01-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/01/15/go-foundation-csp/" title="Go - CSP"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/go-csp.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go - CSP"/></a><div class="content"><a class="title" href="/2023/01/15/go-foundation-csp/" title="Go - CSP">Go - CSP</a><time datetime="2023-01-14T16:06:25.000Z" title="Created 2023-01-15 00:06:25">2023-01-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/01/14/go-foundation-pattern/" title="Go - Pattern"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/image-20231119210747019.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go - Pattern"/></a><div class="content"><a class="title" href="/2023/01/14/go-foundation-pattern/" title="Go - Pattern">Go - Pattern</a><time datetime="2023-01-13T16:06:25.000Z" title="Created 2023-01-14 00:06:25">2023-01-14</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.pixabay.com/photo/2018/08/27/15/17/fishing-3635221_1280.png')"><div id="footer-wrap"><div class="copyright">&copy;2015 - 2023 By zhongmingmao</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Life is like a box of chocolates. You can't know what you'll eat until you open it.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></body></html>