<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Cloud Computing - Region + Availability zone | ByteCoding</title><meta name="author" content="zhongmingmao"><meta name="copyright" content="zhongmingmao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="Region 云计算厂商在某个地理位置提供的所有云服务的组合，是厂商对外提供云服务的基本单位和容器 绝大多数的云服务，通常都会按照 Region 进行部署 用户使用的所有云资源，都会隶属于某个 Region，通常在创建资源时确定   每个 Region 都会有个由字母数字构成的 Region 代号（Region ID or Region Code），一般为全局唯一 Region 的设立与分布，体现">
<meta property="og:type" content="article">
<meta property="og:title" content="Cloud Computing - Region + Availability zone">
<meta property="og:url" content="https://blog.zhongmingmao.top/2022/10/09/cloud-computing-region-availability-zone/index.html">
<meta property="og:site_name" content="ByteCoding">
<meta property="og:description" content="Region 云计算厂商在某个地理位置提供的所有云服务的组合，是厂商对外提供云服务的基本单位和容器 绝大多数的云服务，通常都会按照 Region 进行部署 用户使用的所有云资源，都会隶属于某个 Region，通常在创建资源时确定   每个 Region 都会有个由字母数字构成的 Region 代号（Region ID or Region Code），一般为全局唯一 Region 的设立与分布，体现">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://cloud-computing-1253868755.cos.ap-guangzhou.myqcloud.com/featured-image-cloud-computing.png">
<meta property="article:published_time" content="2022-10-08T16:06:25.000Z">
<meta property="article:modified_time" content="2023-05-16T14:42:19.051Z">
<meta property="article:author" content="zhongmingmao">
<meta property="article:tag" content="Cloud Computing">
<meta property="article:tag" content="IaaS">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cloud-computing-1253868755.cos.ap-guangzhou.myqcloud.com/featured-image-cloud-computing.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Cloud Computing - Region + Availability zone",
  "url": "https://blog.zhongmingmao.top/2022/10/09/cloud-computing-region-availability-zone/",
  "image": "https://cloud-computing-1253868755.cos.ap-guangzhou.myqcloud.com/featured-image-cloud-computing.png",
  "datePublished": "2022-10-08T16:06:25.000Z",
  "dateModified": "2023-05-16T14:42:19.051Z",
  "author": [
    {
      "@type": "Person",
      "name": "zhongmingmao",
      "url": "https://blog.zhongmingmao.top"
    }
  ]
}</script><link rel="shortcut icon" href="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="canonical" href="https://blog.zhongmingmao.top/2022/10/09/cloud-computing-region-availability-zone/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":32,"languages":{"author":"Author: zhongmingmao","link":"Link: ","source":"Source: ByteCoding","info":"Copyright belongs to the author. For commercial use, please contact the author for authorization. For non-commercial use, please indicate the source."}},
  lightbox: 'null',
  Snackbar: {"chs_to_cht":"You have switched to Traditional Chinese","cht_to_chs":"You have switched to Simplified Chinese","day_to_night":"You have switched to Dark Mode","night_to_day":"You have switched to Light Mode","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: true,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Cloud Computing - Region + Availability zone',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ByteCoding" type="application/atom+xml">
</head><body><script>window.paceOptions = {
  restartOnPushState: false
}

btf.addGlobalFn('pjaxSend', () => {
  Pace.restart()
}, 'pace_restart')

</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg" style="background-image: url(/url(https:/cdn.pixabay.com/photo/2021/07/20/03/39/fisherman-6479663_1280.jpg));"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">642</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">191</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">83</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://cloud-computing-1253868755.cos.ap-guangzhou.myqcloud.com/featured-image-cloud-computing.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">ByteCoding</span></a><a class="nav-page-title" href="/"><span class="site-name">Cloud Computing - Region + Availability zone</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  Back to Home</span></span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Cloud Computing - Region + Availability zone</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">Created</span><time datetime="2022-10-08T16:06:25.000Z" title="Created 2022-10-09 00:06:25">2022-10-09</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/cloud-computing/">Cloud Computing</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/cloud-computing/iaas/">IaaS</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word Count:</span><span class="word-count">681</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading Time:</span><span>2mins</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><div id="post-outdate-notice" data="{&quot;limitDay&quot;:512,&quot;messagePrev&quot;:&quot;It has been&quot;,&quot;messageNext&quot;:&quot;days since the last update, the content of the article may be outdated.&quot;,&quot;postUpdate&quot;:&quot;2023-05-16 22:42:19&quot;}" hidden></div><h1 id="Region"><a href="#Region" class="headerlink" title="Region"></a>Region</h1><ol>
<li>云计算厂商在某个<code>地理位置</code>提供的<code>所有云服务的组合</code>，是厂商对外提供云服务的<code>基本单位和容器</code></li>
<li>绝大多数的云服务，通常都会按照 Region 进行部署<ul>
<li>用户使用的所有云资源，都会隶属于某个 Region，通常在<code>创建资源</code>时确定</li>
</ul>
</li>
<li>每个 Region 都会有个由字母数字构成的 Region 代号（<code>Region ID</code> or <code>Region Code</code>），一般为<code>全局唯一</code></li>
<li>Region 的设立与分布，体现了云厂商的<code>业务重点</code>和<code>地区倾向</code><ul>
<li>不同 Region 之间的距离，一般为<code>数百公里或以上</code></li>
</ul>
</li>
<li>Region 的选址思路<ul>
<li><code>人口稠密的中心城市</code> - 离用户和商业更近</li>
<li><code>相对偏远的地区</code> - 维护成本低</li>
</ul>
</li>
</ol>
<span id="more"></span>

<h2 id="选择-Region"><a href="#选择-Region" class="headerlink" title="选择 Region"></a>选择 Region</h2><ol>
<li><code>地理位置</code><ul>
<li>尽可能地靠近应用所面向的<code>最终用户</code></li>
<li>混合云架构（本地数据中心与云端互联）<ul>
<li>混合云的<code>专线</code>接入，一般以<code>同城</code>或<code>短距离</code>接入为主（控制费用 + 提高线路稳定性）</li>
</ul>
</li>
</ul>
</li>
<li>Region 之间<code>云服务的差异</code><ul>
<li>同一个云在不同的 Region，所能提供的服务和规模可能是不同的</li>
<li><code>Region 的服役时间</code>，往往与 Region 内<code>云服务的可用性</code>有较大的关联<ul>
<li>新 Region - 最新的硬件和云端服务</li>
<li>旧 Region - 产品丰富 + 技术支持完善</li>
</ul>
</li>
</ul>
</li>
<li><code>成本</code><ul>
<li>同一个云服务，在不同 Region 的价格也是不同的，个别 Region 可能会有<code>明显的价格优势</code></li>
<li><code>入站流量</code>和<code>内部流量</code>趋于<code>免费</code>，而<code>出站流量</code>则<code>单独收费</code></li>
</ul>
</li>
</ol>
<h2 id="多-Region-架构"><a href="#多-Region-架构" class="headerlink" title="多 Region 架构"></a>多 Region 架构</h2><blockquote>
<p>最佳用户体验 + 高可用</p>
</blockquote>
<h3 id="公有云"><a href="#公有云" class="headerlink" title="公有云"></a>公有云</h3><blockquote>
<p>公有云的<code>基础设施</code>能够极大地方便多 Region 应用的构建</p>
</blockquote>
<ol>
<li><code>骨干网</code>（Backbone）<ul>
<li>骨干网：各 Region 之间的网络互联<code>专线</code></li>
<li>骨干网使得同一个云在不同的 Region 之间的通信，能够有较高的带宽和较低的延时</li>
</ul>
</li>
<li><code>软件</code><ul>
<li>允许位于不同 Region 的<code>虚拟网络</code>跨区域进行互联</li>
</ul>
</li>
<li><code>DNS</code><ul>
<li>提供<code>就近解析</code>和<code>智能路由</code>的能力</li>
<li>将分布广泛的 C 端流量引流到<code>最近</code>的 IDC</li>
</ul>
</li>
</ol>
<h3 id="应用架构"><a href="#应用架构" class="headerlink" title="应用架构"></a>应用架构</h3><blockquote>
<p><code>各司其职</code>：让不同 Region 担任不同的角色，联动起来达到业务目的</p>
</blockquote>
<h1 id="Availability-zone"><a href="#Availability-zone" class="headerlink" title="Availability zone"></a>Availability zone</h1><blockquote>
<p>Availability zone 是 Region 的<code>下级</code>概念</p>
</blockquote>
<blockquote>
<p>Availability zone：一个具备完整独立的电力供应、冷却系统、网络设施的 <code>IDC</code></p>
</blockquote>
<ol>
<li>一个 Region 通常由多个 Availability zone 高速互联组成<ul>
<li>Region 内的 Availability zone 一般位于<code>同一个城市</code>，相距<code>一百公里以内</code></li>
</ul>
</li>
<li>Availability zone 的作用<ul>
<li>Region 的<code>高可用性</code></li>
<li>Region 的<code>新陈代谢</code>：建设新的 Availability zone，封存淘汰老的 Availability zone</li>
</ul>
</li>
</ol>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css"></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://blog.zhongmingmao.top">zhongmingmao</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://blog.zhongmingmao.top/2022/10/09/cloud-computing-region-availability-zone/">https://blog.zhongmingmao.top/2022/10/09/cloud-computing-region-availability-zone/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/cloud-computing/">Cloud Computing</a><a class="post-meta__tags" href="/tags/iaas/">IaaS</a></div><div class="post-share"><div class="social-share" data-image="https://cloud-computing-1253868755.cos.ap-guangzhou.myqcloud.com/featured-image-cloud-computing.png" data-sites="facebook,x,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2022/10/10/cloud-native-foundation-go-gc/" title="Cloud Native Foundation - Go GC"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/go/v2-7ed5d9802d90c6b65cb02a212bb65068_720w.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">Cloud Native Foundation - Go GC</div></div><div class="info-2"><div class="info-item-1">Heap 管理  Allocator （向 OS 申请）初始化连续内存块作为 Heap Mutator 申请内存，Allocator 从 Heap 中未分配的区域中分割小的内存块 用链表将已分配内存连接起来 内存块元数据：大小、是否使用、下一个内存块的地址 Collector 会扫描 Heap，将不再被使用的内存设置为 unused     内存分配TCMalloc TC &#x3D; Thread Caching    page：内存页，大小为 8k，Go 与 OS 之间的内存申请和内存释放，都是以 page 为单位的 span：内存块，一个或者多个连续的 page 组成一个 span sizeclass：空间规格，每个 span 都带有一个 sizeclass，标记着该 span 中的 page 该如何使用 sizeclass - 8，16，32，48，64，80 …   object：对象，用来存储一个变量数据的内存空间 span 在初始化时，会被切割成一堆等大的 object 如果 object 的大小为 16B，Span list 1 中的 span 为 8k，该 span 中的 page 会...</div></div></div></a><a class="pagination-related" href="/2022/10/08/cloud-native-foundation-go-scheduling/" title="Cloud Native Foundation - Go Scheduling"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/go/go-dispatching.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">Cloud Native Foundation - Go Scheduling</div></div><div class="info-2"><div class="info-item-1">线程加锁 线程安全   123456789// fatal error: concurrent map writesfunc unsafeWrite() &#123;    conflictMap := map[int]int&#123;&#125;    for i := 0; i &lt; 1&lt;&lt;10; i++ &#123;        go func(i int) &#123;            conflictMap[0] = i        &#125;(i)    &#125;&#125;    锁 Go 不仅支持基于 CSP 的通信模型，也支持基于共享内存的多线程数据访问   Sync 包提供了锁的基本原语     原语 描述    sync.Mutex 互斥锁   sync.RWMutex 读写分离锁   sync.WaitGroup 等待一组 goroutine 返回   sync.Once 保证某段代码只执行 1 次   sync.Cond 让一组 goroutine 在满足特定条件时被唤醒   Mutex12345678910111213141516171819...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2022/10/15/cloud-computing-auto-scaling/" title="Cloud Computing - Auto scaling"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cloud-computing-1253868755.cos.ap-guangzhou.myqcloud.com/AutoScalingGraphic.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-15</div><div class="info-item-2">Cloud Computing - Auto scaling</div></div><div class="info-2"><div class="info-item-1">Design for Failure 核心思路：冗余 + 快速切换   宿主机 保证多个虚拟机不在同一个宿主机上，甚至不处于同一个机架上 提供物理分散分布的能力：AWS（Placement Group）、Azure（Availability Set）、阿里云（部署集）   可用区 - IDC 多可用区的实例部署（VPC 支持跨可用区）   区域 多区架构层面的相关预案 互联网业务：通过 DNS 导流，将域名解析到另一个区域的备用服务，底层数据依赖日常的跨区域的实时同步   多云 - 避免厂商锁定    Auto scaling 应对工作负载洪峰 + 在低谷期显著降低成本  虚拟机编组 将功能相同的多个虚拟机，作为一个单位来创建、管理和伸缩   弹性伸缩服务 根据指定的数量和扩缩容的规则，动态地创建和销毁虚拟机实例，协调虚拟机的生命周期   负载均衡器 - SLB 将流量均匀地、或者按照一定权重或规则，分发到多台虚拟机上     弹性伸缩服务 + 负载均衡器：适合处理无状态类的计算需求  </div></div></div></a><a class="pagination-related" href="/2022/10/14/cloud-computing-virtual-network/" title="Cloud Computing - Virtual network"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cloud-computing-1253868755.cos.ap-guangzhou.myqcloud.com/aws-vpc.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-14</div><div class="info-item-2">Cloud Computing - Virtual network</div></div><div class="info-2"><div class="info-item-1">VPC Virtual Private Cloud：构建在云上，相互隔离，用户可以自主控制的私有网络环境     概念 描述    网段 私有网络的内部 IP 区段，通常采用 CIDR 表达   子网 私有网络的下级网络结构，一个私有网络可以划分出多个子网，阿里云将子网称为交换机   路由表 定义私有网络内流量的路由规则，每个子网都必须有一张关联的路由表（自动创建默认路由表）   网关 是对进出私有网络的流量进行把守和分发的重要节点   安全组 私有网络内虚拟机进出流量的通行或拦截规则，相当于虚拟机外层的网络防火墙      VPC 属于局域网，VPC 创建成功后，网段无法修改，至少要创建一个子网（交换机）（网段也不能变更）   可以建立跨可用区的私有网络高可用：让主力集群在一个可用区工作，备用集群在另一个可用区随时待命，按需切换   关键：提前规划 VPC 和各子网的网段在没有 VPC 的情况下创建虚拟机，一般会自动生成 VPC – 生产慎用！  VM VM 通过弹性网卡（Elastic network interface，ENI）来与 VPC 连接ENI 一方面与 VM 绑定，另一方面则嵌入到某个 ...</div></div></div></a><a class="pagination-related" href="/2022/10/13/cloud-computing-cloud-disk/" title="Cloud Computing - Cloud disk"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cloud-computing-1253868755.cos.ap-guangzhou.myqcloud.com/940e9395-cloud-storage.jpg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-13</div><div class="info-item-2">Cloud Computing - Cloud disk</div></div><div class="info-2"><div class="info-item-1">概念 云硬盘：云虚拟机可以挂载和使用的硬盘（系统盘 + 数据盘） 将云端磁盘服务称为块存储（Block Storage），与 Linux 中的块设备相对应，可以格式化并施加文件系统 数据持久化 （非易失性存储）：最少三副本，高可用，极少发生数据丢失 但不能完全依赖云硬盘的可靠性，应该进行额外的备份   云硬盘和传统硬盘的核心差异：绝大多数的云硬盘都是远程的 – 计算存储分离 在云端，虚拟机的硬盘大概率不在宿主机上，而是在专用的磁盘服务器阵列中 通过云数据中心内部的特有 IO 线路进行连接 IO 优化实例 对云虚拟机和云硬盘之间的网络传输，进行了软硬件层面的优化，进而充分发挥所挂载磁盘的性能        性能 性能指标：IOPS、吞吐量、访问延时等   最终性能受存储介质和容量大小共同影响  等级 存储介质  基于 HDD 性能一般，最高 IOPS 大概在数百左右，但成本低  基于 SSD / HDD IOPS 在数千左右，通常为默认选项，综合发挥 SSD 的性能优势和 HDD 的容量优势  基于 SSD IOPS 能够上万，有非常稳定的 IO 能力，用来承载关键业务或者数据库等 IO 密集型应用  基...</div></div></div></a><a class="pagination-related" href="/2022/10/12/cloud-computing-vm/" title="Cloud Computing - Virtual machine"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cloud-computing-1253868755.cos.ap-guangzhou.myqcloud.com/c2jc06l6fp3zzg52fl01.webp" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-12</div><div class="info-item-2">Cloud Computing - Virtual machine</div></div><div class="info-2"><div class="info-item-1">体系结构 计算存储分离   传统虚拟化 对单一物理机器资源的纵向分割，计算、存储、网络等能力都是一台物理机的子集，可伸缩性有较大局限   云虚拟机 云端有大规模的专属硬件和高速的内部网络 除了核心的 CPU 和内存仍属于同一台宿主机外，硬盘和网络等可以享受云端的基础设施 在可扩展性（硬盘、网卡、公网 IP）和故障隔离方面，有很大优势 名称 阿里云：ECS - Elastic Compute Service AWS：EC2 - Elastic Compute Cloud Azure：Virtual Machines 腾讯云：CVM - Cloud Virtual Machine         网络安全组 Network Security Group   网络安全组：一层覆盖在虚拟机之外的网络防火墙，能够控制虚拟机入站流量和出站流量 网络安全组并不工作在 OS 层，是额外的一层防护，非法流量不会到达 OS 的网络堆栈，不会影响 VM 的性能 网络安全组是一种可复用的配置，可以同时应用于多个虚拟机，软件定义网络 网络安全组非常灵活，规则会动态生效  类型规格类型 具有同一类设计目的或者性能特点的虚拟机类别：...</div></div></div></a><a class="pagination-related" href="/2022/10/21/cloud-computing-serverless/" title="Cloud Computing - Serverless"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cloud-computing-1253868755.cos.ap-guangzhou.myqcloud.com/serverless.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-21</div><div class="info-item-2">Cloud Computing - Serverless</div></div><div class="info-2"><div class="info-item-1">Serverless vs Container Serverless 是云计算中资源抽象的极致体现：用户专注于业务逻辑，而无需关注基础设施   Container 给予了用户很大的定制空间，按需对应用进行拆分和封装   Serverless 完全屏蔽了计算资源，引导用户不再关注基础设施，只需遵循标准的方式编写业务代码即可 更细的拆分粒度 FaaS：将每一个具有独立功能的函数，作为一个单独的服务进行部署和运行        计费机制 底层没有固化的资源，一般会按照调用次数和调用时长来计费，可以精确到毫秒 从成本上，非常适合那些偶尔触发、短时间运行的工作负载  事件模型 事件模型是 Serverless 的核心编程模型和运行逻辑，非常适合基于事件驱动的开发场景   上游：触发器 Serverless 一般都会提供多种触发器：API 触发器、OSS 触发器、MQ 触发器、定时触发器等   下游 在函数内访问其他云服务（如 RDS、MQ 等外部存储） Serverless Computing 本身是无状态的，所有持久化需求都需要借助外部存储来实现   架构范式 FaaS + MQ：关注数据流，是数据的传递和流向...</div></div></div></a><a class="pagination-related" href="/2022/10/20/cloud-computing-container/" title="Cloud Computing - Container"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cloud-computing-1253868755.cos.ap-guangzhou.myqcloud.com/Xoriant-Modern-Container-Orchestration-Platform.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-20</div><div class="info-item-2">Cloud Computing - Container</div></div><div class="info-2"><div class="info-item-1">历史 相辅相成：云承载着容器的运行，容器生态驱动着云的发展   初期的首要目标：Docker 容器在云上能够顺畅运行 帮助用户创建底层虚拟机集群，免去用户自己手动管理虚拟机的麻烦   随着容器应用的复杂化，容器编排成为了用户最迫切的需求 Kubernetes 赢得了编排框架大战，成为了事实标准      自建 vs 托管 由于云端的多租户特性，云平台会统一提供和托管 Master 节点，降低运维成本 只需要创建 Worker 节点，并为之付费即可   Kubernetes 的抽象设计非常出色，能够支持大量灵活的扩展 云厂商会让尽量多的 IaaS 和 PaaS 功能组件，渗透到 Kubernetes 的体系中 Cloud Service Operator 通过云服务来扩展 Kubernetes 的能力，并反过来使用 Kubernetes 来管理这些云服务 成熟：容器和云一体化架构     多集群 降低了建立 Kubernetes 集群的门槛，如果业务关联较小，可以为不同的业务创建单独的 Kubernetes 集群    全托管 容器服务实例，无需关心底层基础设施   适合场景：只有一个容器镜像，且为无状态...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">zhongmingmao</div><div class="author-info-description">Focus on Infrastructure.</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">642</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">191</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">83</div></a></div><div class="card-info-social-icons"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Things are always unexpected!</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Region"><span class="toc-number">1.</span> <span class="toc-text">Region</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%89%E6%8B%A9-Region"><span class="toc-number">1.1.</span> <span class="toc-text">选择 Region</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A-Region-%E6%9E%B6%E6%9E%84"><span class="toc-number">1.2.</span> <span class="toc-text">多 Region 架构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AC%E6%9C%89%E4%BA%91"><span class="toc-number">1.2.1.</span> <span class="toc-text">公有云</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E6%9E%B6%E6%9E%84"><span class="toc-number">1.2.2.</span> <span class="toc-text">应用架构</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Availability-zone"><span class="toc-number">2.</span> <span class="toc-text">Availability zone</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/01/24/cloud-native-observability-prometheus-server-v1/" title="Observability - Prometheus Server V1"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://observability-1253868755.cos.ap-guangzhou.myqcloud.com/prometheus-server.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Observability - Prometheus Server V1"/></a><div class="content"><a class="title" href="/2025/01/24/cloud-native-observability-prometheus-server-v1/" title="Observability - Prometheus Server V1">Observability - Prometheus Server V1</a><time datetime="2025-01-23T16:06:25.000Z" title="Created 2025-01-24 00:06:25">2025-01-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/23/cloud-native-observability-prometheus-concepts/" title="Observability - Prometheus Concepts"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://observability-1253868755.cos.ap-guangzhou.myqcloud.com/prometheus-concepts.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Observability - Prometheus Concepts"/></a><div class="content"><a class="title" href="/2025/01/23/cloud-native-observability-prometheus-concepts/" title="Observability - Prometheus Concepts">Observability - Prometheus Concepts</a><time datetime="2025-01-22T16:06:25.000Z" title="Created 2025-01-23 00:06:25">2025-01-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/22/cloud-native-observability-prometheus-introduction/" title="Observability - Prometheus Introduction"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://observability-1253868755.cos.ap-guangzhou.myqcloud.com/prometheus.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Observability - Prometheus Introduction"/></a><div class="content"><a class="title" href="/2025/01/22/cloud-native-observability-prometheus-introduction/" title="Observability - Prometheus Introduction">Observability - Prometheus Introduction</a><time datetime="2025-01-21T16:06:25.000Z" title="Created 2025-01-22 00:06:25">2025-01-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/21/cloud-native-observability-opentelemetry-java-zero-code/" title="Observability - OpenTelemetry Java Zero Code"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://observability-1253868755.cos.ap-guangzhou.myqcloud.com/otel-java-agent.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Observability - OpenTelemetry Java Zero Code"/></a><div class="content"><a class="title" href="/2025/01/21/cloud-native-observability-opentelemetry-java-zero-code/" title="Observability - OpenTelemetry Java Zero Code">Observability - OpenTelemetry Java Zero Code</a><time datetime="2025-01-20T16:06:25.000Z" title="Created 2025-01-21 00:06:25">2025-01-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/20/cloud-native-observability-opentelemetry-java/" title="Observability - OpenTelemetry Java"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://observability-1253868755.cos.ap-guangzhou.myqcloud.com/otel-java.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Observability - OpenTelemetry Java"/></a><div class="content"><a class="title" href="/2025/01/20/cloud-native-observability-opentelemetry-java/" title="Observability - OpenTelemetry Java">Observability - OpenTelemetry Java</a><time datetime="2025-01-19T16:06:25.000Z" title="Created 2025-01-20 00:06:25">2025-01-20</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2015 - 2025 By zhongmingmao</span></div><div class="footer_custom_text">Life is like a box of chocolates. You can't know what you'll eat until you open it.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="Toggle Between Traditional and Simplified Chinese">繁</button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (false) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script></div></body></html>