<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>ByteCoding</title><meta name="author" content="zhongmingmao"><meta name="copyright" content="zhongmingmao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="Focus on Infrastructure">
<meta property="og:type" content="website">
<meta property="og:title" content="ByteCoding">
<meta property="og:url" content="https://blog.zhongmingmao.top/page/2/index.html">
<meta property="og:site_name" content="ByteCoding">
<meta property="og:description" content="Focus on Infrastructure">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png">
<meta property="article:author" content="zhongmingmao">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="shortcut icon" href="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="canonical" href="https://blog.zhongmingmao.top/page/2/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":512,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":256},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":32,"languages":{"author":"Author: zhongmingmao","link":"Link: ","source":"Source: ByteCoding","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ByteCoding',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2025-07-20 20:16:50'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ByteCoding" type="application/atom+xml">
</head><body><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">621</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">189</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">80</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://cdn.pixabay.com/photo/2022/10/16/13/53/early-morning-7525151_1280.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="ByteCoding"><span class="site-name">ByteCoding</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">ByteCoding</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2024/10/11/java-feature-sealed/" title="Java Feature - Sealed"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://java-feature-1253868755.cos.ap-guangzhou.myqcloud.com/java-feature-sealed.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java Feature - Sealed"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/10/11/java-feature-sealed/" title="Java Feature - Sealed">Java Feature - Sealed</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-10-10T16:06:25.000Z" title="Created 2024-10-11 00:06:25">2024-10-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/java/feature/">Feature</a></span></div><div class="content">概述
封闭类在 JDK 17 正式发布



OOP
问题根源 - 无限制的扩展性


限制可扩展性
OOP 的最佳实践 - 把可扩展性限制在可控范围，而不是无限的扩展性
继承的安全缺陷
一个可扩展的类，子类和父类可能会相互影响，导致不可预知的行为
涉及敏感信息的类，增加可扩展性并非优先选项，尽量避免父类或者子类的影响


设计 API
一个类，如果没有真实的可扩展需求，使用 final 修饰符
一个方法，子类如果没有重写的必要性，使用 final 修饰符


限制不可预测的可扩展性，可以实现代码的安全性和健壮性
在 JDK 17 之前，限制可扩展性的两种方法 - 使用私有类或者 final 修饰符
私有类不是公开接口，只能内部使用，而 final 修饰符彻底放弃了可扩展性
可扩展性 - 全开放 or 全封闭


从 JDK 17 开始
使用类修饰符 sealed 修饰的类是封闭类，使用类修饰符 sealed 修饰的接口是封闭接口
封闭类和封闭接口 - 限制可以扩展或实现它们的其它类或接口
把可扩展性限制在可控范围



封闭类
被扩展的父类称为封闭类，扩展而来的子类称为许可类
使用类修饰符 sealed 声 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/10/10/java-feature-record/" title="Java Feature - Record"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://java-feature-1253868755.cos.ap-guangzhou.myqcloud.com/java-feature-record.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java Feature - Record"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/10/10/java-feature-record/" title="Java Feature - Record">Java Feature - Record</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-10-09T16:06:25.000Z" title="Created 2024-10-10 00:06:25">2024-10-10</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/java/feature/">Feature</a></span></div><div class="content">概述
Record 在 JDK 16 正式发布
Record 用来表示不可变数据的透明载体



OOP
封装 + 继承 + 多态

123public interface Shape &#123;  double getArea();&#125;

1234567891011121314151617public class Circle implements Shape &#123;  private double radius;  @Override  public double getArea() &#123;    return Math.PI * radius * radius;  &#125;  public void setRadius(double radius) &#123;    this.radius = radius;  &#125;  public double getRadius() &#123;    return radius;  &#125;&#125;


同步方法 - 吞吐量大幅下降

1234567891011121314151617public class Circl ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/10/09/java-feature-text-blocks/" title="Java Feature - Text Blocks"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://java-feature-1253868755.cos.ap-guangzhou.myqcloud.com/java-feature-text-blocks.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java Feature - Text Blocks"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/10/09/java-feature-text-blocks/" title="Java Feature - Text Blocks">Java Feature - Text Blocks</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-10-08T16:06:25.000Z" title="Created 2024-10-09 00:06:25">2024-10-09</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/java/feature/">Feature</a></span></div><div class="content">概述
Text Blocks 在 JDK 15 正式发布
Text Blocks 是一个由多行文字构成的字符串



丑陋
所见即所得
Text Blocks 是一个由多行文本构成的字符串

Text Blocks 使用新的形式来表达字符串

Text Blocks 尝试消除换行符、连接符、转义字符的影响
使文字对齐和必要的占位符更加清晰，简化多行字符串的表达



消失的特殊字符 - 换行符（\n）、连接字符（**+**）、双引号没有使用转义字符（\）

Text Blocks 由零个或多个内容字符组成，从开始分隔符开始，到结束分隔符结束

开始分隔符 - &quot;&quot;&quot;，后跟零个或者多个空格，以及行结束符组成的序列 - 必须单独成行
结束分隔符 - 只有 &quot;&quot;&quot; - 之前的字符，包括换行符，都属于 Text Blocks 的有效内容


Text Blocks 至少两行代码，即便只是一个空字符串，结束分隔符也不能和开始分隔符在同一行

Text Blocks 不再需要特殊字符 - 所见即所得


12345678910$ jshell&gt; Strin ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/10/08/java-feature-jshell/" title="Java Feature - JShell"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://java-feature-1253868755.cos.ap-guangzhou.myqcloud.com/java-9-jshell.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java Feature - JShell"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/10/08/java-feature-jshell/" title="Java Feature - JShell">Java Feature - JShell</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-10-07T16:06:25.000Z" title="Created 2024-10-08 00:06:25">2024-10-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/java/feature/">Feature</a></span></div><div class="content">概述
JShell 在 JDK 9 中正式发布
JShell API 和工具提供了一种在 JShell 状态下交互式评估 Java 编程语言的声明、语句和表达式的方法
JShell 的状态包括不断发展的代码和执行状态
为了快速调查和编码，语句和表达式不需要出现在方法中，变量和方法也不需要出现在类中
JShell 在验证简单问题时，比 IDE 更高效




启动 JShell

12345$ jshell|  Welcome to JShell -- Version 17.0.9|  For an introduction type: /help introjshell&gt;


详细模式 - 提供更多的反馈结果，观察更多细节

12345$ jshell -v|  Welcome to JShell -- Version 17.0.9|  For an introduction type: /help introjshell&gt;


退出 JShell

123456$ jshell -v|  Welcome to JShell -- Version 17.0.9|  For an introduct ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/10/07/mq-concept/" title="MQ - Concept"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://mq-1253868755.cos.ap-guangzhou.myqcloud.com/mq-concept.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MQ - Concept"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/10/07/mq-concept/" title="MQ - Concept">MQ - Concept</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-10-06T16:06:25.000Z" title="Created 2024-10-07 00:06:25">2024-10-07</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/mq/">MQ</a></span></div><div class="content">消息管道
在系统架构中，MQ 的定位是消息和管道，主要起到解耦上下游系统，数据缓存的作用，主要操作为生产和消息




架构
Broker
Broker 本质上是一个进程
在实际部署过程中，通常一个物理节点只会起一个进程，在大部分情况下，Broker 表示一个节点

Topic
在大部分 MQ 中，Topic 都是用来组织分区关系的一个逻辑概念
通常情况下，一个 Topic 会包含多个分区
在 RabbitMQ 中，Topic 是指具体的一种主题模式



Partition
Queue &#x2F; MessageQueue


在 MQ 中，分区、分片、Partition、Queue、MessageQueue 是一个概念，用来表示数据存储的最小单位
可以将消息写入到一个分区中，也可以将消息写入到 Topic 中，再分发到具体的某个分区
一个 Topic 通常会包含一个或多个分区

Producer
消息的发送方，即发送消息的客户端

Consumer
消息的接收方，即接收消息的客户端

ConsumerGroup
Subscription


一般情况下，MQ 中的 ConsumerGroup 和 Sub ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/10/06/mq-context/" title="MQ - Context"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://mq-1253868755.cos.ap-guangzhou.myqcloud.com/0ccbe5e6-1c1d-4316-b8c0-96abf58ed229_1446x680.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MQ - Context"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/10/06/mq-context/" title="MQ - Context">MQ - Context</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-10-05T16:06:25.000Z" title="Created 2024-10-06 00:06:25">2024-10-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/mq/">MQ</a></span></div><div class="content">MQ
消息队列 - 具有缓冲作用、具备发布和订阅能力的存储引擎
消息队列的最基本功能 - 生产 + 消费
标准消息队列 - 功能齐全
在发布订阅的基础上，高阶能力 - 死信队列、顺序消息、延时消息等
实现高吞吐、低延时、高可靠的特征





社区


Year
MQ



&lt; 2000
史前消息队列


2001
JMS - ActiveMQ


2006
AMQP


2007
RabbitMQ


2011
Kafka


2013
RocketMQ


2017
Pulsar


TimelineKafka
Kafka 于 2011 年贡献给 ASF，主要满足大数据领域中的高吞吐量、低延迟的场景
核心功能简单，只提供生产和消费，后来加入了幂等和事务

RabbitMQ
RabbitMQ 于 2007 年开源，使用 Erlang，主要满足业务中消息总线的场景
特点为功能丰富（支持延时消息、死信队列、优先级队列、事务消息等），在低流量下稳定性较高
缺点 - 在大流量的情况下，会有明显的性能瓶颈和稳定性分险
ActiveMQ 基于 JMS 协议（国内较少使用），而 RabbitMQ 基于 AMQP 协 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/10/05/bigdata-beam-future/" title="Beam - Future"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/flink-runner-beam-beam-vision.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Beam - Future"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/10/05/bigdata-beam-future/" title="Beam - Future">Beam - Future</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-10-04T16:06:25.000Z" title="Created 2024-10-05 00:06:25">2024-10-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/big-data/">Big Data</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/big-data/beam/">Beam</a></span></div><div class="content">技术迭代
2006，Apache Hadoop 发布，基于 MapReduce 计算模型
2009，Spark 计算框架在 加州伯克利大学诞生，于 2010 年开源，于 2014 年成为 Apache 的顶级项目
Spark 的数据处理效率远在 Hadoop 之上


2014，Flink 面世，流批一体，于 2018 年被阿里收购



Apache Beam
Apache Beam 根据 Dataflow Model API 实现的，能完全胜任批流一体的任务
Apache Beam 有中间的抽象转换层，工程师无需学习新 Runner 的 API 的语法，减少学习新技术的时间成本
Runner 可以专心优化效率和迭代功能，而不必担心迁移

Beam Runner
迭代非常快 - 如 Flink

</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/10/04/bigdata-beam-streaming/" title="Beam - Streaming"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-beam-streaming.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Beam - Streaming"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/10/04/bigdata-beam-streaming/" title="Beam - Streaming">Beam - Streaming</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-10-03T16:06:25.000Z" title="Created 2024-10-04 00:06:25">2024-10-04</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/big-data/">Big Data</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/big-data/beam/">Beam</a></span></div><div class="content">有界数据 vs 无界数据
在 Beam 中，可以用同一个 Pipeline 处理有界数据和无界数据
无论是有界数据还是无界数据，在 Beam 中，都可以用窗口把数据按时间分割成一些有限大小的集合
对于无界数据，必须使用窗口对数据进行分割，然后对每个窗口内的数据集进行处理





读取无界数据
withLogAppendTime - 使用 Kafka 的 log append time 作为 PCollection 的时间戳

12345678Pipeline pipeline = Pipeline.create();pipeline.apply(    KafkaIO.&lt;String, String&gt;read()        .withBootstrapServers(&quot;broker_1:9092,broker_2:9092&quot;)        .withTopic(&quot;shakespeare&quot;) // use withTopics(List&lt;String&gt;) to read from multiple topics.        .withK ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/10/03/bigdata-beam-window/" title="Beam - Window"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-beam-window.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Beam - Window"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/10/03/bigdata-beam-window/" title="Beam - Window">Beam - Window</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-10-02T16:06:25.000Z" title="Created 2024-10-03 00:06:25">2024-10-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/big-data/">Big Data</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/big-data/beam/">Beam</a></span></div><div class="content">Window
在 Beam 中，Window 将 PCollection 里的每个元素根据时间戳划分成不同的有限数据集合
要将一些聚合操作应用在 PCollection 上时，或者对不同的 PCollection 进行 Join 操作
Beam 将这些操作应用在这些被 Window 划分好的不同的数据集上


无论是有界数据还是无界数据，Beam 都会按同样的规则进行处理
在用 IO Connector 读取有界数据集的过程中，Read Transform 会默认为每个元素分配一个相同的时间戳
一般情况下，该时间戳为运行 Pipeline 的时间，即处理时间 - Processing Time
Beam 会为该 Pipeline 默认分配一个全局窗口 - Global Window - 从无限小到无限大的时间窗口





Global Window
可以显式将一个全局窗口赋予一个有界数据集

12PCollection&lt;String&gt; input = p.apply(TextIO.read().from(filepath));PCollection&lt;String&gt; batchInpu ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/10/02/bigdata-beam-wordcount/" title="Beam - WordCount"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/simple-wordcount-pipeline.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Beam - WordCount"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/10/02/bigdata-beam-wordcount/" title="Beam - WordCount">Beam - WordCount</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-10-01T16:06:25.000Z" title="Created 2024-10-02 00:06:25">2024-10-02</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/big-data/">Big Data</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/big-data/beam/">Beam</a></span></div><div class="content">步骤
用 Pipeline IO 读取文本
用 Transform 对文本进行分词和词频统计
用 Pipeline IO 输出结果
将所有步骤打包成一个 Pipeline




创建 Pipeline
默认情况下，将采用 DirectRunner 在本地运行

1PipelineOptions options = PipelineOptionsFactory.create();


一个 Pipeline 实例会构建数据处理的 DAG，以及这个 DAG 所需要的 Transform

1Pipeline p = Pipeline.create(options);

应用 Transform
TextIO.Read - 读取外部文件，生成一个 PCollection，包含所有文本行，每个元素都是文本中的一行

123String filepattern =    &quot;file:///Users/zhongmingmao/workspace/java/hello-beam/corpus/shakespeare.txt&quot;;PCollection&lt;String&gt; lines = p.a ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/#content-inner">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/63/#content-inner">63</a><a class="extend next" rel="next" href="/page/3/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">zhongmingmao</div><div class="author-info__description">Focus on Infrastructure.</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">621</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">189</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">80</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Things are always unexpected!</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/01/03/cloud-native-observability-opentelemetry-js/" title="Observability - OpenTelemetry Node.js"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://observability-1253868755.cos.ap-guangzhou.myqcloud.com/Nodejs-Instrumentation-OpenTelemetry.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Observability - OpenTelemetry Node.js"/></a><div class="content"><a class="title" href="/2025/01/03/cloud-native-observability-opentelemetry-js/" title="Observability - OpenTelemetry Node.js">Observability - OpenTelemetry Node.js</a><time datetime="2025-01-02T16:06:25.000Z" title="Created 2025-01-03 00:06:25">2025-01-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/02/cloud-native-observability-opentelemetry-doc-v2/" title="Observability - OpenTelemetry Doc V2"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://observability-1253868755.cos.ap-guangzhou.myqcloud.com/otel-beelines.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Observability - OpenTelemetry Doc V2"/></a><div class="content"><a class="title" href="/2025/01/02/cloud-native-observability-opentelemetry-doc-v2/" title="Observability - OpenTelemetry Doc V2">Observability - OpenTelemetry Doc V2</a><time datetime="2025-01-01T16:06:25.000Z" title="Created 2025-01-02 00:06:25">2025-01-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/01/cloud-native-observability-opentelemetry-doc-v1/" title="Observability - OpenTelemetry Doc V1"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://observability-1253868755.cos.ap-guangzhou.myqcloud.com/opentelemetry.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Observability - OpenTelemetry Doc V1"/></a><div class="content"><a class="title" href="/2025/01/01/cloud-native-observability-opentelemetry-doc-v1/" title="Observability - OpenTelemetry Doc V1">Observability - OpenTelemetry Doc V1</a><time datetime="2024-12-31T16:06:25.000Z" title="Created 2025-01-01 00:06:25">2025-01-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/10/18/ebpf-principle/" title="eBPF - Principle"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ebpf-1253868755.cos.ap-guangzhou.myqcloud.com/ebpf-principle.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="eBPF - Principle"/></a><div class="content"><a class="title" href="/2024/10/18/ebpf-principle/" title="eBPF - Principle">eBPF - Principle</a><time datetime="2024-10-17T16:06:25.000Z" title="Created 2024-10-18 00:06:25">2024-10-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/10/17/ebpf-overview/" title="eBPF - Overview"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ebpf-1253868755.cos.ap-guangzhou.myqcloud.com/ebpf.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="eBPF - Overview"/></a><div class="content"><a class="title" href="/2024/10/17/ebpf-overview/" title="eBPF - Overview">eBPF - Overview</a><time datetime="2024-10-16T16:06:25.000Z" title="Created 2024-10-17 00:06:25">2024-10-17</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            <a class="card-more-btn" href="/categories/" title="More">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/"><span class="card-category-list-name">AI</span><span class="card-category-list-count">34</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/llm/"><span class="card-category-list-name">LLM</span><span class="card-category-list-count">16</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/rag/"><span class="card-category-list-name">RAG</span><span class="card-category-list-count">18</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/big-data/"><span class="card-category-list-name">Big Data</span><span class="card-category-list-count">26</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/big-data/beam/"><span class="card-category-list-name">Beam</span><span class="card-category-list-count">13</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/big-data/spark/"><span class="card-category-list-name">Spark</span><span class="card-category-list-count">6</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/career/"><span class="card-category-list-name">Career</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/"><span class="card-category-list-name">Cloud Computing</span><span class="card-category-list-count">10</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/big-data/" style="font-size: 1.31em; color: rgb(91, 93, 107)">Big Data</a><a href="/tags/beam/" style="font-size: 1.24em; color: rgb(99, 48, 59)">Beam</a><a href="/tags/spark/" style="font-size: 1.2em; color: rgb(73, 117, 87)">Spark</a><a href="/tags/flink/" style="font-size: 1.15em; color: rgb(176, 151, 80)">Flink</a><a href="/tags/mapreduce/" style="font-size: 1.15em; color: rgb(117, 169, 183)">MapReduce</a><a href="/tags/rdd/" style="font-size: 1.15em; color: rgb(97, 118, 108)">RDD</a><a href="/tags/cloud-computing/" style="font-size: 1.22em; color: rgb(112, 81, 17)">Cloud Computing</a><a href="/tags/iaas/" style="font-size: 1.19em; color: rgb(145, 101, 113)">IaaS</a><a href="/tags/paas/" style="font-size: 1.19em; color: rgb(76, 66, 33)">PaaS</a><a href="/tags/cloud-native/" style="font-size: 1.45em; color: rgb(181, 181, 58)">Cloud Native</a><a href="/tags/kubernetes/" style="font-size: 1.43em; color: rgb(63, 117, 159)">Kubernetes</a><a href="/tags/devops/" style="font-size: 1.18em; color: rgb(95, 177, 148)">DevOps</a><a href="/tags/container/" style="font-size: 1.26em; color: rgb(22, 82, 167)">Container</a><a href="/tags/docker/" style="font-size: 1.28em; color: rgb(25, 38, 193)">Docker</a><a href="/tags/go-core/" style="font-size: 1.17em; color: rgb(105, 82, 45)">Go Core</a><a href="/tags/go/" style="font-size: 1.42em; color: rgb(157, 22, 167)">Go</a><a href="/tags/go-engineering/" style="font-size: 1.33em; color: rgb(27, 87, 83)">Go Engineering</a><a href="/tags/swagger/" style="font-size: 1.15em; color: rgb(146, 127, 74)">Swagger</a><a href="/tags/rpc/" style="font-size: 1.16em; color: rgb(161, 53, 107)">RPC</a><a href="/tags/grpc/" style="font-size: 1.16em; color: rgb(23, 119, 180)">gRPC</a><a href="/tags/ci/" style="font-size: 1.15em; color: rgb(187, 3, 120)">CI</a><a href="/tags/makefile/" style="font-size: 1.15em; color: rgb(82, 99, 87)">Makefile</a><a href="/tags/network/" style="font-size: 1.16em; color: rgb(131, 137, 128)">Network</a><a href="/tags/cloud-native-foundation/" style="font-size: 1.32em; color: rgb(56, 179, 133)">Cloud Native Foundation</a><a href="/tags/linux/" style="font-size: 1.27em; color: rgb(94, 145, 75)">Linux</a><a href="/tags/dockerfile/" style="font-size: 1.17em; color: rgb(173, 92, 47)">Dockerfile</a><a href="/tags/service-mesh/" style="font-size: 1.18em; color: rgb(2, 193, 171)">Service Mesh</a><a href="/tags/microservices/" style="font-size: 1.27em; color: rgb(144, 36, 49)">Microservices</a><a href="/tags/spring-cloud/" style="font-size: 1.2em; color: rgb(160, 74, 55)">Spring Cloud</a><a href="/tags/spring/" style="font-size: 1.23em; color: rgb(133, 111, 170)">Spring</a><a href="/tags/java/" style="font-size: 1.44em; color: rgb(172, 111, 134)">Java</a><a href="/tags/service-governance/" style="font-size: 1.17em; color: rgb(51, 30, 157)">Service Governance</a><a href="/tags/opa/" style="font-size: 1.2em; color: rgb(173, 197, 3)">OPA</a><a href="/tags/alibaba/" style="font-size: 1.21em; color: rgb(21, 89, 7)">Alibaba</a><a href="/tags/observability/" style="font-size: 1.2em; color: rgb(40, 61, 5)">Observability</a><a href="/tags/opentelemetry/" style="font-size: 1.17em; color: rgb(65, 170, 71)">OpenTelemetry</a><a href="/tags/security/" style="font-size: 1.26em; color: rgb(76, 90, 9)">Security</a><a href="/tags/compliance/" style="font-size: 1.17em; color: rgb(112, 174, 47)">Compliance</a><a href="/tags/infrastructure/" style="font-size: 1.3em; color: rgb(181, 159, 93)">Infrastructure</a><a href="/tags/architecture/" style="font-size: 1.31em; color: rgb(118, 37, 24)">Architecture</a><a href="/tags/serverless/" style="font-size: 1.21em; color: rgb(48, 65, 133)">Serverless</a><a href="/tags/faas/" style="font-size: 1.21em; color: rgb(121, 66, 172)">FaaS</a><a href="/tags/computer-basics/" style="font-size: 1.35em; color: rgb(152, 127, 6)">Computer Basics</a><a href="/tags/computer-organization/" style="font-size: 1.35em; color: rgb(187, 67, 86)">Computer Organization</a><a href="/tags/knowledge-map/" style="font-size: 1.15em; color: rgb(38, 186, 7)">Knowledge Map</a><a href="/tags/ebpf/" style="font-size: 1.16em; color: rgb(116, 115, 137)">eBPF</a><a href="/tags/tool/" style="font-size: 1.22em; color: rgb(74, 160, 106)">Tool</a><a href="/tags/git/" style="font-size: 1.22em; color: rgb(147, 104, 90)">Git</a><a href="/tags/concurrency/" style="font-size: 1.15em; color: rgb(95, 72, 33)">Concurrency</a><a href="/tags/cloud/" style="font-size: 1.36em; color: rgb(182, 95, 122)">Cloud</a><a href="/tags/native/" style="font-size: 1.36em; color: rgb(60, 150, 45)">Native</a><a href="/tags/authentication/" style="font-size: 1.17em; color: rgb(63, 99, 113)">Authentication</a><a href="/tags/ldap/" style="font-size: 1.15em; color: rgb(88, 46, 12)">LDAP</a><a href="/tags/oauth-2-0/" style="font-size: 1.2em; color: rgb(100, 141, 123)">OAuth 2.0</a><a href="/tags/storage/" style="font-size: 1.4em; color: rgb(115, 16, 1)">Storage</a><a href="/tags/mysql/" style="font-size: 1.41em; color: rgb(159, 11, 141)">MySQL</a><a href="/tags/innodb/" style="font-size: 1.2em; color: rgb(96, 116, 8)">InnoDB</a><a href="/tags/java-concurrent/" style="font-size: 1.38em; color: rgb(148, 122, 120)">Java Concurrent</a><a href="/tags/actor/" style="font-size: 1.15em; color: rgb(60, 90, 24)">Actor</a><a href="/tags/akka/" style="font-size: 1.15em; color: rgb(32, 183, 41)">Akka</a><a href="/tags/coroutine/" style="font-size: 1.16em; color: rgb(97, 185, 48)">Coroutine</a><a href="/tags/csp/" style="font-size: 1.15em; color: rgb(85, 55, 36)">CSP</a><a href="/tags/disruptor/" style="font-size: 1.15em; color: rgb(80, 137, 94)">Disruptor</a><a href="/tags/netty/" style="font-size: 1.15em; color: rgb(100, 110, 43)">Netty</a><a href="/tags/stm/" style="font-size: 1.15em; color: rgb(135, 13, 107)">STM</a><a href="/tags/mvcc/" style="font-size: 1.15em; color: rgb(135, 29, 179)">MVCC</a><a href="/tags/java-core/" style="font-size: 1.2em; color: rgb(71, 143, 39)">Java Core</a><a href="/tags/java-feature/" style="font-size: 1.2em; color: rgb(36, 112, 26)">Java Feature</a><a href="/tags/java-performance/" style="font-size: 1.33em; color: rgb(29, 140, 138)">Java Performance</a><a href="/tags/design-pattern/" style="font-size: 1.18em; color: rgb(89, 170, 54)">Design Pattern</a><a href="/tags/hashtable/" style="font-size: 1.15em; color: rgb(48, 9, 173)">HashTable</a><a href="/tags/concurrenthashmap/" style="font-size: 1.15em; color: rgb(83, 87, 92)">ConcurrentHashMap</a><a href="/tags/concurrentskiplistmap/" style="font-size: 1.15em; color: rgb(40, 68, 14)">ConcurrentSkipListMap</a><a href="/tags/cas/" style="font-size: 1.15em; color: rgb(138, 128, 112)">CAS</a><a href="/tags/jvm/" style="font-size: 1.37em; color: rgb(45, 10, 147)">JVM</a><a href="/tags/gc/" style="font-size: 1.16em; color: rgb(170, 100, 115)">GC</a><a href="/tags/hashmap/" style="font-size: 1.15em; color: rgb(38, 78, 128)">HashMap</a><a href="/tags/consistency/" style="font-size: 1.15em; color: rgb(161, 47, 79)">Consistency</a><a href="/tags/jit/" style="font-size: 1.15em; color: rgb(29, 34, 173)">JIT</a><a href="/tags/io/" style="font-size: 1.15em; color: rgb(131, 55, 179)">IO</a><a href="/tags/nio/" style="font-size: 1.16em; color: rgb(60, 108, 15)">NIO</a><a href="/tags/aio/" style="font-size: 1.16em; color: rgb(149, 67, 1)">AIO</a><a href="/tags/epoll/" style="font-size: 1.16em; color: rgb(190, 185, 149)">Epoll</a><a href="/tags/synchronized/" style="font-size: 1.16em; color: rgb(144, 20, 41)">synchronized</a><a href="/tags/lock/" style="font-size: 1.15em; color: rgb(101, 186, 1)">Lock</a><a href="/tags/reentrantreadwritelock/" style="font-size: 1.15em; color: rgb(179, 52, 184)">ReentrantReadWriteLock</a><a href="/tags/stampedlock/" style="font-size: 1.15em; color: rgb(147, 188, 85)">StampedLock</a><a href="/tags/serialization/" style="font-size: 1.15em; color: rgb(140, 163, 111)">Serialization</a><a href="/tags/protobuf/" style="font-size: 1.15em; color: rgb(129, 143, 182)">ProtoBuf</a><a href="/tags/java-stream/" style="font-size: 1.15em; color: rgb(62, 113, 46)">Java Stream</a><a href="/tags/mark-word/" style="font-size: 1.15em; color: rgb(160, 81, 121)">Mark Word</a><a href="/tags/monitor/" style="font-size: 1.15em; color: rgb(6, 169, 176)">Monitor</a><a href="/tags/context-switch/" style="font-size: 1.15em; color: rgb(41, 85, 42)">Context Switch</a><a href="/tags/thread-pool/" style="font-size: 1.15em; color: rgb(36, 74, 119)">Thread Pool</a><a href="/tags/lambda/" style="font-size: 1.15em; color: rgb(72, 190, 133)">Lambda</a><a href="/tags/bytecode-manipulation/" style="font-size: 1.17em; color: rgb(17, 93, 155)">Bytecode Manipulation</a><a href="/tags/asm/" style="font-size: 1.15em; color: rgb(46, 197, 115)">ASM</a><a href="/tags/jol/" style="font-size: 1.17em; color: rgb(25, 58, 108)">JOL</a><a href="/tags/middleware/" style="font-size: 1.39em; color: rgb(150, 59, 18)">Middleware</a><a href="/tags/mq/" style="font-size: 1.4em; color: rgb(75, 196, 129)">MQ</a><a href="/tags/kafka/" style="font-size: 1.39em; color: rgb(187, 33, 115)">Kafka</a><a href="/tags/stream/" style="font-size: 1.39em; color: rgb(155, 15, 36)">Stream</a><a href="/tags/rebalance/" style="font-size: 1.17em; color: rgb(92, 107, 162)">Rebalance</a><a href="/tags/avro/" style="font-size: 1.18em; color: rgb(38, 170, 178)">Avro</a><a href="/tags/compression/" style="font-size: 1.15em; color: rgb(133, 56, 140)">Compression</a><a href="/tags/tcp/" style="font-size: 1.16em; color: rgb(30, 167, 52)">TCP</a><a href="/tags/consumer-group/" style="font-size: 1.15em; color: rgb(156, 162, 133)">Consumer Group</a><a href="/tags/idempotence/" style="font-size: 1.15em; color: rgb(103, 162, 178)">Idempotence</a><a href="/tags/producer/" style="font-size: 1.15em; color: rgb(130, 46, 186)">Producer</a><a href="/tags/load-balance/" style="font-size: 1.15em; color: rgb(75, 80, 195)">Load Balance</a><a href="/tags/distributed-design-pattern/" style="font-size: 1.17em; color: rgb(70, 14, 63)">Distributed Design Pattern</a><a href="/tags/distributed-architecture/" style="font-size: 1.15em; color: rgb(170, 109, 36)">Distributed Architecture</a><a href="/tags/career/" style="font-size: 1.15em; color: rgb(7, 73, 95)">Career</a><a href="/tags/linux-performance/" style="font-size: 1.17em; color: rgb(78, 39, 195)">Linux Performance</a><a href="/tags/linux-practice/" style="font-size: 1.24em; color: rgb(99, 120, 167)">Linux Practice</a><a href="/tags/ext4/" style="font-size: 1.15em; color: rgb(58, 6, 84)">ext4</a><a href="/tags/file-system/" style="font-size: 1.15em; color: rgb(144, 132, 193)">File System</a><a href="/tags/ai/" style="font-size: 1.34em; color: rgb(21, 135, 131)">AI</a><a href="/tags/llm/" style="font-size: 1.34em; color: rgb(160, 17, 180)">LLM</a><a href="/tags/chatgpt/" style="font-size: 1.15em; color: rgb(0, 179, 82)">ChatGPT</a><a href="/tags/nlp/" style="font-size: 1.25em; color: rgb(99, 184, 76)">NLP</a><a href="/tags/python/" style="font-size: 1.3em; color: rgb(9, 162, 39)">Python</a><a href="/tags/fastapi/" style="font-size: 1.15em; color: rgb(93, 104, 192)">FastAPI</a><a href="/tags/uvicorn/" style="font-size: 1.15em; color: rgb(62, 134, 194)">Uvicorn</a><a href="/tags/machine-learning/" style="font-size: 1.17em; color: rgb(9, 151, 79)">Machine Learning</a><a href="/tags/seq2seq/" style="font-size: 1.16em; color: rgb(140, 69, 163)">Seq2Seq</a><a href="/tags/rnn/" style="font-size: 1.15em; color: rgb(147, 129, 62)">RNN</a><a href="/tags/langchain/" style="font-size: 1.19em; color: rgb(13, 182, 166)">LangChain</a><a href="/tags/ai-agent/" style="font-size: 1.18em; color: rgb(86, 96, 177)">AI Agent</a><a href="/tags/rag/" style="font-size: 1.29em; color: rgb(70, 4, 14)">RAG</a><a href="/tags/word2vec/" style="font-size: 1.15em; color: rgb(11, 73, 1)">Word2Vec</a><a href="/tags/lora/" style="font-size: 1.15em; color: rgb(148, 15, 50)">LoRA</a><a href="/tags/peft/" style="font-size: 1.15em; color: rgb(82, 145, 62)">PEFT</a><a href="/tags/faiss/" style="font-size: 1.15em; color: rgb(103, 161, 100)">Faiss</a><a href="/tags/math/" style="font-size: 1.16em; color: rgb(44, 51, 122)">Math</a><a href="/tags/microservices-governance/" style="font-size: 1.21em; color: rgb(63, 153, 82)">Microservices Governance</a><a href="/tags/config/" style="font-size: 1.17em; color: rgb(90, 187, 195)">Config</a><a href="/tags/configuration-center/" style="font-size: 1.17em; color: rgb(37, 57, 142)">Configuration Center</a><a href="/tags/apollo/" style="font-size: 1.17em; color: rgb(160, 187, 73)">Apollo</a><a href="/tags/oauth2/" style="font-size: 1.2em; color: rgb(152, 189, 190)">Oauth2</a><a href="/tags/spring-security/" style="font-size: 1.19em; color: rgb(175, 27, 122)">Spring Security</a><a href="/tags/spring-security-oauth2/" style="font-size: 1.19em; color: rgb(30, 132, 159)">Spring Security OAuth2</a><a href="/tags/chatops/" style="font-size: 1.15em; color: rgb(168, 188, 20)">ChatOps</a><a href="/tags/chatbot/" style="font-size: 1.15em; color: rgb(166, 103, 164)">Chatbot</a><a href="/tags/rerank/" style="font-size: 1.15em; color: rgb(72, 16, 181)">Rerank</a><a href="/tags/graphrag/" style="font-size: 1.15em; color: rgb(47, 19, 30)">GraphRAG</a><a href="/tags/kg-rag/" style="font-size: 1.15em; color: rgb(2, 83, 158)">KG-RAG</a><a href="/tags/prompting/" style="font-size: 1.15em; color: rgb(31, 5, 45)">Prompting</a><a href="/tags/vector/" style="font-size: 1.16em; color: rgb(151, 163, 60)">Vector</a><a href="/tags/vim/" style="font-size: 1.2em; color: rgb(64, 23, 6)">Vim</a><a href="/tags/web/" style="font-size: 1.2em; color: rgb(86, 200, 52)">Web</a><a href="/tags/javascript/" style="font-size: 1.19em; color: rgb(168, 86, 20)">JavaScript</a><a href="/tags/zookeeper/" style="font-size: 1.16em; color: rgb(151, 146, 135)">Zookeeper</a><a href="/tags/distributed-lock/" style="font-size: 1.15em; color: rgb(176, 159, 51)">Distributed Lock</a><a href="/tags/istio/" style="font-size: 1.17em; color: rgb(66, 148, 11)">Istio</a><a href="/tags/jwt/" style="font-size: 1.15em; color: rgb(88, 199, 97)">JWT</a><a href="/tags/bio/" style="font-size: 1.15em; color: rgb(103, 152, 199)">BIO</a><a href="/tags/tomcat/" style="font-size: 1.15em; color: rgb(31, 33, 80)">Tomcat</a><a href="/tags/select/" style="font-size: 1.15em; color: rgb(5, 188, 128)">Select</a><a href="/tags/poll/" style="font-size: 1.15em; color: rgb(87, 1, 6)">Poll</a><a href="/tags/zero-copy/" style="font-size: 1.15em; color: rgb(23, 155, 3)">Zero Copy</a><a href="/tags/mmap/" style="font-size: 1.15em; color: rgb(103, 167, 45)">mmap</a><a href="/tags/reactor/" style="font-size: 1.15em; color: rgb(188, 85, 113)">Reactor</a><a href="/tags/transformer/" style="font-size: 1.16em; color: rgb(117, 103, 29)">Transformer</a><a href="/tags/svm/" style="font-size: 1.15em; color: rgb(200, 52, 118)">SVM</a><a href="/tags/attention/" style="font-size: 1.15em; color: rgb(54, 184, 71)">Attention</a><a href="/tags/zab/" style="font-size: 1.15em; color: rgb(81, 97, 86)">ZAB</a><a href="/tags/etcd/" style="font-size: 1.15em; color: rgb(64, 6, 31)">etcd</a><a href="/tags/raft/" style="font-size: 1.15em; color: rgb(187, 119, 26)">raft</a><a href="/tags/iac/" style="font-size: 1.15em; color: rgb(167, 152, 39)">IaC</a><a href="/tags/terraform/" style="font-size: 1.15em; color: rgb(17, 24, 71)">Terraform</a><a href="/tags/crossplane/" style="font-size: 1.15em; color: rgb(76, 133, 105)">Crossplane</a><a href="/tags/pulumi/" style="font-size: 1.15em; color: rgb(74, 140, 135)">Pulumi</a><a href="/tags/argo-cd/" style="font-size: 1.15em; color: rgb(91, 178, 34)">Argo CD</a><a href="/tags/vpc/" style="font-size: 1.15em; color: rgb(131, 35, 36)">VPC</a><a href="/tags/helm/" style="font-size: 1.15em; color: rgb(8, 35, 86)">Helm</a><a href="/tags/runc/" style="font-size: 1.15em; color: rgb(153, 40, 132)">runc</a><a href="/tags/kustomize/" style="font-size: 1.15em; color: rgb(55, 147, 36)">Kustomize</a><a href="/tags/oci/" style="font-size: 1.15em; color: rgb(170, 122, 135)">OCI</a><a href="/tags/buildkit/" style="font-size: 1.15em; color: rgb(164, 126, 65)">BuildKit</a><a href="/tags/crane/" style="font-size: 1.15em; color: rgb(62, 3, 40)">crane</a><a href="/tags/oci-image/" style="font-size: 1.15em; color: rgb(159, 100, 138)">OCI Image</a><a href="/tags/oci-runtime/" style="font-size: 1.15em; color: rgb(34, 191, 98)">OCI Runtime</a><a href="/tags/linux-namespace/" style="font-size: 1.15em; color: rgb(109, 10, 61)">Linux Namespace</a><a href="/tags/linux-cgroup/" style="font-size: 1.15em; color: rgb(27, 52, 86)">Linux CGroup</a><a href="/tags/k8s-manifest/" style="font-size: 1.15em; color: rgb(58, 133, 144)">K8S Manifest</a><a href="/tags/performance-tuning/" style="font-size: 1.15em; color: rgb(200, 197, 189)">Performance Tuning</a><a href="/tags/api-gateway/" style="font-size: 1.15em; color: rgb(107, 171, 176)">API Gateway</a><a href="/tags/apisix/" style="font-size: 1.15em; color: rgb(190, 104, 164)">APISIX</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span><a class="card-more-btn" href="/archives/" title="More">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/01/"><span class="card-archive-list-date">January 2025</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/10/"><span class="card-archive-list-date">October 2024</span><span class="card-archive-list-count">18</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/09/"><span class="card-archive-list-date">September 2024</span><span class="card-archive-list-count">30</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">August 2024</span><span class="card-archive-list-count">31</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">July 2024</span><span class="card-archive-list-count">10</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">June 2024</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">May 2023</span><span class="card-archive-list-count">11</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">April 2023</span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">621</div></div><div class="webinfo-item"><div class="item-name">Run time :</div><div class="item-count" id="runtimeshow" data-publishDate="2015-06-30T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Total Count :</div><div class="item-count">1188.1k</div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2025-07-20T12:16:46.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.pixabay.com/photo/2018/08/27/15/17/fishing-3635221_1280.png')"><div id="footer-wrap"><div class="copyright">&copy;2015 - 2025 By zhongmingmao</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Life is like a box of chocolates. You can't know what you'll eat until you open it.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["Stay hungry, stay foolish."])
  } else {
    document.getElementById("subtitle").innerHTML = 'Stay hungry, stay foolish.'
  }
}
typedJSFn.run(subtitleType)</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></body></html>