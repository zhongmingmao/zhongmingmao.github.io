<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>ByteCoding</title><meta name="author" content="zhongmingmao"><meta name="copyright" content="zhongmingmao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="Focus on Infrastructure">
<meta property="og:type" content="website">
<meta property="og:title" content="ByteCoding">
<meta property="og:url" content="https://blog.zhongmingmao.top/page/2/index.html">
<meta property="og:site_name" content="ByteCoding">
<meta property="og:description" content="Focus on Infrastructure">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png">
<meta property="article:author" content="zhongmingmao">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="shortcut icon" href="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="canonical" href="https://blog.zhongmingmao.top/page/2/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":512,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":256},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":32,"languages":{"author":"Author: zhongmingmao","link":"Link: ","source":"Source: ByteCoding","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ByteCoding',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-04-10 23:12:05'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ByteCoding" type="application/atom+xml">
</head><body><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">510</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">148</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">69</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://cdn.pixabay.com/photo/2022/10/16/13/53/early-morning-7525151_1280.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="ByteCoding"><span class="site-name">ByteCoding</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">ByteCoding</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2023/02/04/cloud-native-devops-foundation/" title="DevOps - Foundation"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cloud-native-devops-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/devops.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="DevOps - Foundation"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/02/04/cloud-native-devops-foundation/" title="DevOps - Foundation">DevOps - Foundation</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-02-03T16:06:25.000Z" title="Created 2023-02-04 00:06:25">2023-02-04</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/devops/">DevOps</a></span></div><div class="content">基本原理核心原理


隔离机制
运行 Nginx 镜像

1234567891011121314151617$ docker run -d nginx:latestUnable to find image &#x27;nginx:latest&#x27; locallylatest: Pulling from library/nginx25d3892798f8: Pull complete42de7275c085: Pull completec459a9332e03: Pull complete48882f13d668: Pull complete49180167b771: Pull completeda4abc2b066c: Pull complete20dc44ab57ab: Pull completeDigest: sha256:5f44022eab9198d75939d9eaa5341bc077eca16fa51d4ef32d33f1bd4c8cbe7dStatus: Downloaded newer image for nginx:latestd821171713e9b805c4180c122f35 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/02/03/cloud-native-devops-overview/" title="DevOps - Overview"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cloud-native-devops-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/DevOps-Lifecycle.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="DevOps - Overview"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/02/03/cloud-native-devops-overview/" title="DevOps - Overview">DevOps - Overview</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-02-02T16:06:25.000Z" title="Created 2023-02-03 00:06:25">2023-02-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/devops/">DevOps</a></span></div><div class="content">演进过程精益
诞生于工业领域：用最少的时间和资源消耗，生产出高质量的产品

瀑布模式
线性的开发流程、将软件开发划分为一系列阶段



敏捷模式
误区：敏捷 &#x3D; 管理



敏捷是基于精益的思想
将开发过程拆分成 N 个敏捷开发周期，小步快跑
生命周期
基于迭代的敏捷（固定的迭代周期）
基于流程的敏捷（不固定的迭代周期）




运维不堪重负，建立部门墙，敏捷模式只关注开发，不关注运维

DevOps

核心阶段
版本控制
持续集成 - 代码提交
持续交付 - 测试环境
持续部署 - 生产环境
持续监控

源码管理
SVN &#x2F; Git


Git Flow
git pull &#x3D; git fetch + git merge


Git 高级用法rebase
将一个分支的提交移动到另一个分支的末尾，使得提交历史更加线性和整洁


主要场景：

更新本地分支以匹配远程分支，避免产生多余的 merge commit
合并提交
重新排列提交



12$ git checkout feature$ git rebase master



从两个分支的共同祖先开始提取待变基分支（featu ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/02/02/cloud-native-foundation-k8s-security/" title="Kubernetes - Security"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/k8s-security.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - Security"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/02/02/cloud-native-foundation-k8s-security/" title="Kubernetes - Security">Kubernetes - Security</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-02-01T16:06:25.000Z" title="Created 2023-02-02 00:06:25">2023-02-02</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/kubernetes/">Kubernetes</a></span></div><div class="content">层次模型


开发
分发
部署
运行时
容器运行时Non-root
在 Dockerfile 中通过 USER 命令切换成非 root 用户


防止某些镜像窃取宿主的 root 权限并造成危害
在某些容器运行时，容器内部的 root 用户与宿主上的 root 用户是同一个用户
宿主上的重要文件被 mount 到容器内，并被容器修改配置


即使在容器内部也应该权限隔离

123FROM ubuntuRUN user add AUSER A

User namespace
依赖 User namespace，任何容器内部的用户都会映射为宿主上的非 root 用户
默认关闭，因为会引入配置复杂性
系统不知道宿主用户与容器用户的映射关系，在 mount 文件时无法设置适当的权限



Rootless container
容器运行时以非 root 身份启动
即使容器被攻破，在宿主层面获得的用户权限也是非 root 用户
Docker 和其它容器运行时本身的后台 Daemon 需要以 root 身份运行，其它的用户容器才能以 rootless 身份运行
某些运行时，如 Podman，没有 Daemon 进程，也就完 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/02/01/cloud-native-foundation-k8s-federation/" title="Kubernetes - Federation"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/federation.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - Federation"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/02/01/cloud-native-foundation-k8s-federation/" title="Kubernetes - Federation">Kubernetes - Federation</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-31T16:06:25.000Z" title="Created 2023-02-01 00:06:25">2023-02-01</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/kubernetes/">Kubernetes</a></span></div><div class="content">跨地域
使用单一集群，可以管控多个地域的机器，底层网络需要打通



Service 优先级：zone &gt; region &gt; other



集群联邦必要性
单一集群的管理规模有上限
数据库存储
etcd 作为 Kubernetes 集群的后端存储数据库，对空间大小（8G）的要求比较苛刻


内存占用
Kubernetes 的 API Server 作为 API 网关，会缓存该集群的所有对象
其它的 Kubernetes Controller 也需要对监听的对象构建客户端缓存


控制器复杂度
Kubernetes 的一个业务流程由多个对象和控制器联动完成
随着对象数量的增长，控制器的处理耗时也会增长




单一计算节点的资源有上限
可量化资源：CPU、Memory 等
不可量化资源：端口数量（限制 Service NodePort）、进程数量等


故障域控制
集群规模越大，控制面组件出现故障时的影响范围越大
方案：将大规模的数据中心切成多个规模相对较小的集群，每个集群控制在一定规模


应用 HA
多数据中心部署来保障跨地域高可用


混合云
私有云 + 公有云



职责
跨集群同步资源 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/01/31/cloud-native-foundation-k8s-istio/" title="Kubernetes - Istio"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/k8s-istio.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - Istio"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/01/31/cloud-native-foundation-k8s-istio/" title="Kubernetes - Istio">Kubernetes - Istio</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-30T16:06:25.000Z" title="Created 2023-01-31 00:06:25">2023-01-31</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/kubernetes/">Kubernetes</a></span></div><div class="content">CRD
核心为 networking

12345678910111213141516171819202122$ istioctl versionclient version: 1.19.3control plane version: 1.19.3data plane version: 1.19.3 (2 proxies)$ k get crdNAME                                       CREATED ATauthorizationpolicies.security.istio.io    2022-12-27T02:58:37Zdestinationrules.networking.istio.io       2022-12-27T02:58:37Zenvoyfilters.networking.istio.io           2022-12-27T02:58:37Zgateways.networking.istio.io               2022-12-27T02:58:37Zistiooperators.install.istio.io    ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/01/30/cloud-native-foundation-k8s-envoy/" title="Kubernetes - Envoy"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/go-envoy.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - Envoy"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/01/30/cloud-native-foundation-k8s-envoy/" title="Kubernetes - Envoy">Kubernetes - Envoy</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-29T16:06:25.000Z" title="Created 2023-01-30 00:06:25">2023-01-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/kubernetes/">Kubernetes</a></span></div><div class="content">Kubernetes
Kubernetes 主要基于 Kernel 技术栈，缺少精细化的高级流量治理


Kubernetes 已有的流量治理能力：Service + Ingress
Service 在 L4，基于 Kernel 技术栈，无法实现精细化的高级流量管理
Ingress 在 L7，主要针对入站流量



架构演进单体

访问服务



微服务

业务代码一般会集成统一的 SDK，耦合了很多平台侧的能力


Service MeshSidecar
Service Instance 与 Sidecar Proxy 在同一个 Network Namespace，相当于一个 loopback，可以明文传输


能力下沉
通过 Sidecar 来实现微服务治理，业务部门更聚焦于业务逻辑



Istio特性
HTTP、gRPC、WebSocket、TCP 的自动负载均衡
通过丰富的路由规则实现重试、故障转移、故障注入，可以对流量行为进行细粒度控制
可插入的策略层和配置 API，支持访问控制、速率限制和配额
对出入集群入口和出口中的所有流量的自动度量指标、日志记录和跟踪
通过强大的基于身份的验证和授权，在集群 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/01/29/cloud-native-foundation-k8s-scaling/" title="Kubernetes - Scaling"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/image-20231223144041516.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - Scaling"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/01/29/cloud-native-foundation-k8s-scaling/" title="Kubernetes - Scaling">Kubernetes - Scaling</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-28T16:06:25.000Z" title="Created 2023-01-29 00:06:25">2023-01-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/kubernetes/">Kubernetes</a></span></div><div class="content">Aggregated APIServer


123456789101112131415161718192021222324$ k get apiservices.apiregistration.k8s.ioNAME                                   SERVICE                      AVAILABLE   AGEv1.                                    Local                        True        36dv1.admissionregistration.k8s.io        Local                        True        36dv1.apiextensions.k8s.io                Local                        True        36dv1.apps                                Local                        True     ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/01/28/cloud-native-foundation-k8s-helm/" title="Kubernetes - Helm"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/k8s-helm.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - Helm"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/01/28/cloud-native-foundation-k8s-helm/" title="Kubernetes - Helm">Kubernetes - Helm</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-27T16:06:25.000Z" title="Created 2023-01-28 00:06:25">2023-01-28</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/kubernetes/">Kubernetes</a></span></div><div class="content">特性
Helm Chart 是创建一个应用实例的必要的配置组，即 Spec 集合
配置信息被归类为模板和值，经过渲染后生成最终的对象
所有配置可以被打包进一个可以发布的对象中
Release 为一个特定配置的 Chart 的实例



组件
只有客户端，没有服务端

Client
本地 Chart 开发
管理 Repository
管理 Release
与 Library 交互
发送需要安装的 Chart
请求升级或者卸载存在的 Release



Library
负责与 API Server 交互


基于 Chart 和 Configuration 创建一个 Release
把 Chart 安装到 Kubernetes，并提供相应的 Release 对象
升级 + 卸载
采用 Kubernetes 存储所有配置信息 - 无需服务端

实践
开发

123456789101112131415161718$ h create myappCreating myapp$ tree myappmyapp├── Chart.yaml├── charts├── templates│   ├── NOTES.txt│  ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/01/27/cloud-native-foundation-k8s-operator/" title="Kubernetes - Operator"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/k8s-operators.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - Operator"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/01/27/cloud-native-foundation-k8s-operator/" title="Kubernetes - Operator">Kubernetes - Operator</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-26T16:06:25.000Z" title="Created 2023-01-27 00:06:25">2023-01-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/kubernetes/">Kubernetes</a></span></div><div class="content">应用接入应用容器化开销风险
Log Driver
Blocking mode
Non-Blocking mode


共享 Kernel
共享系统参数配置
进程数共享
fd 数共享
主机磁盘共享





资源监控应用视角
容器中看到的资源是主机资源


top
Java Runtime.availableProcessors()
cat &#x2F;proc&#x2F;cpuinfo
cat &#x2F;proc&#x2F;meminfo
df -k

影响应用
Java


Concurrent GC Thread
Heap Size
线程数不可控

判断规则
查询 /proc/1/cgroup 是否包含 kubepods 关键字 

12345678910111213141516171819202122232425262728293031323334$ cat /proc/1/cgroup12:cpuset:/11:devices:/init.scope10:blkio:/init.scope9:freezer:/8:net_cls,net_prio:/7:pids:/init.scope6:perf_ ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/01/26/go-foundation-pointer/" title="Go - Pointer"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/go-pointer.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go - Pointer"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/01/26/go-foundation-pointer/" title="Go - Pointer">Go - Pointer</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-25T16:06:25.000Z" title="Created 2023-01-26 00:06:25">2023-01-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/go/">Go</a></span></div><div class="content">指针类型
指针类型是依托某一类型而存在的
对于某一类型 T，以 T 为基类型的指针类型为 *T
unsafe.Pointer 不需要基类型，用于表示一个通用指针类型
任何指针类型和 unsafe.Pointer 可以相互显式转换



1234567type T struct&#123;&#125;func main() &#123;    var p *T    var p1 = unsafe.Pointer(p) // 任意指针类型 -&gt; unsafe.Pointer    p = (*T)(p1)               // unsafe.Pointer -&gt; 任意指针类型&#125;




如果指针类型变量没有被显式赋予初值，默认值为 nil

123456type T struct&#123;&#125;func main() &#123;    var p *T    println(p == nil) // true&#125;


给指针类型变量赋值

123var a int = 13var p *int = &amp;a               // &amp; 为 ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/#content-inner">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/51/#content-inner">51</a><a class="extend next" rel="next" href="/page/3/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">zhongmingmao</div><div class="author-info__description">Focus on Infrastructure.</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">510</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">148</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">69</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Things are always unexpected!</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/02/14/cloud-native-serverless-faas-web-ide/" title="FaaS - WebIDE"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://serverless-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/webide.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="FaaS - WebIDE"/></a><div class="content"><a class="title" href="/2023/02/14/cloud-native-serverless-faas-web-ide/" title="FaaS - WebIDE">FaaS - WebIDE</a><time datetime="2023-02-13T16:06:25.000Z" title="Created 2023-02-14 00:06:25">2023-02-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/02/13/cloud-native-serverless-faas-function-invoke/" title="FaaS - Function Invoke"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://serverless-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/faas-function-invoke.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="FaaS - Function Invoke"/></a><div class="content"><a class="title" href="/2023/02/13/cloud-native-serverless-faas-function-invoke/" title="FaaS - Function Invoke">FaaS - Function Invoke</a><time datetime="2023-02-12T16:06:25.000Z" title="Created 2023-02-13 00:06:25">2023-02-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/02/12/cloud-native-serverless-faas-runtime/" title="FaaS - Runtime"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://serverless-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/faas-runtime.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="FaaS - Runtime"/></a><div class="content"><a class="title" href="/2023/02/12/cloud-native-serverless-faas-runtime/" title="FaaS - Runtime">FaaS - Runtime</a><time datetime="2023-02-11T16:06:25.000Z" title="Created 2023-02-12 00:06:25">2023-02-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/02/11/cloud-native-gateway-apisix/" title="APISIX - Doc"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://api-gateway-1253868755.cos.ap-guangzhou.myqcloud.com/apisix.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="APISIX - Doc"/></a><div class="content"><a class="title" href="/2023/02/11/cloud-native-gateway-apisix/" title="APISIX - Doc">APISIX - Doc</a><time datetime="2023-02-10T16:06:25.000Z" title="Created 2023-02-11 00:06:25">2023-02-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/02/10/cloud-native-serverless-faas-scaling/" title="FaaS - Scaling"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://serverless-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/image-20240318203921511.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="FaaS - Scaling"/></a><div class="content"><a class="title" href="/2023/02/10/cloud-native-serverless-faas-scaling/" title="FaaS - Scaling">FaaS - Scaling</a><time datetime="2023-02-09T16:06:25.000Z" title="Created 2023-02-10 00:06:25">2023-02-10</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            <a class="card-more-btn" href="/categories/" title="More">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/career/"><span class="card-category-list-name">Career</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/"><span class="card-category-list-name">Cloud Computing</span><span class="card-category-list-count">10</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/iaas/"><span class="card-category-list-name">IaaS</span><span class="card-category-list-count">5</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/paas/"><span class="card-category-list-name">PaaS</span><span class="card-category-list-count">5</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/"><span class="card-category-list-name">Cloud Native</span><span class="card-category-list-count">134</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/api-gateway/"><span class="card-category-list-name">API Gateway</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/cloud-native-foundation/"><span class="card-category-list-name">Cloud Native Foundation</span><span class="card-category-list-count">96</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/cloud-native-foundation/container/"><span class="card-category-list-name">Container</span><span class="card-category-list-count">2</span></a></li></ul></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/cloud-computing/" style="font-size: 1.24em; color: rgb(33, 28, 116)">Cloud Computing</a><a href="/tags/paas/" style="font-size: 1.19em; color: rgb(74, 187, 195)">PaaS</a><a href="/tags/iaas/" style="font-size: 1.19em; color: rgb(12, 150, 10)">IaaS</a><a href="/tags/cloud-native/" style="font-size: 1.45em; color: rgb(190, 85, 199)">Cloud Native</a><a href="/tags/kubernetes/" style="font-size: 1.43em; color: rgb(37, 156, 66)">Kubernetes</a><a href="/tags/devops/" style="font-size: 1.18em; color: rgb(85, 47, 53)">DevOps</a><a href="/tags/container/" style="font-size: 1.27em; color: rgb(37, 61, 60)">Container</a><a href="/tags/docker/" style="font-size: 1.29em; color: rgb(165, 138, 146)">Docker</a><a href="/tags/go-core/" style="font-size: 1.17em; color: rgb(154, 63, 123)">Go Core</a><a href="/tags/go/" style="font-size: 1.42em; color: rgb(153, 194, 79)">Go</a><a href="/tags/go-engineering/" style="font-size: 1.3em; color: rgb(118, 158, 75)">Go Engineering</a><a href="/tags/rpc/" style="font-size: 1.16em; color: rgb(61, 39, 97)">RPC</a><a href="/tags/grpc/" style="font-size: 1.15em; color: rgb(148, 5, 95)">gRPC</a><a href="/tags/network/" style="font-size: 1.16em; color: rgb(16, 102, 91)">Network</a><a href="/tags/cloud-native-foundation/" style="font-size: 1.33em; color: rgb(130, 0, 10)">Cloud Native Foundation</a><a href="/tags/linux/" style="font-size: 1.28em; color: rgb(38, 128, 87)">Linux</a><a href="/tags/dockerfile/" style="font-size: 1.17em; color: rgb(81, 72, 20)">Dockerfile</a><a href="/tags/service-mesh/" style="font-size: 1.18em; color: rgb(34, 9, 156)">Service Mesh</a><a href="/tags/microservices/" style="font-size: 1.28em; color: rgb(127, 93, 49)">Microservices</a><a href="/tags/spring-cloud/" style="font-size: 1.21em; color: rgb(6, 115, 27)">Spring Cloud</a><a href="/tags/spring/" style="font-size: 1.25em; color: rgb(125, 79, 30)">Spring</a><a href="/tags/java/" style="font-size: 1.44em; color: rgb(101, 59, 56)">Java</a><a href="/tags/service-governance/" style="font-size: 1.17em; color: rgb(25, 200, 50)">Service Governance</a><a href="/tags/opa/" style="font-size: 1.21em; color: rgb(71, 188, 121)">OPA</a><a href="/tags/alibaba/" style="font-size: 1.23em; color: rgb(79, 122, 82)">Alibaba</a><a href="/tags/security/" style="font-size: 1.27em; color: rgb(30, 126, 25)">Security</a><a href="/tags/compliance/" style="font-size: 1.17em; color: rgb(112, 145, 28)">Compliance</a><a href="/tags/infrastructure/" style="font-size: 1.31em; color: rgb(33, 120, 65)">Infrastructure</a><a href="/tags/architecture/" style="font-size: 1.32em; color: rgb(21, 196, 12)">Architecture</a><a href="/tags/serverless/" style="font-size: 1.22em; color: rgb(49, 172, 79)">Serverless</a><a href="/tags/faas/" style="font-size: 1.22em; color: rgb(141, 17, 138)">FaaS</a><a href="/tags/computer-basics/" style="font-size: 1.35em; color: rgb(167, 36, 160)">Computer Basics</a><a href="/tags/computer-organization/" style="font-size: 1.35em; color: rgb(66, 189, 118)">Computer Organization</a><a href="/tags/knowledge-map/" style="font-size: 1.15em; color: rgb(73, 152, 112)">Knowledge Map</a><a href="/tags/tool/" style="font-size: 1.24em; color: rgb(196, 56, 124)">Tool</a><a href="/tags/git/" style="font-size: 1.24em; color: rgb(19, 136, 23)">Git</a><a href="/tags/cloud/" style="font-size: 1.36em; color: rgb(63, 111, 67)">Cloud</a><a href="/tags/native/" style="font-size: 1.36em; color: rgb(181, 115, 10)">Native</a><a href="/tags/authentication/" style="font-size: 1.17em; color: rgb(97, 88, 27)">Authentication</a><a href="/tags/ldap/" style="font-size: 1.15em; color: rgb(7, 185, 185)">LDAP</a><a href="/tags/oauth-2-0/" style="font-size: 1.21em; color: rgb(30, 1, 159)">OAuth 2.0</a><a href="/tags/storage/" style="font-size: 1.4em; color: rgb(9, 163, 59)">Storage</a><a href="/tags/mysql/" style="font-size: 1.41em; color: rgb(85, 115, 99)">MySQL</a><a href="/tags/innodb/" style="font-size: 1.2em; color: rgb(100, 134, 160)">InnoDB</a><a href="/tags/java-concurrent/" style="font-size: 1.38em; color: rgb(79, 185, 83)">Java Concurrent</a><a href="/tags/actor/" style="font-size: 1.15em; color: rgb(70, 188, 5)">Actor</a><a href="/tags/akka/" style="font-size: 1.15em; color: rgb(88, 159, 193)">Akka</a><a href="/tags/coroutine/" style="font-size: 1.16em; color: rgb(9, 86, 56)">Coroutine</a><a href="/tags/csp/" style="font-size: 1.15em; color: rgb(135, 56, 7)">CSP</a><a href="/tags/disruptor/" style="font-size: 1.15em; color: rgb(112, 32, 134)">Disruptor</a><a href="/tags/netty/" style="font-size: 1.15em; color: rgb(80, 75, 144)">Netty</a><a href="/tags/stm/" style="font-size: 1.15em; color: rgb(126, 190, 195)">STM</a><a href="/tags/mvcc/" style="font-size: 1.15em; color: rgb(134, 9, 11)">MVCC</a><a href="/tags/java-core/" style="font-size: 1.21em; color: rgb(79, 75, 65)">Java Core</a><a href="/tags/java-performance/" style="font-size: 1.34em; color: rgb(165, 71, 66)">Java Performance</a><a href="/tags/cas/" style="font-size: 1.15em; color: rgb(181, 99, 97)">CAS</a><a href="/tags/hashtable/" style="font-size: 1.15em; color: rgb(194, 34, 173)">HashTable</a><a href="/tags/concurrenthashmap/" style="font-size: 1.15em; color: rgb(156, 179, 107)">ConcurrentHashMap</a><a href="/tags/concurrentskiplistmap/" style="font-size: 1.15em; color: rgb(196, 136, 73)">ConcurrentSkipListMap</a><a href="/tags/design-pattern/" style="font-size: 1.18em; color: rgb(50, 88, 164)">Design Pattern</a><a href="/tags/consistency/" style="font-size: 1.15em; color: rgb(170, 194, 28)">Consistency</a><a href="/tags/hashmap/" style="font-size: 1.15em; color: rgb(5, 56, 98)">HashMap</a><a href="/tags/jvm/" style="font-size: 1.37em; color: rgb(153, 149, 101)">JVM</a><a href="/tags/gc/" style="font-size: 1.16em; color: rgb(90, 187, 138)">GC</a><a href="/tags/io/" style="font-size: 1.15em; color: rgb(134, 84, 31)">IO</a><a href="/tags/nio/" style="font-size: 1.16em; color: rgb(117, 27, 51)">NIO</a><a href="/tags/aio/" style="font-size: 1.16em; color: rgb(199, 176, 12)">AIO</a><a href="/tags/epoll/" style="font-size: 1.16em; color: rgb(173, 37, 11)">Epoll</a><a href="/tags/jit/" style="font-size: 1.15em; color: rgb(90, 41, 28)">JIT</a><a href="/tags/synchronized/" style="font-size: 1.16em; color: rgb(109, 143, 13)">synchronized</a><a href="/tags/lock/" style="font-size: 1.15em; color: rgb(112, 151, 31)">Lock</a><a href="/tags/reentrantreadwritelock/" style="font-size: 1.15em; color: rgb(97, 78, 172)">ReentrantReadWriteLock</a><a href="/tags/stampedlock/" style="font-size: 1.15em; color: rgb(32, 103, 185)">StampedLock</a><a href="/tags/serialization/" style="font-size: 1.15em; color: rgb(91, 137, 118)">Serialization</a><a href="/tags/protobuf/" style="font-size: 1.15em; color: rgb(73, 57, 162)">ProtoBuf</a><a href="/tags/java-stream/" style="font-size: 1.15em; color: rgb(149, 127, 185)">Java Stream</a><a href="/tags/mark-word/" style="font-size: 1.15em; color: rgb(130, 145, 117)">Mark Word</a><a href="/tags/monitor/" style="font-size: 1.15em; color: rgb(53, 181, 13)">Monitor</a><a href="/tags/thread-pool/" style="font-size: 1.15em; color: rgb(46, 6, 158)">Thread Pool</a><a href="/tags/context-switch/" style="font-size: 1.15em; color: rgb(145, 25, 14)">Context Switch</a><a href="/tags/lambda/" style="font-size: 1.15em; color: rgb(138, 7, 174)">Lambda</a><a href="/tags/bytecode-manipulation/" style="font-size: 1.17em; color: rgb(73, 25, 190)">Bytecode Manipulation</a><a href="/tags/asm/" style="font-size: 1.15em; color: rgb(39, 49, 185)">ASM</a><a href="/tags/jol/" style="font-size: 1.17em; color: rgb(185, 56, 25)">JOL</a><a href="/tags/middleware/" style="font-size: 1.39em; color: rgb(124, 22, 20)">Middleware</a><a href="/tags/mq/" style="font-size: 1.39em; color: rgb(181, 122, 67)">MQ</a><a href="/tags/kafka/" style="font-size: 1.39em; color: rgb(13, 66, 62)">Kafka</a><a href="/tags/stream/" style="font-size: 1.39em; color: rgb(146, 173, 40)">Stream</a><a href="/tags/avro/" style="font-size: 1.18em; color: rgb(15, 54, 167)">Avro</a><a href="/tags/rebalance/" style="font-size: 1.17em; color: rgb(45, 139, 182)">Rebalance</a><a href="/tags/compression/" style="font-size: 1.15em; color: rgb(160, 188, 184)">Compression</a><a href="/tags/consumer-group/" style="font-size: 1.15em; color: rgb(69, 120, 52)">Consumer Group</a><a href="/tags/tcp/" style="font-size: 1.16em; color: rgb(133, 70, 25)">TCP</a><a href="/tags/idempotence/" style="font-size: 1.15em; color: rgb(146, 6, 124)">Idempotence</a><a href="/tags/producer/" style="font-size: 1.15em; color: rgb(24, 42, 142)">Producer</a><a href="/tags/load-balance/" style="font-size: 1.15em; color: rgb(159, 99, 59)">Load Balance</a><a href="/tags/distributed-architecture/" style="font-size: 1.15em; color: rgb(132, 83, 169)">Distributed Architecture</a><a href="/tags/distributed-design-pattern/" style="font-size: 1.17em; color: rgb(142, 109, 115)">Distributed Design Pattern</a><a href="/tags/career/" style="font-size: 1.15em; color: rgb(130, 137, 30)">Career</a><a href="/tags/linux-performance/" style="font-size: 1.17em; color: rgb(125, 123, 184)">Linux Performance</a><a href="/tags/linux-practice/" style="font-size: 1.26em; color: rgb(122, 97, 39)">Linux Practice</a><a href="/tags/ext4/" style="font-size: 1.15em; color: rgb(74, 23, 178)">ext4</a><a href="/tags/file-system/" style="font-size: 1.15em; color: rgb(157, 160, 75)">File System</a><a href="/tags/math/" style="font-size: 1.16em; color: rgb(119, 173, 146)">Math</a><a href="/tags/microservices-governance/" style="font-size: 1.23em; color: rgb(161, 58, 132)">Microservices Governance</a><a href="/tags/config/" style="font-size: 1.17em; color: rgb(40, 104, 6)">Config</a><a href="/tags/configuration-center/" style="font-size: 1.17em; color: rgb(33, 29, 64)">Configuration Center</a><a href="/tags/apollo/" style="font-size: 1.17em; color: rgb(45, 36, 3)">Apollo</a><a href="/tags/oauth2/" style="font-size: 1.2em; color: rgb(198, 30, 170)">Oauth2</a><a href="/tags/spring-security/" style="font-size: 1.19em; color: rgb(18, 136, 193)">Spring Security</a><a href="/tags/spring-security-oauth2/" style="font-size: 1.19em; color: rgb(143, 150, 114)">Spring Security OAuth2</a><a href="/tags/vim/" style="font-size: 1.2em; color: rgb(23, 169, 151)">Vim</a><a href="/tags/web/" style="font-size: 1.21em; color: rgb(85, 164, 91)">Web</a><a href="/tags/javascript/" style="font-size: 1.19em; color: rgb(58, 88, 195)">JavaScript</a><a href="/tags/zookeeper/" style="font-size: 1.16em; color: rgb(130, 119, 62)">Zookeeper</a><a href="/tags/distributed-lock/" style="font-size: 1.15em; color: rgb(93, 99, 71)">Distributed Lock</a><a href="/tags/istio/" style="font-size: 1.17em; color: rgb(4, 33, 144)">Istio</a><a href="/tags/jwt/" style="font-size: 1.15em; color: rgb(13, 90, 114)">JWT</a><a href="/tags/bio/" style="font-size: 1.15em; color: rgb(198, 187, 75)">BIO</a><a href="/tags/tomcat/" style="font-size: 1.15em; color: rgb(129, 196, 50)">Tomcat</a><a href="/tags/select/" style="font-size: 1.15em; color: rgb(128, 128, 56)">Select</a><a href="/tags/poll/" style="font-size: 1.15em; color: rgb(137, 16, 92)">Poll</a><a href="/tags/zero-copy/" style="font-size: 1.15em; color: rgb(66, 65, 69)">Zero Copy</a><a href="/tags/mmap/" style="font-size: 1.15em; color: rgb(152, 33, 161)">mmap</a><a href="/tags/reactor/" style="font-size: 1.15em; color: rgb(143, 77, 0)">Reactor</a><a href="/tags/zab/" style="font-size: 1.15em; color: rgb(68, 120, 64)">ZAB</a><a href="/tags/etcd/" style="font-size: 1.15em; color: rgb(180, 86, 190)">etcd</a><a href="/tags/raft/" style="font-size: 1.15em; color: rgb(200, 41, 74)">raft</a><a href="/tags/iac/" style="font-size: 1.15em; color: rgb(130, 179, 179)">IaC</a><a href="/tags/terraform/" style="font-size: 1.15em; color: rgb(66, 42, 84)">Terraform</a><a href="/tags/crossplane/" style="font-size: 1.15em; color: rgb(82, 157, 35)">Crossplane</a><a href="/tags/pulumi/" style="font-size: 1.15em; color: rgb(66, 22, 49)">Pulumi</a><a href="/tags/argo-cd/" style="font-size: 1.15em; color: rgb(150, 110, 199)">Argo CD</a><a href="/tags/vpc/" style="font-size: 1.15em; color: rgb(3, 141, 139)">VPC</a><a href="/tags/helm/" style="font-size: 1.15em; color: rgb(182, 13, 199)">Helm</a><a href="/tags/runc/" style="font-size: 1.15em; color: rgb(122, 75, 198)">runc</a><a href="/tags/kustomize/" style="font-size: 1.15em; color: rgb(178, 127, 37)">Kustomize</a><a href="/tags/oci/" style="font-size: 1.15em; color: rgb(18, 8, 124)">OCI</a><a href="/tags/buildkit/" style="font-size: 1.15em; color: rgb(124, 10, 60)">BuildKit</a><a href="/tags/crane/" style="font-size: 1.15em; color: rgb(27, 52, 80)">crane</a><a href="/tags/oci-image/" style="font-size: 1.15em; color: rgb(184, 32, 109)">OCI Image</a><a href="/tags/oci-runtime/" style="font-size: 1.15em; color: rgb(152, 181, 20)">OCI Runtime</a><a href="/tags/linux-namespace/" style="font-size: 1.15em; color: rgb(180, 161, 14)">Linux Namespace</a><a href="/tags/linux-cgroup/" style="font-size: 1.15em; color: rgb(10, 82, 37)">Linux CGroup</a><a href="/tags/k8s-manifest/" style="font-size: 1.15em; color: rgb(68, 112, 96)">K8S Manifest</a><a href="/tags/performance-tuning/" style="font-size: 1.15em; color: rgb(58, 40, 84)">Performance Tuning</a><a href="/tags/api-gateway/" style="font-size: 1.15em; color: rgb(74, 30, 52)">API Gateway</a><a href="/tags/apisix/" style="font-size: 1.15em; color: rgb(97, 79, 157)">APISIX</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span><a class="card-more-btn" href="/archives/" title="More">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/02/"><span class="card-archive-list-date">February 2023</span><span class="card-archive-list-count">14</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/01/"><span class="card-archive-list-date">January 2023</span><span class="card-archive-list-count">31</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/12/"><span class="card-archive-list-date">December 2022</span><span class="card-archive-list-count">31</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/11/"><span class="card-archive-list-date">November 2022</span><span class="card-archive-list-count">8</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/10/"><span class="card-archive-list-date">October 2022</span><span class="card-archive-list-count">31</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/09/"><span class="card-archive-list-date">September 2022</span><span class="card-archive-list-count">15</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/07/"><span class="card-archive-list-date">July 2022</span><span class="card-archive-list-count">18</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/05/"><span class="card-archive-list-date">May 2022</span><span class="card-archive-list-count">15</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">510</div></div><div class="webinfo-item"><div class="item-name">Run time :</div><div class="item-count" id="runtimeshow" data-publishDate="2015-06-30T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Total Count :</div><div class="item-count">950.6k</div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-04-10T15:12:02.046Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.pixabay.com/photo/2018/08/27/15/17/fishing-3635221_1280.png')"><div id="footer-wrap"><div class="copyright">&copy;2015 - 2024 By zhongmingmao</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Life is like a box of chocolates. You can't know what you'll eat until you open it.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["Stay hungry, stay foolish."])
  } else {
    document.getElementById("subtitle").innerHTML = 'Stay hungry, stay foolish.'
  }
}
typedJSFn.run(subtitleType)</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></body></html>