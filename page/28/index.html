<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>ByteCoding</title><meta name="author" content="zhongmingmao"><meta name="copyright" content="zhongmingmao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="Focus on Infrastructure">
<meta property="og:type" content="website">
<meta property="og:title" content="ByteCoding">
<meta property="og:url" content="https://blog.zhongmingmao.top/page/28/index.html">
<meta property="og:site_name" content="ByteCoding">
<meta property="og:description" content="Focus on Infrastructure">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png">
<meta property="article:author" content="zhongmingmao">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="shortcut icon" href="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="canonical" href="https://blog.zhongmingmao.top/page/28/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":512,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":256},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":32,"languages":{"author":"Author: zhongmingmao","link":"Link: ","source":"Source: ByteCoding","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ByteCoding',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2025-07-27 16:38:51'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ByteCoding" type="application/atom+xml">
</head><body><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">622</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">189</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">80</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://cdn.pixabay.com/photo/2022/10/16/13/53/early-morning-7525151_1280.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="ByteCoding"><span class="site-name">ByteCoding</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">ByteCoding</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2022/05/03/cloud-native-foundation-go-engineering-foundation-cli/" title="Go Engineering - Foundation - CLI"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-16.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Foundation - CLI"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/03/cloud-native-foundation-go-engineering-foundation-cli/" title="Go Engineering - Foundation - CLI">Go Engineering - Foundation - CLI</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-05-02T16:06:25.000Z" title="Created 2022-05-03 00:06:25">2022-05-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/go-engineering/">Go Engineering</a></span></div><div class="content">CLI
Cobra 很好地集成了 Pflag 和 Viper




工具包
用途



Pflag
命令行参数解析


Viper
配置文件解析


Cobra
命令行框架


Pflag
Pflag 通过创建 Flag 和 FlagSet 来使用，使用 Pflag 的开源项目：Kubernetes、Istio、Helm、Docker、Etcd

Flag
一个命令行参数会被解析成一个 Flag 类型的变量



1234567891011121314// A Flag represents the state of a flag.type Flag struct &#123;    Name                string              // name as it appears on command line    Shorthand           string              // one-letter abbreviated flag    Usage               string              // help message    V ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/05/02/cloud-native-foundation-go-engineering-foundation-log-package/" title="Go Engineering - Foundation - Log - Package"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-6.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Foundation - Log - Package"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/02/cloud-native-foundation-go-engineering-foundation-log-package/" title="Go Engineering - Foundation - Log - Package">Go Engineering - Foundation - Log - Package</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-05-01T16:06:25.000Z" title="Created 2022-05-02 00:06:25">2022-05-02</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/go-engineering/">Go Engineering</a></span></div><div class="content">开源日志包标准库 log 包
标准库自带，无需安装


只提供 Print、Panic、Fatal 函数用于日志输出
Go 标准库大量使用了该 log 包

glog
Kubernetes 使用的 klog 是基于 glog 进行封装


Google 推出的轻量级日志包
特性
支持 4 种日志级别： Info、Warning、Error、Fatal
支持命令行选项
支持根据文件大小切割日志文件
支持日志按级别分类输出
支持 V level – 开发者自定义日志级别
支持 vmodule – 开发者对不同的文件使用不同的日志级别
支持 traceLocation – 打印指定位置的栈信息





logrus
Github star 数量最多的日志包，Docker 和 Prometheus 也在使用 logrus


支持常用的日志级别
可扩展：允许使用者通过 Hook 的方式，将日志分发到任意地方
支持自定义的日志格式：内置支持 JSON 和 TEXT
结构化日志记录：Field 机制允许使用者自定义字段
预设日志字段：Default Field 机制，可以给一部分或者全部日志统一添加共同的日志字段
Fa ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/05/01/cloud-native-foundation-go-engineering-foundation-log-design/" title="Go Engineering - Foundation - Log - Design"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-11.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Foundation - Log - Design"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/01/cloud-native-foundation-go-engineering-foundation-log-design/" title="Go Engineering - Foundation - Log - Design">Go Engineering - Foundation - Log - Design</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-04-30T18:06:25.000Z" title="Created 2022-05-01 02:06:25">2022-05-01</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/go-engineering/">Go Engineering</a></span></div><div class="content">功能需求基础功能
支持基本的日志信息：时间戳、文件名、行号、日志级别、日志内容
支持不同的日志级别：Trace（可选）、Debug、Info、Warn、Error、Panic（可选）、Fatal
期望级别：glog.Info(&quot;This is info message&quot;)
开关级别：glog -v=4，只有日志级别高于等于 4 的日志才会被打印


支持自定义配置：不同的运行环境，需要不同的日志输出配置，在不重新编译代码的情况下，改变记录日志的行为
支持输出到标准输出（实时读取）和本地文件（采集索引）




高级功能
支持多种日志格式：TEXT、JSON
按日志级别分类输出：至少 Error 级别的日志输出到独立的文件中
支持结构化日志：使用 JSON 或者其它编码方式使日志结构化
支持日志轮转：借助 Linux Logrotate 来完成，不在日志包中实现
具备 Hook 能力
例如：当 Error 级别的日志产生时，发送邮件或者调用告警接口进行告警
日志告警的最佳方案：通过旁路功能，将日志采集到第三方组件（如 ES），日志包功能应尽量内聚



1234567891011121314 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/05/01/cloud-native-foundation-go-engineering-foundation-error-package/" title="Go Engineering - Foundation - Error - Package"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-14.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Foundation - Error - Package"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/01/cloud-native-foundation-go-engineering-foundation-error-package/" title="Go Engineering - Foundation - Error - Package">Go Engineering - Foundation - Error - Package</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-04-30T17:06:25.000Z" title="Created 2022-05-01 01:06:25">2022-05-01</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/go-engineering/">Go Engineering</a></span></div><div class="content">功能需求
支持错误堆栈
支持不同的打印格式，例如 %+v、%v、%s 等
支持 Wrap&#x2F;Unwrap 功能：在已有 error 的基础上，追加一些新的信息
errors.Wrap(err, &quot;open file failed&quot;)
调用 Wrap 时，会生成一个错误堆栈节点


支持 Is 方法：判断某个 error 是否为指定的 error
Go 1.13 之前，并没有 wrapping error
if err == os.ErrNotExist &#123;&#125;


有 wrapping error 后，直接用 == 判断会有问题，因为可能是 wrapping error
func Is(err, target error) bool
err 和 target 是同一个
当 err 是 wrapping error 时，target 包含在这个嵌套 error 链中






支持 As 函数
Go 1.13 之前，并没有 wrapping error，可以使用 type assertion 或者 type switch
if perr, ok := err.(* ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/05/01/cloud-native-foundation-go-engineering-foundation-error-code/" title="Go Engineering - Foundation - Error - Code"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-5.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Foundation - Error - Code"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/01/cloud-native-foundation-go-engineering-foundation-error-code/" title="Go Engineering - Foundation - Error - Code">Go Engineering - Foundation - Error - Code</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-04-30T16:06:25.000Z" title="Created 2022-05-01 00:06:25">2022-05-01</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/go-engineering/">Go Engineering</a></span></div><div class="content">设计方式
场景：用户账号没有找到

200
HTTP Code 通常代表的是 HTTP Transport 层的状态信息；但对性能有一定的影响，因为需要解析 HTTP Body

12345678&#123;  &quot;error&quot;: &#123;    &quot;message&quot;: &quot;Syntax error \&quot;Field picture specified more than once. This is only possible before version 2.1\&quot; at character 23: id,name,picture,picture&quot;,    &quot;type&quot;: &quot;OAuthException&quot;,    &quot;code&quot;: 2500,    &quot;fbtrace_id&quot;: &quot;xxxxxxxxxxx&quot;  &#125;&#125;



4xx + 简单信息
可以让客户端快速感知请求失败，但提供的信息过于简单，不能准确地定位问题

12 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/04/30/cloud-native-foundation-go-engineering-foundation-api-doc/" title="Go Engineering - Foundation - API Doc"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-20.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Foundation - API Doc"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/30/cloud-native-foundation-go-engineering-foundation-api-doc/" title="Go Engineering - Foundation - API Doc">Go Engineering - Foundation - API Doc</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-04-29T18:06:25.000Z" title="Created 2022-04-30 02:06:25">2022-04-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/go-engineering/">Go Engineering</a></span></div><div class="content">Swagger
Swagger 是一套围绕 OpenAPI 规范构建的开源工具，可以设计、构建、编写和使用 REST API
Swagger 工具
Swagger Editor
基于浏览器的编辑器，可以在其中编写 OpenAPI 规范，并实时预览 API 文档


Swagger UI
将 OpenAPI 规范呈现为交互式的 API 文档，并可以在浏览器中尝试 API 调用


Swagger Codegen
根据 OpenAPI 规范，生成服务器存根和客户端代码库







Swagger vs OpenAPI
OpenAPI 是一个 API 规范，前身也叫 Swagger 规范
通过定义一种用来描述 API 格式或者 API 定义的语言，来规范 RESTful 服务开发过程
目前最新的 OpenAPI 规范是 OpenAPI 3.0 （即 Swagger 2.0）


OpenAPI 规范定义了一个 API 必须包含的基本信息
描述、路径和操作、输入输出参数、验证方法等


OpenAPI 是一个 API 规范，而 Swagger 是实现规范的工具

go-swagger特性
基于代码注释自动生成 S ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/04/30/cloud-native-foundation-go-engineering-foundation-linting/" title="Go Engineering - Foundation - Linting"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-21.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Foundation - Linting"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/30/cloud-native-foundation-go-engineering-foundation-linting/" title="Go Engineering - Foundation - Linting">Go Engineering - Foundation - Linting</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-04-29T17:06:25.000Z" title="Created 2022-04-30 01:06:25">2022-04-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/go-engineering/">Go Engineering</a></span></div><div class="content">golangci-lint 优点
速度快
基于 gometalinter 开发，平均速度比 gometalinter 快 5 倍
并行检查代码 + 复用 go build 缓存 + 缓存分析结果


可配置
支持 YAML 格式的配置文件


IDE 集成
VS Code + Goland


Linter 聚合器
集成了很多 Linter，无需单独安装，并且支持自定义 Linter


最小误报数
调整了所集成的 Linter 的默认设置，大幅减少误报


良好的输出
检查出问题的源码文件、行号和错误行内容
不符合检查规则的原因
报错的 Linter


更迭速度快
不断有新的 Linter 被集成进来
使用者：Google、Facebook、Istio、Red Hat OpenShift 等






golangci-lint 命令
cache123456789$ golangci-lint cache statusDir: /Users/zhongmingmao/Library/Caches/golangci-lintSize: 1.9MiB$ golangci-lint cache clean$  ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/04/30/cloud-native-foundation-go-engineering-foundation-rd/" title="Go Engineering - Foundation - RD"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-14.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Foundation - RD"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/30/cloud-native-foundation-go-engineering-foundation-rd/" title="Go Engineering - Foundation - RD">Go Engineering - Foundation - RD</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-04-29T16:06:25.000Z" title="Created 2022-04-30 00:06:25">2022-04-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/go-engineering/">Go Engineering</a></span></div><div class="content">功能需求
为 iamctl 新增 helloworld 命令，该命令向终端打印 hello world

开发阶段代码开发
选择 Git Flow：适用于大型非开源项目




创建分支
基于 develop 分支，新建一个功能分支 feature&#x2F;helloworld

1$ git checkout -b feature/helloworld develop

branch 名要符合 Git Flow 的分支命名规范，会通过 pre-commit 的 githook 来确保分支名符合规范
123$ md5 ./githooks/pre-commit ./.git/hooks/pre-commitMD5 (./githooks/pre-commit) = 3324d20a738461f3b6347f9ce7dae6b6MD5 (./.git/hooks/pre-commit) = 3324d20a738461f3b6347f9ce7dae6b6

./.git/hooks/pre-commit123456789101112131415161718#!/usr/bin/env bashLC_ALL= ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/04/23/cloud-native-foundation-go-engineering-foundation-makefile/" title="Go Engineering - Foundation - Makefile"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-5.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Foundation - Makefile"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/23/cloud-native-foundation-go-engineering-foundation-makefile/" title="Go Engineering - Foundation - Makefile">Go Engineering - Foundation - Makefile</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-04-22T16:06:25.000Z" title="Created 2022-04-23 00:06:25">2022-04-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/go-engineering/">Go Engineering</a></span></div><div class="content">使用
先编写 Makefile 文件，指定整个项目的编译规则，然后通过 Linux make 命令来解析该 Makefile 文件，实现自动化
默认情况下，make 命令会在当前目录下，按照 GNUmakefile、makefile、Makefile（推荐）的顺序查找
make -f golang.mk 或者 make --file golang.mk



规则
规则一般由目标、依赖和命令组成，用来指定源文件编译的先后顺序
Makefile 规则可以自动判断是否需要重新编译某个目标，从而确保目标仅在需要时编译

规则语法
主要包括：target、prerequisites 和 command

1234target ...: prerequisites ...    command      ...      ...




target
可以是一个 object file，也可以是一个执行文件，还可以是一个标签
可以使用通配符，当有多个目标时，使用空格分隔


prerequisites：代表生成该 target 所需要的依赖项，当有多个依赖项时，使用空格分隔
command：代表该 target 要执行 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/04/16/cloud-native-foundation-go-engineering-foundation-api-rpc/" title="Go Engineering - Foundation - API - RPC"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-21.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Foundation - API - RPC"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/16/cloud-native-foundation-go-engineering-foundation-api-rpc/" title="Go Engineering - Foundation - API - RPC">Go Engineering - Foundation - API - RPC</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-04-15T19:06:25.000Z" title="Created 2022-04-16 03:06:25">2022-04-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/go-engineering/">Go Engineering</a></span></div><div class="content">RPC



Client 通过本地调用，调用 Client Stub
Client Stub 将参数打包（Marshalling）成一个消息，然后发送这个消息
Client 所在的 OS 将消息发送给 Server
Server 接收到消息后，将消息传递给 Server Stub（或者 Server Skeleton）
Server Stub 将消息解包（Unmarshalling）后得到消息
Server Stub 调用服务端的子程序，处理完成后，将最终结果按照相反的步骤返回给 Client


gRPC概述
gRPC：google Remote Procedure Call
gRPC 是由 Google 开发的高性能、开源、跨语言的通用 RPC 框架，基于 HTTP 2.0，默认使用 Protocol Buffers 序列化
gRPC 的特点
支持多语言
基于 IDL（Interface Definition Language）文件定义服务
通过 proto3 生成指定语言的数据结构、服务端接口和客户端 Stub


通信协议基于标准的 HTTP&#x2F;2，支持特性：双向流、消息头压缩、单 TCP  ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/27/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/27/#content-inner">27</a><span class="page-number current">28</span><a class="page-number" href="/page/29/#content-inner">29</a><span class="space">&hellip;</span><a class="page-number" href="/page/63/#content-inner">63</a><a class="extend next" rel="next" href="/page/29/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">zhongmingmao</div><div class="author-info__description">Focus on Infrastructure.</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">622</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">189</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">80</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Things are always unexpected!</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/01/04/cloud-native-observability-opentelemetry-go/" title="Observability - OpenTelemetry Go"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://observability-1253868755.cos.ap-guangzhou.myqcloud.com/o11y-otel-go.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Observability - OpenTelemetry Go"/></a><div class="content"><a class="title" href="/2025/01/04/cloud-native-observability-opentelemetry-go/" title="Observability - OpenTelemetry Go">Observability - OpenTelemetry Go</a><time datetime="2025-01-03T16:06:25.000Z" title="Created 2025-01-04 00:06:25">2025-01-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/03/cloud-native-observability-opentelemetry-js/" title="Observability - OpenTelemetry Node.js"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://observability-1253868755.cos.ap-guangzhou.myqcloud.com/Nodejs-Instrumentation-OpenTelemetry.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Observability - OpenTelemetry Node.js"/></a><div class="content"><a class="title" href="/2025/01/03/cloud-native-observability-opentelemetry-js/" title="Observability - OpenTelemetry Node.js">Observability - OpenTelemetry Node.js</a><time datetime="2025-01-02T16:06:25.000Z" title="Created 2025-01-03 00:06:25">2025-01-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/02/cloud-native-observability-opentelemetry-doc-v2/" title="Observability - OpenTelemetry Doc V2"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://observability-1253868755.cos.ap-guangzhou.myqcloud.com/otel-beelines.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Observability - OpenTelemetry Doc V2"/></a><div class="content"><a class="title" href="/2025/01/02/cloud-native-observability-opentelemetry-doc-v2/" title="Observability - OpenTelemetry Doc V2">Observability - OpenTelemetry Doc V2</a><time datetime="2025-01-01T16:06:25.000Z" title="Created 2025-01-02 00:06:25">2025-01-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/01/cloud-native-observability-opentelemetry-doc-v1/" title="Observability - OpenTelemetry Doc V1"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://observability-1253868755.cos.ap-guangzhou.myqcloud.com/opentelemetry.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Observability - OpenTelemetry Doc V1"/></a><div class="content"><a class="title" href="/2025/01/01/cloud-native-observability-opentelemetry-doc-v1/" title="Observability - OpenTelemetry Doc V1">Observability - OpenTelemetry Doc V1</a><time datetime="2024-12-31T16:06:25.000Z" title="Created 2025-01-01 00:06:25">2025-01-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/10/18/ebpf-principle/" title="eBPF - Principle"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ebpf-1253868755.cos.ap-guangzhou.myqcloud.com/ebpf-principle.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="eBPF - Principle"/></a><div class="content"><a class="title" href="/2024/10/18/ebpf-principle/" title="eBPF - Principle">eBPF - Principle</a><time datetime="2024-10-17T16:06:25.000Z" title="Created 2024-10-18 00:06:25">2024-10-18</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            <a class="card-more-btn" href="/categories/" title="More">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/"><span class="card-category-list-name">AI</span><span class="card-category-list-count">34</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/llm/"><span class="card-category-list-name">LLM</span><span class="card-category-list-count">16</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/rag/"><span class="card-category-list-name">RAG</span><span class="card-category-list-count">18</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/big-data/"><span class="card-category-list-name">Big Data</span><span class="card-category-list-count">26</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/big-data/beam/"><span class="card-category-list-name">Beam</span><span class="card-category-list-count">13</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/big-data/spark/"><span class="card-category-list-name">Spark</span><span class="card-category-list-count">6</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/career/"><span class="card-category-list-name">Career</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/"><span class="card-category-list-name">Cloud Computing</span><span class="card-category-list-count">10</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/big-data/" style="font-size: 1.32em; color: rgb(143, 173, 4)">Big Data</a><a href="/tags/beam/" style="font-size: 1.25em; color: rgb(116, 171, 9)">Beam</a><a href="/tags/spark/" style="font-size: 1.19em; color: rgb(129, 11, 182)">Spark</a><a href="/tags/flink/" style="font-size: 1.15em; color: rgb(48, 102, 165)">Flink</a><a href="/tags/mapreduce/" style="font-size: 1.15em; color: rgb(49, 8, 89)">MapReduce</a><a href="/tags/rdd/" style="font-size: 1.15em; color: rgb(15, 72, 64)">RDD</a><a href="/tags/cloud-computing/" style="font-size: 1.23em; color: rgb(105, 34, 110)">Cloud Computing</a><a href="/tags/iaas/" style="font-size: 1.19em; color: rgb(187, 152, 195)">IaaS</a><a href="/tags/paas/" style="font-size: 1.19em; color: rgb(155, 192, 44)">PaaS</a><a href="/tags/cloud-native/" style="font-size: 1.45em; color: rgb(42, 70, 197)">Cloud Native</a><a href="/tags/kubernetes/" style="font-size: 1.43em; color: rgb(51, 130, 9)">Kubernetes</a><a href="/tags/devops/" style="font-size: 1.18em; color: rgb(113, 147, 57)">DevOps</a><a href="/tags/container/" style="font-size: 1.26em; color: rgb(68, 0, 37)">Container</a><a href="/tags/docker/" style="font-size: 1.28em; color: rgb(5, 15, 124)">Docker</a><a href="/tags/go-core/" style="font-size: 1.17em; color: rgb(17, 165, 177)">Go Core</a><a href="/tags/go/" style="font-size: 1.42em; color: rgb(130, 173, 14)">Go</a><a href="/tags/cloud-native-foundation/" style="font-size: 1.33em; color: rgb(42, 37, 156)">Cloud Native Foundation</a><a href="/tags/go-engineering/" style="font-size: 1.34em; color: rgb(50, 112, 57)">Go Engineering</a><a href="/tags/swagger/" style="font-size: 1.15em; color: rgb(63, 22, 127)">Swagger</a><a href="/tags/helm/" style="font-size: 1.15em; color: rgb(180, 153, 176)">Helm</a><a href="/tags/runc/" style="font-size: 1.15em; color: rgb(91, 26, 12)">runc</a><a href="/tags/kustomize/" style="font-size: 1.15em; color: rgb(187, 24, 128)">Kustomize</a><a href="/tags/oci/" style="font-size: 1.15em; color: rgb(15, 89, 28)">OCI</a><a href="/tags/buildkit/" style="font-size: 1.15em; color: rgb(103, 119, 74)">BuildKit</a><a href="/tags/crane/" style="font-size: 1.15em; color: rgb(15, 200, 85)">crane</a><a href="/tags/oci-image/" style="font-size: 1.15em; color: rgb(180, 1, 175)">OCI Image</a><a href="/tags/oci-runtime/" style="font-size: 1.15em; color: rgb(73, 142, 77)">OCI Runtime</a><a href="/tags/linux-namespace/" style="font-size: 1.15em; color: rgb(171, 13, 84)">Linux Namespace</a><a href="/tags/linux-cgroup/" style="font-size: 1.15em; color: rgb(84, 43, 96)">Linux CGroup</a><a href="/tags/k8s-manifest/" style="font-size: 1.15em; color: rgb(10, 38, 114)">K8S Manifest</a><a href="/tags/rpc/" style="font-size: 1.16em; color: rgb(141, 162, 195)">RPC</a><a href="/tags/grpc/" style="font-size: 1.16em; color: rgb(182, 109, 30)">gRPC</a><a href="/tags/makefile/" style="font-size: 1.15em; color: rgb(162, 113, 97)">Makefile</a><a href="/tags/ci/" style="font-size: 1.15em; color: rgb(112, 133, 10)">CI</a><a href="/tags/network/" style="font-size: 1.16em; color: rgb(147, 56, 28)">Network</a><a href="/tags/linux/" style="font-size: 1.27em; color: rgb(3, 132, 30)">Linux</a><a href="/tags/dockerfile/" style="font-size: 1.17em; color: rgb(2, 163, 193)">Dockerfile</a><a href="/tags/infrastructure/" style="font-size: 1.31em; color: rgb(200, 118, 23)">Infrastructure</a><a href="/tags/architecture/" style="font-size: 1.32em; color: rgb(178, 117, 123)">Architecture</a><a href="/tags/iac/" style="font-size: 1.15em; color: rgb(138, 76, 145)">IaC</a><a href="/tags/terraform/" style="font-size: 1.15em; color: rgb(59, 139, 23)">Terraform</a><a href="/tags/crossplane/" style="font-size: 1.15em; color: rgb(136, 41, 64)">Crossplane</a><a href="/tags/pulumi/" style="font-size: 1.15em; color: rgb(38, 98, 94)">Pulumi</a><a href="/tags/argo-cd/" style="font-size: 1.15em; color: rgb(57, 122, 195)">Argo CD</a><a href="/tags/vpc/" style="font-size: 1.15em; color: rgb(134, 142, 80)">VPC</a><a href="/tags/service-mesh/" style="font-size: 1.18em; color: rgb(162, 51, 26)">Service Mesh</a><a href="/tags/istio/" style="font-size: 1.17em; color: rgb(165, 152, 16)">Istio</a><a href="/tags/etcd/" style="font-size: 1.15em; color: rgb(46, 137, 77)">etcd</a><a href="/tags/raft/" style="font-size: 1.15em; color: rgb(103, 121, 29)">raft</a><a href="/tags/microservices/" style="font-size: 1.27em; color: rgb(83, 147, 68)">Microservices</a><a href="/tags/spring-cloud/" style="font-size: 1.2em; color: rgb(56, 175, 74)">Spring Cloud</a><a href="/tags/spring/" style="font-size: 1.24em; color: rgb(137, 92, 74)">Spring</a><a href="/tags/java/" style="font-size: 1.44em; color: rgb(171, 9, 132)">Java</a><a href="/tags/service-governance/" style="font-size: 1.17em; color: rgb(18, 161, 36)">Service Governance</a><a href="/tags/opa/" style="font-size: 1.2em; color: rgb(138, 189, 57)">OPA</a><a href="/tags/alibaba/" style="font-size: 1.22em; color: rgb(190, 176, 32)">Alibaba</a><a href="/tags/observability/" style="font-size: 1.21em; color: rgb(72, 191, 5)">Observability</a><a href="/tags/api-gateway/" style="font-size: 1.15em; color: rgb(125, 179, 25)">API Gateway</a><a href="/tags/apisix/" style="font-size: 1.15em; color: rgb(55, 48, 160)">APISIX</a><a href="/tags/opentelemetry/" style="font-size: 1.18em; color: rgb(144, 163, 93)">OpenTelemetry</a><a href="/tags/security/" style="font-size: 1.26em; color: rgb(30, 61, 24)">Security</a><a href="/tags/compliance/" style="font-size: 1.17em; color: rgb(174, 36, 10)">Compliance</a><a href="/tags/serverless/" style="font-size: 1.22em; color: rgb(59, 92, 32)">Serverless</a><a href="/tags/faas/" style="font-size: 1.22em; color: rgb(2, 138, 196)">FaaS</a><a href="/tags/computer-basics/" style="font-size: 1.35em; color: rgb(171, 16, 189)">Computer Basics</a><a href="/tags/computer-organization/" style="font-size: 1.35em; color: rgb(105, 184, 109)">Computer Organization</a><a href="/tags/knowledge-map/" style="font-size: 1.15em; color: rgb(174, 183, 181)">Knowledge Map</a><a href="/tags/ebpf/" style="font-size: 1.16em; color: rgb(75, 162, 161)">eBPF</a><a href="/tags/tool/" style="font-size: 1.23em; color: rgb(70, 161, 176)">Tool</a><a href="/tags/git/" style="font-size: 1.23em; color: rgb(0, 4, 68)">Git</a><a href="/tags/concurrency/" style="font-size: 1.15em; color: rgb(137, 11, 142)">Concurrency</a><a href="/tags/cloud/" style="font-size: 1.36em; color: rgb(127, 100, 65)">Cloud</a><a href="/tags/native/" style="font-size: 1.36em; color: rgb(163, 67, 199)">Native</a><a href="/tags/authentication/" style="font-size: 1.17em; color: rgb(126, 79, 5)">Authentication</a><a href="/tags/ldap/" style="font-size: 1.15em; color: rgb(49, 36, 7)">LDAP</a><a href="/tags/jwt/" style="font-size: 1.15em; color: rgb(185, 172, 138)">JWT</a><a href="/tags/oauth-2-0/" style="font-size: 1.2em; color: rgb(1, 22, 192)">OAuth 2.0</a><a href="/tags/storage/" style="font-size: 1.41em; color: rgb(8, 28, 101)">Storage</a><a href="/tags/mysql/" style="font-size: 1.41em; color: rgb(164, 121, 13)">MySQL</a><a href="/tags/innodb/" style="font-size: 1.19em; color: rgb(94, 53, 106)">InnoDB</a><a href="/tags/java-concurrent/" style="font-size: 1.38em; color: rgb(24, 198, 160)">Java Concurrent</a><a href="/tags/actor/" style="font-size: 1.15em; color: rgb(10, 36, 2)">Actor</a><a href="/tags/akka/" style="font-size: 1.15em; color: rgb(1, 108, 109)">Akka</a><a href="/tags/coroutine/" style="font-size: 1.16em; color: rgb(32, 141, 73)">Coroutine</a><a href="/tags/csp/" style="font-size: 1.15em; color: rgb(81, 18, 192)">CSP</a><a href="/tags/disruptor/" style="font-size: 1.15em; color: rgb(159, 20, 77)">Disruptor</a><a href="/tags/netty/" style="font-size: 1.15em; color: rgb(168, 8, 78)">Netty</a><a href="/tags/stm/" style="font-size: 1.15em; color: rgb(23, 105, 99)">STM</a><a href="/tags/mvcc/" style="font-size: 1.15em; color: rgb(89, 80, 59)">MVCC</a><a href="/tags/java-core/" style="font-size: 1.2em; color: rgb(65, 183, 153)">Java Core</a><a href="/tags/java-feature/" style="font-size: 1.2em; color: rgb(97, 197, 156)">Java Feature</a><a href="/tags/java-performance/" style="font-size: 1.34em; color: rgb(96, 135, 24)">Java Performance</a><a href="/tags/cas/" style="font-size: 1.15em; color: rgb(31, 104, 129)">CAS</a><a href="/tags/hashtable/" style="font-size: 1.15em; color: rgb(104, 115, 178)">HashTable</a><a href="/tags/concurrenthashmap/" style="font-size: 1.15em; color: rgb(53, 77, 171)">ConcurrentHashMap</a><a href="/tags/concurrentskiplistmap/" style="font-size: 1.15em; color: rgb(131, 120, 88)">ConcurrentSkipListMap</a><a href="/tags/consistency/" style="font-size: 1.15em; color: rgb(93, 175, 22)">Consistency</a><a href="/tags/jvm/" style="font-size: 1.37em; color: rgb(158, 96, 112)">JVM</a><a href="/tags/gc/" style="font-size: 1.16em; color: rgb(155, 66, 146)">GC</a><a href="/tags/design-pattern/" style="font-size: 1.18em; color: rgb(126, 81, 44)">Design Pattern</a><a href="/tags/hashmap/" style="font-size: 1.15em; color: rgb(200, 30, 109)">HashMap</a><a href="/tags/io/" style="font-size: 1.15em; color: rgb(48, 176, 89)">IO</a><a href="/tags/nio/" style="font-size: 1.16em; color: rgb(168, 197, 77)">NIO</a><a href="/tags/aio/" style="font-size: 1.16em; color: rgb(16, 43, 92)">AIO</a><a href="/tags/epoll/" style="font-size: 1.16em; color: rgb(171, 55, 19)">Epoll</a><a href="/tags/jit/" style="font-size: 1.15em; color: rgb(71, 86, 79)">JIT</a><a href="/tags/synchronized/" style="font-size: 1.16em; color: rgb(191, 53, 22)">synchronized</a><a href="/tags/lock/" style="font-size: 1.15em; color: rgb(101, 131, 72)">Lock</a><a href="/tags/reentrantreadwritelock/" style="font-size: 1.15em; color: rgb(2, 199, 22)">ReentrantReadWriteLock</a><a href="/tags/stampedlock/" style="font-size: 1.15em; color: rgb(171, 157, 107)">StampedLock</a><a href="/tags/bio/" style="font-size: 1.15em; color: rgb(7, 169, 137)">BIO</a><a href="/tags/tomcat/" style="font-size: 1.15em; color: rgb(42, 4, 29)">Tomcat</a><a href="/tags/select/" style="font-size: 1.15em; color: rgb(138, 3, 112)">Select</a><a href="/tags/poll/" style="font-size: 1.15em; color: rgb(133, 70, 154)">Poll</a><a href="/tags/zero-copy/" style="font-size: 1.15em; color: rgb(162, 100, 62)">Zero Copy</a><a href="/tags/mmap/" style="font-size: 1.15em; color: rgb(32, 113, 62)">mmap</a><a href="/tags/reactor/" style="font-size: 1.15em; color: rgb(92, 41, 161)">Reactor</a><a href="/tags/serialization/" style="font-size: 1.15em; color: rgb(53, 91, 173)">Serialization</a><a href="/tags/protobuf/" style="font-size: 1.15em; color: rgb(184, 169, 105)">ProtoBuf</a><a href="/tags/java-stream/" style="font-size: 1.15em; color: rgb(151, 48, 127)">Java Stream</a><a href="/tags/mark-word/" style="font-size: 1.15em; color: rgb(125, 113, 12)">Mark Word</a><a href="/tags/monitor/" style="font-size: 1.15em; color: rgb(110, 186, 150)">Monitor</a><a href="/tags/thread-pool/" style="font-size: 1.15em; color: rgb(159, 193, 174)">Thread Pool</a><a href="/tags/lambda/" style="font-size: 1.15em; color: rgb(129, 199, 85)">Lambda</a><a href="/tags/context-switch/" style="font-size: 1.15em; color: rgb(4, 33, 164)">Context Switch</a><a href="/tags/bytecode-manipulation/" style="font-size: 1.17em; color: rgb(100, 194, 53)">Bytecode Manipulation</a><a href="/tags/asm/" style="font-size: 1.15em; color: rgb(158, 170, 43)">ASM</a><a href="/tags/jol/" style="font-size: 1.17em; color: rgb(114, 86, 79)">JOL</a><a href="/tags/middleware/" style="font-size: 1.39em; color: rgb(171, 67, 22)">Middleware</a><a href="/tags/mq/" style="font-size: 1.4em; color: rgb(22, 156, 124)">MQ</a><a href="/tags/kafka/" style="font-size: 1.39em; color: rgb(111, 76, 138)">Kafka</a><a href="/tags/stream/" style="font-size: 1.39em; color: rgb(180, 16, 49)">Stream</a><a href="/tags/rebalance/" style="font-size: 1.17em; color: rgb(116, 127, 114)">Rebalance</a><a href="/tags/avro/" style="font-size: 1.18em; color: rgb(163, 168, 11)">Avro</a><a href="/tags/compression/" style="font-size: 1.15em; color: rgb(12, 68, 14)">Compression</a><a href="/tags/consumer-group/" style="font-size: 1.15em; color: rgb(22, 200, 15)">Consumer Group</a><a href="/tags/tcp/" style="font-size: 1.16em; color: rgb(155, 44, 62)">TCP</a><a href="/tags/producer/" style="font-size: 1.15em; color: rgb(133, 36, 104)">Producer</a><a href="/tags/load-balance/" style="font-size: 1.15em; color: rgb(162, 52, 79)">Load Balance</a><a href="/tags/idempotence/" style="font-size: 1.15em; color: rgb(82, 126, 144)">Idempotence</a><a href="/tags/distributed-architecture/" style="font-size: 1.15em; color: rgb(158, 89, 108)">Distributed Architecture</a><a href="/tags/distributed-design-pattern/" style="font-size: 1.17em; color: rgb(149, 131, 100)">Distributed Design Pattern</a><a href="/tags/career/" style="font-size: 1.15em; color: rgb(169, 60, 148)">Career</a><a href="/tags/linux-performance/" style="font-size: 1.17em; color: rgb(112, 118, 14)">Linux Performance</a><a href="/tags/linux-practice/" style="font-size: 1.25em; color: rgb(175, 143, 88)">Linux Practice</a><a href="/tags/ext4/" style="font-size: 1.15em; color: rgb(57, 95, 164)">ext4</a><a href="/tags/file-system/" style="font-size: 1.15em; color: rgb(126, 15, 16)">File System</a><a href="/tags/ai/" style="font-size: 1.34em; color: rgb(86, 25, 56)">AI</a><a href="/tags/llm/" style="font-size: 1.34em; color: rgb(92, 189, 3)">LLM</a><a href="/tags/nlp/" style="font-size: 1.26em; color: rgb(58, 52, 72)">NLP</a><a href="/tags/python/" style="font-size: 1.3em; color: rgb(122, 141, 51)">Python</a><a href="/tags/fastapi/" style="font-size: 1.15em; color: rgb(180, 104, 8)">FastAPI</a><a href="/tags/uvicorn/" style="font-size: 1.15em; color: rgb(19, 67, 8)">Uvicorn</a><a href="/tags/chatgpt/" style="font-size: 1.15em; color: rgb(61, 125, 41)">ChatGPT</a><a href="/tags/machine-learning/" style="font-size: 1.17em; color: rgb(78, 124, 73)">Machine Learning</a><a href="/tags/svm/" style="font-size: 1.15em; color: rgb(64, 170, 9)">SVM</a><a href="/tags/transformer/" style="font-size: 1.16em; color: rgb(119, 184, 106)">Transformer</a><a href="/tags/rnn/" style="font-size: 1.15em; color: rgb(49, 50, 163)">RNN</a><a href="/tags/seq2seq/" style="font-size: 1.16em; color: rgb(10, 9, 133)">Seq2Seq</a><a href="/tags/word2vec/" style="font-size: 1.15em; color: rgb(97, 2, 92)">Word2Vec</a><a href="/tags/langchain/" style="font-size: 1.19em; color: rgb(73, 27, 53)">LangChain</a><a href="/tags/ai-agent/" style="font-size: 1.18em; color: rgb(180, 165, 61)">AI Agent</a><a href="/tags/rag/" style="font-size: 1.29em; color: rgb(78, 158, 174)">RAG</a><a href="/tags/attention/" style="font-size: 1.15em; color: rgb(103, 83, 69)">Attention</a><a href="/tags/lora/" style="font-size: 1.15em; color: rgb(91, 92, 145)">LoRA</a><a href="/tags/peft/" style="font-size: 1.15em; color: rgb(135, 101, 30)">PEFT</a><a href="/tags/faiss/" style="font-size: 1.15em; color: rgb(118, 124, 103)">Faiss</a><a href="/tags/math/" style="font-size: 1.16em; color: rgb(90, 76, 101)">Math</a><a href="/tags/microservices-governance/" style="font-size: 1.22em; color: rgb(58, 47, 160)">Microservices Governance</a><a href="/tags/config/" style="font-size: 1.17em; color: rgb(75, 177, 0)">Config</a><a href="/tags/configuration-center/" style="font-size: 1.17em; color: rgb(165, 181, 75)">Configuration Center</a><a href="/tags/apollo/" style="font-size: 1.17em; color: rgb(178, 151, 95)">Apollo</a><a href="/tags/oauth2/" style="font-size: 1.19em; color: rgb(74, 108, 127)">Oauth2</a><a href="/tags/spring-security/" style="font-size: 1.19em; color: rgb(163, 38, 66)">Spring Security</a><a href="/tags/spring-security-oauth2/" style="font-size: 1.19em; color: rgb(200, 39, 136)">Spring Security OAuth2</a><a href="/tags/performance-tuning/" style="font-size: 1.15em; color: rgb(25, 150, 172)">Performance Tuning</a><a href="/tags/chatops/" style="font-size: 1.15em; color: rgb(126, 198, 24)">ChatOps</a><a href="/tags/chatbot/" style="font-size: 1.15em; color: rgb(138, 110, 133)">Chatbot</a><a href="/tags/graphrag/" style="font-size: 1.15em; color: rgb(26, 169, 124)">GraphRAG</a><a href="/tags/rerank/" style="font-size: 1.15em; color: rgb(120, 15, 171)">Rerank</a><a href="/tags/prompting/" style="font-size: 1.15em; color: rgb(136, 44, 41)">Prompting</a><a href="/tags/kg-rag/" style="font-size: 1.15em; color: rgb(123, 56, 66)">KG-RAG</a><a href="/tags/vector/" style="font-size: 1.16em; color: rgb(162, 35, 152)">Vector</a><a href="/tags/vim/" style="font-size: 1.19em; color: rgb(13, 32, 11)">Vim</a><a href="/tags/web/" style="font-size: 1.2em; color: rgb(144, 81, 90)">Web</a><a href="/tags/javascript/" style="font-size: 1.19em; color: rgb(102, 73, 196)">JavaScript</a><a href="/tags/zookeeper/" style="font-size: 1.16em; color: rgb(11, 86, 32)">Zookeeper</a><a href="/tags/distributed-lock/" style="font-size: 1.15em; color: rgb(53, 129, 197)">Distributed Lock</a><a href="/tags/zab/" style="font-size: 1.15em; color: rgb(184, 190, 18)">ZAB</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span><a class="card-more-btn" href="/archives/" title="More">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/01/"><span class="card-archive-list-date">January 2025</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/10/"><span class="card-archive-list-date">October 2024</span><span class="card-archive-list-count">18</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/09/"><span class="card-archive-list-date">September 2024</span><span class="card-archive-list-count">30</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">August 2024</span><span class="card-archive-list-count">31</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">July 2024</span><span class="card-archive-list-count">10</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">June 2024</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">May 2023</span><span class="card-archive-list-count">11</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">April 2023</span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">622</div></div><div class="webinfo-item"><div class="item-name">Run time :</div><div class="item-count" id="runtimeshow" data-publishDate="2015-06-30T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Total Count :</div><div class="item-count">1191.8k</div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2025-07-27T08:38:49.677Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.pixabay.com/photo/2018/08/27/15/17/fishing-3635221_1280.png')"><div id="footer-wrap"><div class="copyright">&copy;2015 - 2025 By zhongmingmao</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Life is like a box of chocolates. You can't know what you'll eat until you open it.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["Stay hungry, stay foolish."])
  } else {
    document.getElementById("subtitle").innerHTML = 'Stay hungry, stay foolish.'
  }
}
typedJSFn.run(subtitleType)</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></body></html>