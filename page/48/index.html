<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>ByteCoding</title><meta name="author" content="zhongmingmao"><meta name="copyright" content="zhongmingmao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="Focus on Infrastructure">
<meta property="og:type" content="website">
<meta property="og:title" content="ByteCoding">
<meta property="og:url" content="https://blog.zhongmingmao.top/page/48/index.html">
<meta property="og:site_name" content="ByteCoding">
<meta property="og:description" content="Focus on Infrastructure">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png">
<meta property="article:author" content="zhongmingmao">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><script type="application/ld+json"></script><link rel="shortcut icon" href="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="canonical" href="https://blog.zhongmingmao.top/page/48/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":32,"languages":{"author":"Author: zhongmingmao","link":"Link: ","source":"Source: ByteCoding","info":"Copyright belongs to the author. For commercial use, please contact the author for authorization. For non-commercial use, please indicate the source."}},
  lightbox: 'null',
  Snackbar: {"chs_to_cht":"You have switched to Traditional Chinese","cht_to_chs":"You have switched to Simplified Chinese","day_to_night":"You have switched to Dark Mode","night_to_day":"You have switched to Light Mode","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: true,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ByteCoding',
  isHighlightShrink: false,
  isToc: false,
  pageType: 'home'
}</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ByteCoding" type="application/atom+xml">
</head><body><script>window.paceOptions = {
  restartOnPushState: false
}

btf.addGlobalFn('pjaxSend', () => {
  Pace.restart()
}, 'pace_restart')

</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg" style="background-image: url(/url(https:/cdn.pixabay.com/photo/2021/07/20/03/39/fisherman-6479663_1280.jpg));"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">642</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">191</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">83</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url(https://cdn.pixabay.com/photo/2022/10/16/13/53/early-morning-7525151_1280.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">ByteCoding</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="site-info"><h1 id="site-title">ByteCoding</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts nc" id="recent-posts"><div class="recent-post-items"><div class="recent-post-item"><div class="post_cover left"><a href="/2019/06/29/kafka-distribution/" title="Kafka -- “发行版”"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-8.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kafka -- “发行版”"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/29/kafka-distribution/" title="Kafka -- “发行版”">Kafka -- “发行版”</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-06-29T06:54:22.000Z" title="Created 2019-06-29 14:54:22">2019-06-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/">Middleware</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/mq/">MQ</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/mq/kafka/">Kafka</a></span></div><div class="content">Kafka Connect Kafka Connect, an open source component of Kafka, is a framework for connecting Kafka with external systems such as databases, key-value stores, search indexes, and file systems.   Using Kafka Connect you can use existing connector implementations for common data sources and sinks to move data into and out of Kafka.      Apache Kafka Apache Kafka是最正宗的Kafka，被称为社区版Kafka，是其他发行版的基础 优点：开发人数最多，版本迭代速度最快，社区响应度高 缺点：仅仅提供最基础的组件，没有提供任何监控框架或工具，缺失高级功能 应用场景：仅仅需要一个消息引擎系统或者简单的流处理应用场景，同时需要对系统有较大的把控度  Conflue...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/06/26/java-performance-arraylist-linkedlist/" title="Java性能 -- ArrayList + LinkedList"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java性能 -- ArrayList + LinkedList"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/26/java-performance-arraylist-linkedlist/" title="Java性能 -- ArrayList + LinkedList">Java性能 -- ArrayList + LinkedList</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-06-26T01:23:51.000Z" title="Created 2019-06-26 09:23:51">2019-06-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/performance/">Performance</a></span></div><div class="content">List接口     ArrayList、Vector、LinkedList继承了AbstractList，AbstractList实现了List，同时继承了AbstractCollection ArrayList和Vector使用了数组实现，LinkedList使用了双向链表实现  ArrayList常见问题 ArrayList的对象数组elementData使用了transient（表示不会被序列化）修饰，为什么？ ArrayList在大量新增元素的场景下，效率一定会变慢？ 如果要循环遍历ArrayList，采用for循环还是迭代循环？  类签名123public class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt;        implements List&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable &#123;&#125;  ArrayList实现了List接口，继承了AbstractList抽象类，底层是数组实现，并且实现了自增扩容 ArrayList实现了Clone...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2019/06/25/kafka-distributed-streaming-platform/" title="Kafka -- 分布式流处理平台"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-10.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kafka -- 分布式流处理平台"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/25/kafka-distributed-streaming-platform/" title="Kafka -- 分布式流处理平台">Kafka -- 分布式流处理平台</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-06-24T22:25:00.000Z" title="Created 2019-06-25 06:25:00">2019-06-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/">Middleware</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/mq/">MQ</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/mq/kafka/">Kafka</a></span></div><div class="content">历史消息引擎系统 Kafka在刚诞生时是以消息引擎系统的面目出现在大众视野中 Kafka在0.10.0.0之前的定位：分布式、分区化且带备份功能的提交日志（Commit Log）服务 Kafka在设计之初的功能特性 提供一套API实现生产者和消费者 降低网络传输和磁盘存储开销 实现高伸缩架构      分布式流处理平台 Kafka于2011年正式进入Apache基金会孵化并于次年10月成为Apache顶级项目 Kafka社区于0.10.0.0版本正式推出流处理组件Kafka Streams，定位变成了分布式流处理平台 同等级的实时流处理平台：Apache Kafka、Apache Storm、Apache Spark、Apache Flink 目前国内对Kafka是流处理平台的认知还不普及，其核心的流处理组件Kafka Streams更是少有大厂在使用  优势端到端的正确性 Kafka更容易实现端到端的正确性（Correctness） 流处理要替代批处理需要具备两个核心优势 实现正确性（正确性是流处理能够匹敌批处理的基石） 提供能够推导时间的工具   正确性一直都是批处理的强项，而实现正确性的基石是要求...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/06/23/java-performance-regex/" title="Java性能 -- 正则表达式"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-6.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java性能 -- 正则表达式"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/23/java-performance-regex/" title="Java性能 -- 正则表达式">Java性能 -- 正则表达式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-06-23T14:02:47.000Z" title="Created 2019-06-23 22:02:47">2019-06-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/performance/">Performance</a></span></div><div class="content">元字符   正则表达式使用一些特定的元字符来检索、匹配和替换符合规则的字符串 元字符：普通字符、标准字符、限定字符（量词）、定位字符（边界字符）    正则表达式引擎 正则表达式是一个用正则符号写出来的公式 程序对正则表达式进行语法分析，建立语法分析树 再根据语法分析树结合正则表达式引擎生成执行程序（状态机），用于字符匹配 正则表达式引擎是一套核心算法，用于建立状态机   小结 正则表达式 &#x3D;&gt; 语法分析树 语法分析树 + 正则表达引擎 &#x3D;&gt; 状态机 &#x3D;&gt; 用于字符匹配     目前实现正则表达式引擎的方式有两种 DFA自动机（Deterministic Finite Automaton，确定有限状态自动机） NFA自动机（Nondeterministic Finite Automaton，非确定有限状态自动机）   DFA自动机的构造代价远大于NFA自动机，但DFA自动机的执行效率高于NFA自动机 假设一个字符串的长度为n，如果采用DFA自动机作为正则表达式引擎，则匹配的时间复杂度为O(n) 如果采用NFA自动机作为正则表达式引擎，NFA自动机在匹配过程...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2019/06/22/kafka-term/" title="Kafka -- 术语"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-13.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kafka -- 术语"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/22/kafka-term/" title="Kafka -- 术语">Kafka -- 术语</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-06-22T11:35:39.000Z" title="Created 2019-06-22 19:35:39">2019-06-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/">Middleware</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/mq/">MQ</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/mq/kafka/">Kafka</a></span></div><div class="content">主题 + 客户端 发布订阅的对象是主题（Topic） 向主题发布消息的客户端应用程序称为生产者（Producer），生产者可以持续不断地向多个主题发送消息 订阅这些主题消息的客户端应用程序称为消费者（Consumer），消费者能够同时订阅多个主题的消息 生产者和消费者统称为客户端    服务端 Kafka的服务端由被称为Broker的服务进程构成，一个Kafka集群由多个Broker组成 Broker负责接收和处理客户端发送过来的请求，以及对消息进行持久化 多个Broker进程能够运行在同一台机器上，但更常见的做法是将不同的Broker分散运行在不同的机器上 这样如果集群中某一台机器宕机了，即使在它上面运行的所有Broker进程都挂掉了 其他机器上的Broker也依然能够对外提供服务，这是Kafka提供高可用的手段之一    备份 实现高可用的另一个手段是备份机制（Replication） 备份：把相同的数据拷贝到多台机器上，这些相同的数据拷贝在Kafka中被称为副本（Replica） 副本的数量是可以配置的，Kafka定义了两类副本：领导者副本（Leader Replica）和追随者副本（Follow...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/06/18/kafka-messaging-system/" title="Kafka -- 消息引擎系统"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-16.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kafka -- 消息引擎系统"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/18/kafka-messaging-system/" title="Kafka -- 消息引擎系统">Kafka -- 消息引擎系统</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-06-18T00:15:26.000Z" title="Created 2019-06-18 08:15:26">2019-06-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/">Middleware</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/mq/">MQ</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/mq/kafka/">Kafka</a></span></div><div class="content">术语 Apache Kafka是一款开源的消息引擎系统 消息队列：给人某种暗示，仿佛Kafka是利用队列实现的 消息中间件：过度强调中间件，而不能清晰地表达实际解决的问题    解决的问题 系统A发送消息给消息引擎系统，系统B从消息引擎系统中读取A发送的消息 消息引擎传输的对象是消息 如何传输消息属于消息引擎设计机制的一部分  消息格式 成熟解决方案：CSV、XML、JSON 序列化框架：Google Protocol Buffer、Facebook Thrift Kafka：纯二进制的字节序列  消息引擎模型 点对点模型 即消息队列模型，系统A发送的消息只能被系统B接收，其他任何系统不能读取A发送的消息   发布订阅模型 主题（Topic）、发布者（Publisher）、订阅者（Subscriber） 多个发布者可以向相同的主题发送消息，多个订阅者可以接收相同主题的消息   Kafka同时支持上面两种消息引擎模型  JMS JMS：Java Message Service JMS也支持上面的两种消息引擎模型 JMS并非传输协议，而是一组API JMS非常出名，很多主流的消息引擎系统都支持JMS规范 A...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2019/06/12/java-concurrent-csp/" title="Java并发 -- CSP模型"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-21.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java并发 -- CSP模型"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/12/java-concurrent-csp/" title="Java并发 -- CSP模型">Java并发 -- CSP模型</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-06-12T06:46:47.000Z" title="Created 2019-06-12 14:46:47">2019-06-12</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/concurrent/">Concurrent</a></span></div><div class="content">Go Go是一门号称从语言层面支持并发的编程语言，支持并发也是Go非常重要的特性之一 Go支持协程，协程可以类比Java中的线程，解决并发问题的难点在于线程（协程）之间的协作 Go提供了两种方案 支持协程之间以共享内存的方式通信，Go提供了管程和原子类来对协程进行同步控制，该方案与Java类似 支持协程之间以消息传递的方式通信，本质上是要避免共享，该方案是基于CSP模型实现的，Go推荐该方案      CSP模型 CSP：Communicating Sequential Processes Do not communicate by sharing memory; instead, share memory by communicating.  累加器12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455package mainimport (    &quot;fmt&quot;    &quot;time&quot;)func main() &#123;...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/06/09/java-performance-string/" title="Java性能 -- 字符串"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-10.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java性能 -- 字符串"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/09/java-performance-string/" title="Java性能 -- 字符串">Java性能 -- 字符串</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-06-09T12:41:38.000Z" title="Created 2019-06-09 20:41:38">2019-06-09</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/performance/">Performance</a></span></div><div class="content">实现     在Java 6以及之前的版本中，String对象是对char数组进行了封装实现的对象 主要四个成员变量：char数组、偏移量offset、字符数量count、哈希值hash String对象通过offset和count两个属性来定位char数组，获取字符串 这样可以高效快速地共享数组对象，同时节省内存空间，但也有可能会导致内存泄露     Java 7&#x2F;8，String类中不再有offset和count两个变量 这样String对象占用的内存稍微少了一点 另外，String.substring不再共享char[]，从而解决了使用该方法可能导致的内存泄露问题   从Java 9开始，将char[]修改为byte[]，同时维护了一个新的属性coder，它是一个编码格式的标识 一个char字符占用16位，2个字节，用一个char去存储单字节编码的字符会非常浪费 Java 9的String类为了节约内存空间，使用了占用8位，1个字节的byte数组来存放字符串 coder的作用：使用length()或者indexOf() coder有两个默认值：0代表LATIN1，1代表UTF16    ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2019/06/08/java-concurrent-coroutine/" title="Java并发 -- 协程"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-20.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java并发 -- 协程"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/08/java-concurrent-coroutine/" title="Java并发 -- 协程">Java并发 -- 协程</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-06-08T10:11:51.000Z" title="Created 2019-06-08 18:11:51">2019-06-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/concurrent/">Concurrent</a></span></div><div class="content">协程 协程可以理解为一种轻量级的线程 从操作系统的角度来看，线程是在内核态中调度的，而协程是在用户态调度的，协程的切换成本更低 协程栈比线程栈要小得多，典型的线程栈在1M左右，而协程栈一般在几K或者几十K左右 因此无论在时间维度还是在空间维度，协程都比线程轻量很多 支持协程的语言：Go、Python、Lua、Kotlin Java OpenSDK的Loom项目的目标是为了支持协程      Go中的协程12345678910func hello(msg string) &#123;    fmt.Println(&quot;Hello &quot; + msg)&#125;func TestCoroutine(t *testing.T) &#123;    // 在新的协程中执行hello方法    go hello(&quot;Go&quot;)    // 等待100毫秒让协程执行结束    time.Sleep(100 * time.Millisecond)&#125;  Java中的线程是一个重量级对象，因此无法很好地实现Thread-Per-Message模式，而协程可以 Thread-Per...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/06/06/java-concurrent-stm/" title="Java并发 -- 软件事务内存"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-14.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java并发 -- 软件事务内存"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/06/java-concurrent-stm/" title="Java并发 -- 软件事务内存">Java并发 -- 软件事务内存</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-06-06T15:38:37.000Z" title="Created 2019-06-06 23:38:37">2019-06-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/concurrent/">Concurrent</a></span></div><div class="content">STM STM：Software Transactional Memory，软件事务内存，借鉴于数据库的事务管理 传统的数据库事务支持ACID，即原子性（A）、一致性（C）、隔离性（I）和持久性（D） STM不支持持久化，即只支持ACI    数据库事务数据库保证在并发情况下不会发生死锁，而且还能保证ACID 1234567891011121314Connection conn = null;try&#123;    // 获取数据库连接    conn = DriverManager.getConnection();    // 设置手动提交事务    conn.setAutoCommit(false);    // 执行转账SQL    ...    // 提交事务    conn.commit();&#125; catch (Exception e) &#123;    // 出现异常回滚事务    conn.rollback();&#125;  synchronized转账12345678910111213141516@AllArgsConstructorpublic class UnsafeA...</div></div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/47/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/47/#content-inner">47</a><span class="page-number current">48</span><a class="page-number" href="/page/49/#content-inner">49</a><span class="space">&hellip;</span><a class="page-number" href="/page/65/#content-inner">65</a><a class="extend next" rel="next" href="/page/49/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">zhongmingmao</div><div class="author-info-description">Focus on Infrastructure.</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">642</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">191</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">83</div></a></div><div class="card-info-social-icons"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Things are always unexpected!</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/01/24/cloud-native-observability-prometheus-server-v1/" title="Observability - Prometheus Server V1"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://observability-1253868755.cos.ap-guangzhou.myqcloud.com/prometheus-server.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Observability - Prometheus Server V1"/></a><div class="content"><a class="title" href="/2025/01/24/cloud-native-observability-prometheus-server-v1/" title="Observability - Prometheus Server V1">Observability - Prometheus Server V1</a><time datetime="2025-01-23T16:06:25.000Z" title="Created 2025-01-24 00:06:25">2025-01-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/23/cloud-native-observability-prometheus-concepts/" title="Observability - Prometheus Concepts"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://observability-1253868755.cos.ap-guangzhou.myqcloud.com/prometheus-concepts.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Observability - Prometheus Concepts"/></a><div class="content"><a class="title" href="/2025/01/23/cloud-native-observability-prometheus-concepts/" title="Observability - Prometheus Concepts">Observability - Prometheus Concepts</a><time datetime="2025-01-22T16:06:25.000Z" title="Created 2025-01-23 00:06:25">2025-01-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/22/cloud-native-observability-prometheus-introduction/" title="Observability - Prometheus Introduction"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://observability-1253868755.cos.ap-guangzhou.myqcloud.com/prometheus.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Observability - Prometheus Introduction"/></a><div class="content"><a class="title" href="/2025/01/22/cloud-native-observability-prometheus-introduction/" title="Observability - Prometheus Introduction">Observability - Prometheus Introduction</a><time datetime="2025-01-21T16:06:25.000Z" title="Created 2025-01-22 00:06:25">2025-01-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/21/cloud-native-observability-opentelemetry-java-zero-code/" title="Observability - OpenTelemetry Java Zero Code"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://observability-1253868755.cos.ap-guangzhou.myqcloud.com/otel-java-agent.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Observability - OpenTelemetry Java Zero Code"/></a><div class="content"><a class="title" href="/2025/01/21/cloud-native-observability-opentelemetry-java-zero-code/" title="Observability - OpenTelemetry Java Zero Code">Observability - OpenTelemetry Java Zero Code</a><time datetime="2025-01-20T16:06:25.000Z" title="Created 2025-01-21 00:06:25">2025-01-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/20/cloud-native-observability-opentelemetry-java/" title="Observability - OpenTelemetry Java"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://observability-1253868755.cos.ap-guangzhou.myqcloud.com/otel-java.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Observability - OpenTelemetry Java"/></a><div class="content"><a class="title" href="/2025/01/20/cloud-native-observability-opentelemetry-java/" title="Observability - OpenTelemetry Java">Observability - OpenTelemetry Java</a><time datetime="2025-01-19T16:06:25.000Z" title="Created 2025-01-20 00:06:25">2025-01-20</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            <a class="card-more-btn" href="/categories/" title="View More">
      <i class="fas fa-angle-right"></i></a>
          </div>
          <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/"><span class="card-category-list-name">AI</span><span class="card-category-list-count">34</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/llm/"><span class="card-category-list-name">LLM</span><span class="card-category-list-count">16</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/rag/"><span class="card-category-list-name">RAG</span><span class="card-category-list-count">18</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai-agent/"><span class="card-category-list-name">AI Agent</span><span class="card-category-list-count">2</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai-agent/mcp/"><span class="card-category-list-name">MCP</span><span class="card-category-list-count">2</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai-agent/mcp/a2a/"><span class="card-category-list-name">A2A</span><span class="card-category-list-count">2</span></a></li></ul></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/big-data/"><span class="card-category-list-name">Big Data</span><span class="card-category-list-count">26</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/big-data/beam/"><span class="card-category-list-name">Beam</span><span class="card-category-list-count">13</span></a></li></ul></li>
          </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/mcp/" style="font-size: 1.17em; color: rgb(177, 50, 80);">MCP</a><a href="/tags/a2a/" style="font-size: 1.17em; color: rgb(50, 196, 55);">A2A</a><a href="/tags/big-data/" style="font-size: 1.36em; color: rgb(173, 147, 127);">Big Data</a><a href="/tags/beam/" style="font-size: 1.28em; color: rgb(110, 66, 60);">Beam</a><a href="/tags/spark/" style="font-size: 1.24em; color: rgb(103, 132, 180);">Spark</a><a href="/tags/flink/" style="font-size: 1.15em; color: rgb(50, 141, 50);">Flink</a><a href="/tags/mapreduce/" style="font-size: 1.15em; color: rgb(132, 56, 172);">MapReduce</a><a href="/tags/rdd/" style="font-size: 1.15em; color: rgb(50, 50, 175);">RDD</a><a href="/tags/cloud-computing/" style="font-size: 1.26em; color: rgb(50, 108, 59);">Cloud Computing</a><a href="/tags/iaas/" style="font-size: 1.22em; color: rgb(50, 194, 78);">IaaS</a><a href="/tags/paas/" style="font-size: 1.22em; color: rgb(125, 50, 63);">PaaS</a><a href="/tags/cloud-native/" style="font-size: 1.45em; color: rgb(137, 50, 74);">Cloud Native</a><a href="/tags/kubernetes/" style="font-size: 1.43em; color: rgb(167, 50, 82);">Kubernetes</a><a href="/tags/devops/" style="font-size: 1.21em; color: rgb(50, 50, 156);">DevOps</a><a href="/tags/infrastructure/" style="font-size: 1.34em; color: rgb(50, 130, 50);">Infrastructure</a><a href="/tags/architecture/" style="font-size: 1.36em; color: rgb(50, 163, 196);">Architecture</a><a href="/tags/iac/" style="font-size: 1.15em; color: rgb(55, 129, 171);">IaC</a><a href="/tags/terraform/" style="font-size: 1.15em; color: rgb(50, 81, 50);">Terraform</a><a href="/tags/crossplane/" style="font-size: 1.15em; color: rgb(183, 50, 190);">Crossplane</a><a href="/tags/pulumi/" style="font-size: 1.15em; color: rgb(199, 99, 59);">Pulumi</a><a href="/tags/argo-cd/" style="font-size: 1.15em; color: rgb(138, 50, 184);">Argo CD</a><a href="/tags/vpc/" style="font-size: 1.15em; color: rgb(165, 50, 117);">VPC</a><a href="/tags/container/" style="font-size: 1.3em; color: rgb(97, 50, 151);">Container</a><a href="/tags/docker/" style="font-size: 1.32em; color: rgb(92, 176, 187);">Docker</a><a href="/tags/helm/" style="font-size: 1.15em; color: rgb(61, 50, 107);">Helm</a><a href="/tags/runc/" style="font-size: 1.15em; color: rgb(111, 50, 100);">runc</a><a href="/tags/kustomize/" style="font-size: 1.15em; color: rgb(114, 180, 130);">Kustomize</a><a href="/tags/oci/" style="font-size: 1.15em; color: rgb(169, 154, 50);">OCI</a><a href="/tags/buildkit/" style="font-size: 1.15em; color: rgb(50, 169, 170);">BuildKit</a><a href="/tags/crane/" style="font-size: 1.15em; color: rgb(166, 62, 61);">crane</a><a href="/tags/oci-image/" style="font-size: 1.15em; color: rgb(124, 124, 50);">OCI Image</a><a href="/tags/oci-runtime/" style="font-size: 1.15em; color: rgb(85, 50, 200);">OCI Runtime</a><a href="/tags/linux-namespace/" style="font-size: 1.15em; color: rgb(74, 88, 108);">Linux Namespace</a><a href="/tags/linux-cgroup/" style="font-size: 1.15em; color: rgb(102, 50, 167);">Linux CGroup</a><a href="/tags/k8s-manifest/" style="font-size: 1.15em; color: rgb(117, 50, 104);">K8S Manifest</a><a href="/tags/go-core/" style="font-size: 1.19em; color: rgb(171, 178, 50);">Go Core</a><a href="/tags/go/" style="font-size: 1.41em; color: rgb(196, 122, 197);">Go</a><a href="/tags/cloud-native-foundation/" style="font-size: 1.38em; color: rgb(71, 183, 50);">Cloud Native Foundation</a><a href="/tags/go-engineering/" style="font-size: 1.39em; color: rgb(50, 50, 67);">Go Engineering</a><a href="/tags/swagger/" style="font-size: 1.15em; color: rgb(104, 50, 130);">Swagger</a></div></div><div class="card-widget card-archives">
    <div class="item-headline">
      <i class="fas fa-archive"></i>
      <span>Archives</span>
      <a class="card-more-btn" href="/archives/"
            title="View More">
            <i class="fas fa-angle-right"></i>
          </a>
    </div>
  
    <ul class="card-archive-list">
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2025/01/">
            <span class="card-archive-list-date">
              January 2025
            </span>
            <span class="card-archive-list-count">24</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2024/10/">
            <span class="card-archive-list-date">
              October 2024
            </span>
            <span class="card-archive-list-count">18</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2024/09/">
            <span class="card-archive-list-date">
              September 2024
            </span>
            <span class="card-archive-list-count">30</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2024/08/">
            <span class="card-archive-list-date">
              August 2024
            </span>
            <span class="card-archive-list-count">31</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2024/07/">
            <span class="card-archive-list-date">
              July 2024
            </span>
            <span class="card-archive-list-count">10</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2024/06/">
            <span class="card-archive-list-date">
              June 2024
            </span>
            <span class="card-archive-list-count">6</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2023/05/">
            <span class="card-archive-list-date">
              May 2023
            </span>
            <span class="card-archive-list-count">11</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2023/04/">
            <span class="card-archive-list-date">
              April 2023
            </span>
            <span class="card-archive-list-count">1</span>
          </a>
        </li>
      
    </ul>
  </div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Website Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article Count :</div><div class="item-count">642</div></div><div class="webinfo-item"><div class="item-name">Total Word Count :</div><div class="item-count">1311k</div></div><div class="webinfo-item"><div class="item-name">Last Update :</div><div class="item-count" id="last-push-date" data-lastPushDate="2025-11-10T08:44:50.432Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2015 - 2025 By zhongmingmao</span></div><div class="footer_custom_text">Life is like a box of chocolates. You can't know what you'll eat until you open it.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="Toggle Between Traditional and Simplified Chinese">繁</button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>window.typedJSFn = {
  init: str => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: subtitleType => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        btf.getScript('https://cdn.jsdelivr.net/npm/typed.js/dist/typed.umd.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  },
  processSubtitle: (content, extraContents = []) => {
    if (true) {
      const sub = ["Stay hungry, stay foolish."].slice()

      if (extraContents.length > 0) {
        sub.unshift(...extraContents)
      }

      if (typeof content === 'string') {
        sub.unshift(content)
      } else if (Array.isArray(content)) {
        sub.unshift(...content)
      }

      sub.length > 0 && typedJSFn.init(sub)
    } else {
      document.getElementById('subtitle').textContent = typeof content === 'string' ? content :
        (Array.isArray(content) && content.length > 0 ? content[0] : '')
    }
  }
}
btf.addGlobalFn('pjaxSendOnce', () => { typed.destroy() }, 'typedDestroy')
</script><script>function subtitleType () {
  typedJSFn.processSubtitle(["Stay hungry, stay foolish."])
}
typedJSFn.run(subtitleType)</script><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (false) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script></div></body></html>