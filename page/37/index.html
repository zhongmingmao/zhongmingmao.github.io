<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>ByteCoding</title><meta name="author" content="zhongmingmao"><meta name="copyright" content="zhongmingmao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="Focus on Infrastructure">
<meta property="og:type" content="website">
<meta property="og:title" content="ByteCoding">
<meta property="og:url" content="https://blog.zhongmingmao.top/page/37/index.html">
<meta property="og:site_name" content="ByteCoding">
<meta property="og:description" content="Focus on Infrastructure">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png">
<meta property="article:author" content="zhongmingmao">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="shortcut icon" href="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="canonical" href="https://blog.zhongmingmao.top/page/37/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":512,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":256},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":32,"languages":{"author":"Author: zhongmingmao","link":"Link: ","source":"Source: ByteCoding","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ByteCoding',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-08-27 17:49:41'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ByteCoding" type="application/atom+xml">
</head><body><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">540</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">172</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">72</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://cdn.pixabay.com/photo/2022/10/16/13/53/early-morning-7525151_1280.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="ByteCoding"><span class="site-name">ByteCoding</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">ByteCoding</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2019/08/02/kafka-compression/" title="Kafka -- 压缩"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kafka -- 压缩"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/08/02/kafka-compression/" title="Kafka -- 压缩">Kafka -- 压缩</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-08-02T13:33:13.000Z" title="Created 2019-08-02 21:33:13">2019-08-02</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/">Middleware</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/middleware/mq/">MQ</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/middleware/mq/kafka/">Kafka</a></span></div><div class="content">压缩的目的时间换空间，用CPU时间去换磁盘空间或网络IO传输量
消息层次
消息集合（Message Set）和消息
一个消息集合中包含若干条日志项（Record Item），而日志项用于封装消息
Kafka底层的消息日志由一系列消息集合日志项组成
Kafka不会直接操作具体的消息，而是在消息集合这个层面上进行写入操作



消息格式
目前Kafka共有两大类消息格式，社区分别称之为V1版本和V2版本（在0.11.0.0引入）
V2版本主要针对V1版本的一些弊端进行了优化
优化1：把消息的公共部分抽取到外层消息集合里面
在V1版本中，每条消息都需要执行CRC校验，但在某些情况下，消息的CRC值会发生变化
Broker端可能对消息的时间戳字段进行更新，重新计算后的CRC值也会相应更新
Broker端在执行消息格式转换时（兼容老版本客户端），也会带来CRC值的变化


因此没必要对每条消息都执行CRC校验，浪费空间和时间
在V2版本中，消息的CRC校验被移到了消息集合这一层


优化2：对整个消息集合进行压缩
在V1版本中，对多条消息进行压缩，然后保存到外层消息的消息体字段中





压缩的时机在Kafka中，压 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/07/31/java-performance-serialization/" title="Java性能 -- 序列化"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-12.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java性能 -- 序列化"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/07/31/java-performance-serialization/" title="Java性能 -- 序列化">Java性能 -- 序列化</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-07-31T13:22:50.000Z" title="Created 2019-07-31 21:22:50">2019-07-31</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/java/performance/">Performance</a></span></div><div class="content">序列化方案
Java RMI采用的是Java序列化
Spring Cloud采用的是_JSON序列化_
Dubbo虽然兼容Java序列化，但默认使用的是_Hessian序列化_



Java序列化原理

Serializable
JDK提供了输入流对象ObjectInputStream和输出流对象ObjectOutputStream
它们只能对实现了Serializable接口的类的对象进行序列化和反序列化

12345// 只能对实现了Serializable接口的类的对象进行序列化// java.io.NotSerializableException: java.lang.ObjectObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(FILE_PATH));oos.writeObject(new Object());oos.close();

transient
ObjectOutputStream的默认序列化方式，仅对对象的非transient的实例变量进行序列化
不会序列化对象的transient的实例变量，也不 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2019/07/24/kafka-producer-partitioning/" title="Kafka -- 生产者消息分区机制"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-13.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kafka -- 生产者消息分区机制"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/07/24/kafka-producer-partitioning/" title="Kafka -- 生产者消息分区机制">Kafka -- 生产者消息分区机制</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-07-24T05:20:21.000Z" title="Created 2019-07-24 13:20:21">2019-07-24</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/">Middleware</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/middleware/mq/">MQ</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/middleware/mq/kafka/">Kafka</a></span></div><div class="content">分区概念




主题是承载真实数据的逻辑容器，主题之下分为若干个分区，Kafka的消息组织方式为三级结构：主题、分区、消息
主题下的每条消息只会保存在某个分区中，而不会在多个分区中被保存多份
分区的作用是提供负载均衡的能力，实现系统的高伸缩性
不同的分区能够被放置在不同的机器节点上，而数据读写操作的粒度也是分区
每个机器节点都能独立地执行各自分区的读写请求处理，还可以通过添加新的机器节点来增加整体系统的吞吐量


分区在不同的分布式系统有不同的叫法，但分区的思想都是类似的
Kafka – Partition
MongoDB、Elasticsearch – Shard
HBase – Region



分区策略
分区策略：决定生产者将消息发送到哪个分区的算法，Kafka提供了默认的分区策略，也支持自定义的分区策略
自定义的分区策略，需要显式地配置生产者端的参数partitioner.class
实现接口：org.apache.kafka.clients.producer.Partitioner
消息数据：topic、key、keyBytes、value、valueBytes
集群数据：cluster



 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/07/22/java-performance-io-model/" title="Java性能 -- IO模型"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-6.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java性能 -- IO模型"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/07/22/java-performance-io-model/" title="Java性能 -- IO模型">Java性能 -- IO模型</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-07-22T04:54:37.000Z" title="Created 2019-07-22 12:54:37">2019-07-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/java/performance/">Performance</a></span></div><div class="content">什么是IO
IO是机器获取和交换信息的主要渠道，而流是完成IO操作的主要方式
在计算机中，流是一种信息的转换
流是有序的
把机器或者应用程序接收外界的信息称为输入流（InputStream）
从机器或者应用程序向外输出的信息称为输出流（OutputStream）


流可以被看作一种数据的载体，通过它可以实现数据的交换和传输



Java IO
Java IO主要在java.io下，有四个基本类：InputStream、OutputStream、Reader、Writer，分别用于处理字节流和字符流
字符到字节必须经过转码，该过程非常耗时，如果不知道编码类型就很容易出现乱码问题
因此IO流提供了直接操作字符的接口，方便对字符进行流操作



字节流


字节流的抽象类：InputStream&#x2F;OutputStream
文件的读写操作：FileInputStream&#x2F;FileOutputStream
数组的读写操作：ByteArrayInputStream&#x2F;ByteArrayOutputStream
普通字符串的读写操作：BufferedInputStream&#x2F;Buff ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2019/07/19/kafka-cluster-param/" title="Kafka -- 集群参数"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-14.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kafka -- 集群参数"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/07/19/kafka-cluster-param/" title="Kafka -- 集群参数">Kafka -- 集群参数</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-07-19T05:12:41.000Z" title="Created 2019-07-19 13:12:41">2019-07-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/">Middleware</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/middleware/mq/">MQ</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/middleware/mq/kafka/">Kafka</a></span></div><div class="content">Broker参数存储
log.dir：表示单个路径
log.dirs：表示多个路径，推荐使用
/home/kafka1,/home/kafka2,/home/kafka3
线上生产环境中一定要为log.dirs配置多个路径，格式为CSV，逗号分隔
建议把不同的路径挂载到不同的物理磁盘上
提升读写性能，比起单块硬盘，多块物理磁盘同时读写数据有更高的吞吐量
能够实现故障转移（Failover），从Kafka 1.1引入，坏掉的磁盘上的数据会自动地转移到其他正常的磁盘上







Zookeeper
Zookeeper是一个分布式协调框架，负责协调管理并保存Kafka集群的所有元数据信息
集群有哪些Broker在运行，创建了哪些Topic，每个Topic有多少分区、分区的Leader副本在哪些机器上


zookeeper.connect，CSV格式，zk1:2181,zk2:2181,zk3:2181
Zookeeper地chroot，只需写一次，zk1:2181,zk2:2181,zk3:2181/kafka1和zk1:2181,zk2:2181,zk3:2181/kafka2

连接
listeners
 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/07/18/java-performance-hashmap/" title="Java性能 -- HashMap"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-17.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java性能 -- HashMap"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/07/18/java-performance-hashmap/" title="Java性能 -- HashMap">Java性能 -- HashMap</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-07-18T07:30:45.000Z" title="Created 2019-07-18 15:30:45">2019-07-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/java/performance/">Performance</a></span></div><div class="content">实现结构
HashMap是基于哈希表实现的，继承了AbstractMap并且实现了Map接口
HashMap根据键的Hash值来决定对应值的存储位置，通过这种索引方式，HashMap获取数据的速度会非常快
当发生哈希冲突时，有3种常用的解决方法：开放定址法、再哈希函数法、链地址法
开放定址法
当发生哈希冲突时，如果哈希表未被填满，说明在哈希表中必然还有空位置
可以把Key存放到冲突位置后面的空位置上
该方法存在很多问题，例如查找、扩容等，不推荐


再哈希函数法
在同义词产生地址冲突时再计算另一个哈希函数地址，直到不再冲突
这种方法不容易产生聚集，但却增加了计算时间


链地址法
HashMap综合考虑了所有因素，采用了链地址法来解决哈希冲突问题
该方法采用了数组（哈希表）+链表的数据结构，当发生哈希冲突时，就用一个链表结构存储相同Hash值的数据







重要属性NodeHashMap是由一个Node数组构成的，每个Node包含一个Key-Value键值对
1transient Node&lt;K,V&gt;[] table;

Node类是HashMap的一个内部类，定义了一个next指针，指向具有 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2019/07/15/kafka-deploy-online/" title="Kafka -- 线上部署"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-20.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kafka -- 线上部署"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/07/15/kafka-deploy-online/" title="Kafka -- 线上部署">Kafka -- 线上部署</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-07-15T10:00:09.000Z" title="Created 2019-07-15 18:00:09">2019-07-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/">Middleware</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/middleware/mq/">MQ</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/middleware/mq/kafka/">Kafka</a></span></div><div class="content">操作系统Linux的表现更胜一筹：IO模型的使用、网络传输效率、社区支持度
IO模型
主流的IO模型：阻塞式IO、非阻塞式IO、IO多路复用、信号驱动IO、异步IO，后一种模型比前一种高级
Java中的Socket对象的阻塞模式和非阻塞模式，对应阻塞式IO和非阻塞式IO
Linux中的系统调用select函数属于IO多路复用模型
大名鼎鼎的epoll系统调用则介于第三种模型和第四种模型之间
很少有Linux系统支持异步IO，Windows系统提供的IOCP线程模型属于异步IO


Kafka客户端底层使用了Java的selector，selector在Linux上的实现机制是epoll，在Windows上是select
Kafka部署在Linux上，能够获得更高效的IO性能





网络传输效率
Kafka生产和消费的消息都是通过网络传输的，而消息是保存在磁盘上的
因此Kafka需要在磁盘和网络间进行大量的数据传输


Linux支持零拷贝技术
当数据在磁盘和网络进行传输时，避免昂贵的内核态数据拷贝，从而实现快速的数据传输
在Windows平台必须等待Java 8 Update 60才能享受到类似Linux ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/07/14/java-performance-stream/" title="Java性能 -- Stream"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-11.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java性能 -- Stream"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/07/14/java-performance-stream/" title="Java性能 -- Stream">Java性能 -- Stream</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-07-14T05:07:36.000Z" title="Created 2019-07-14 13:07:36">2019-07-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/java/performance/">Performance</a></span></div><div class="content">Stream API
Java 8集合中的Stream相当于高级版的Iterator
Stream API通过Lambda表达式对集合进行各种非常便利高效的聚合操作，或者大批量数据操作


Stream的聚合操作与数据库SQL的聚合操作sorted、filter、map等非常类似
在数据操作方面，Stream不仅可以通过串行的方式实现数据操作，还可以通过并行的方式处理大批量数据，提高处理效率



12345678// java.util.Collectiondefault Stream&lt;E&gt; stream() &#123;    return StreamSupport.stream(spliterator(), false);&#125;default Stream&lt;E&gt; parallelStream() &#123;    return StreamSupport.stream(spliterator(), true);&#125;
123456789101112131415161718192021222324@Dataclass Student &#123;    privat ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2019/06/29/kafka-distribution/" title="Kafka -- “发行版”"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-8.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kafka -- “发行版”"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/29/kafka-distribution/" title="Kafka -- “发行版”">Kafka -- “发行版”</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-06-29T06:54:22.000Z" title="Created 2019-06-29 14:54:22">2019-06-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/">Middleware</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/middleware/mq/">MQ</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/middleware/mq/kafka/">Kafka</a></span></div><div class="content">Kafka Connect
Kafka Connect, an open source component of Kafka, is a framework for connecting Kafka with external systems such as databases, key-value stores, search indexes, and file systems.


Using Kafka Connect you can use existing connector implementations for common data sources and sinks to move data into and out of Kafka.





Apache Kafka
Apache Kafka是最正宗的Kafka，被称为社区版Kafka，是其他发行版的基础
优点：开发人数最多，版本迭代速度最快，社区响应度高
缺点：仅仅提供最基础的组件，没有提供任何监控框架或工具，缺失高级功能
应用场景：仅仅需要一个消息引擎系统或者简单的流处理应用场景，同时需要对系统有较大的把控度

Confluent  ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/06/26/java-performance-arraylist-linkedlist/" title="Java性能 -- ArrayList + LinkedList"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java性能 -- ArrayList + LinkedList"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/26/java-performance-arraylist-linkedlist/" title="Java性能 -- ArrayList + LinkedList">Java性能 -- ArrayList + LinkedList</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-06-26T01:23:51.000Z" title="Created 2019-06-26 09:23:51">2019-06-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/java/performance/">Performance</a></span></div><div class="content">List接口




ArrayList、Vector、LinkedList继承了AbstractList，AbstractList实现了List，同时继承了AbstractCollection
ArrayList和Vector使用了数组实现，LinkedList使用了双向链表实现

ArrayList常见问题
ArrayList的对象数组elementData使用了transient（表示不会被序列化）修饰，为什么？
ArrayList在大量新增元素的场景下，效率一定会变慢？
如果要循环遍历ArrayList，采用for循环还是迭代循环？

类签名123public class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt;        implements List&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable &#123;&#125;

ArrayList实现了List接口，继承了AbstractList抽象类，底层是数组实现，并且实现了自增扩容
ArrayList实现了Cloneabl ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/36/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/36/#content-inner">36</a><span class="page-number current">37</span><a class="page-number" href="/page/38/#content-inner">38</a><span class="space">&hellip;</span><a class="page-number" href="/page/54/#content-inner">54</a><a class="extend next" rel="next" href="/page/38/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">zhongmingmao</div><div class="author-info__description">Focus on Infrastructure.</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">540</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">172</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">72</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Things are always unexpected!</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/08/02/rag-principle/" title="RAG -Principle"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://rag-1253868755.cos.ap-guangzhou.myqcloud.com/rag-principle-4736980.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="RAG -Principle"/></a><div class="content"><a class="title" href="/2024/08/02/rag-principle/" title="RAG -Principle">RAG -Principle</a><time datetime="2024-08-01T16:06:25.000Z" title="Created 2024-08-02 00:06:25">2024-08-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/08/01/rag-ai-2/" title="RAG - AI 2.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://rag-1253868755.cos.ap-guangzhou.myqcloud.com/rag-ai-2.0.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="RAG - AI 2.0"/></a><div class="content"><a class="title" href="/2024/08/01/rag-ai-2/" title="RAG - AI 2.0">RAG - AI 2.0</a><time datetime="2024-07-31T16:06:25.000Z" title="Created 2024-08-01 00:06:25">2024-08-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/09/llm-core-decoder-only/" title="LLM Core - Decoder Only"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://llm-1253868755.cos.ap-guangzhou.myqcloud.com/transformer-training.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="LLM Core - Decoder Only"/></a><div class="content"><a class="title" href="/2024/07/09/llm-core-decoder-only/" title="LLM Core - Decoder Only">LLM Core - Decoder Only</a><time datetime="2024-07-08T16:06:25.000Z" title="Created 2024-07-09 00:06:25">2024-07-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/08/llm-core-transformer/" title="LLM Core - Transformer"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://llm-1253868755.cos.ap-guangzhou.myqcloud.com/llm-transformer.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="LLM Core - Transformer"/></a><div class="content"><a class="title" href="/2024/07/08/llm-core-transformer/" title="LLM Core - Transformer">LLM Core - Transformer</a><time datetime="2024-07-07T16:06:25.000Z" title="Created 2024-07-08 00:06:25">2024-07-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/07/llm-core-seq2seq/" title="LLM Core - Seq2Seq"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://llm-1253868755.cos.ap-guangzhou.myqcloud.com/seq2seq-4492942.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="LLM Core - Seq2Seq"/></a><div class="content"><a class="title" href="/2024/07/07/llm-core-seq2seq/" title="LLM Core - Seq2Seq">LLM Core - Seq2Seq</a><time datetime="2024-07-06T16:06:25.000Z" title="Created 2024-07-07 00:06:25">2024-07-07</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            <a class="card-more-btn" href="/categories/" title="More">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/"><span class="card-category-list-name">AI</span><span class="card-category-list-count">17</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/llm/"><span class="card-category-list-name">LLM</span><span class="card-category-list-count">15</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/rag/"><span class="card-category-list-name">RAG</span><span class="card-category-list-count">2</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/career/"><span class="card-category-list-name">Career</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/"><span class="card-category-list-name">Cloud Computing</span><span class="card-category-list-count">10</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/iaas/"><span class="card-category-list-name">IaaS</span><span class="card-category-list-count">5</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/paas/"><span class="card-category-list-name">PaaS</span><span class="card-category-list-count">5</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/"><span class="card-category-list-name">Cloud Native</span><span class="card-category-list-count">146</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/cloud-computing/" style="font-size: 1.23em; color: rgb(19, 86, 65)">Cloud Computing</a><a href="/tags/iaas/" style="font-size: 1.19em; color: rgb(164, 195, 6)">IaaS</a><a href="/tags/paas/" style="font-size: 1.19em; color: rgb(67, 144, 85)">PaaS</a><a href="/tags/cloud-native/" style="font-size: 1.45em; color: rgb(22, 62, 171)">Cloud Native</a><a href="/tags/kubernetes/" style="font-size: 1.43em; color: rgb(29, 34, 111)">Kubernetes</a><a href="/tags/devops/" style="font-size: 1.18em; color: rgb(130, 99, 192)">DevOps</a><a href="/tags/go-core/" style="font-size: 1.17em; color: rgb(152, 18, 89)">Go Core</a><a href="/tags/go/" style="font-size: 1.42em; color: rgb(25, 160, 159)">Go</a><a href="/tags/container/" style="font-size: 1.27em; color: rgb(109, 45, 183)">Container</a><a href="/tags/docker/" style="font-size: 1.29em; color: rgb(80, 156, 183)">Docker</a><a href="/tags/go-engineering/" style="font-size: 1.34em; color: rgb(98, 3, 25)">Go Engineering</a><a href="/tags/swagger/" style="font-size: 1.15em; color: rgb(101, 43, 62)">Swagger</a><a href="/tags/rpc/" style="font-size: 1.16em; color: rgb(11, 176, 3)">RPC</a><a href="/tags/grpc/" style="font-size: 1.16em; color: rgb(29, 170, 117)">gRPC</a><a href="/tags/ci/" style="font-size: 1.15em; color: rgb(8, 152, 149)">CI</a><a href="/tags/makefile/" style="font-size: 1.15em; color: rgb(83, 57, 165)">Makefile</a><a href="/tags/network/" style="font-size: 1.16em; color: rgb(108, 155, 36)">Network</a><a href="/tags/cloud-native-foundation/" style="font-size: 1.33em; color: rgb(200, 174, 68)">Cloud Native Foundation</a><a href="/tags/linux/" style="font-size: 1.28em; color: rgb(72, 56, 105)">Linux</a><a href="/tags/dockerfile/" style="font-size: 1.17em; color: rgb(31, 59, 42)">Dockerfile</a><a href="/tags/service-mesh/" style="font-size: 1.18em; color: rgb(21, 176, 52)">Service Mesh</a><a href="/tags/microservices/" style="font-size: 1.28em; color: rgb(20, 80, 87)">Microservices</a><a href="/tags/spring-cloud/" style="font-size: 1.21em; color: rgb(170, 25, 123)">Spring Cloud</a><a href="/tags/spring/" style="font-size: 1.24em; color: rgb(125, 155, 71)">Spring</a><a href="/tags/java/" style="font-size: 1.44em; color: rgb(2, 48, 18)">Java</a><a href="/tags/service-governance/" style="font-size: 1.17em; color: rgb(4, 109, 45)">Service Governance</a><a href="/tags/opa/" style="font-size: 1.21em; color: rgb(197, 110, 181)">OPA</a><a href="/tags/alibaba/" style="font-size: 1.22em; color: rgb(116, 30, 97)">Alibaba</a><a href="/tags/security/" style="font-size: 1.27em; color: rgb(146, 155, 182)">Security</a><a href="/tags/compliance/" style="font-size: 1.17em; color: rgb(5, 51, 14)">Compliance</a><a href="/tags/infrastructure/" style="font-size: 1.31em; color: rgb(192, 28, 131)">Infrastructure</a><a href="/tags/architecture/" style="font-size: 1.32em; color: rgb(193, 104, 129)">Architecture</a><a href="/tags/serverless/" style="font-size: 1.22em; color: rgb(85, 11, 188)">Serverless</a><a href="/tags/faas/" style="font-size: 1.22em; color: rgb(68, 91, 180)">FaaS</a><a href="/tags/computer-basics/" style="font-size: 1.35em; color: rgb(21, 194, 47)">Computer Basics</a><a href="/tags/computer-organization/" style="font-size: 1.35em; color: rgb(33, 172, 192)">Computer Organization</a><a href="/tags/knowledge-map/" style="font-size: 1.15em; color: rgb(121, 35, 120)">Knowledge Map</a><a href="/tags/tool/" style="font-size: 1.23em; color: rgb(79, 159, 18)">Tool</a><a href="/tags/git/" style="font-size: 1.23em; color: rgb(198, 43, 107)">Git</a><a href="/tags/concurrency/" style="font-size: 1.15em; color: rgb(120, 146, 62)">Concurrency</a><a href="/tags/cloud/" style="font-size: 1.36em; color: rgb(153, 198, 116)">Cloud</a><a href="/tags/native/" style="font-size: 1.36em; color: rgb(163, 132, 80)">Native</a><a href="/tags/authentication/" style="font-size: 1.17em; color: rgb(183, 107, 24)">Authentication</a><a href="/tags/ldap/" style="font-size: 1.15em; color: rgb(57, 58, 93)">LDAP</a><a href="/tags/oauth-2-0/" style="font-size: 1.21em; color: rgb(163, 5, 19)">OAuth 2.0</a><a href="/tags/storage/" style="font-size: 1.4em; color: rgb(137, 127, 194)">Storage</a><a href="/tags/mysql/" style="font-size: 1.41em; color: rgb(168, 24, 182)">MySQL</a><a href="/tags/innodb/" style="font-size: 1.2em; color: rgb(26, 75, 119)">InnoDB</a><a href="/tags/java-concurrent/" style="font-size: 1.38em; color: rgb(199, 134, 51)">Java Concurrent</a><a href="/tags/actor/" style="font-size: 1.15em; color: rgb(64, 4, 156)">Actor</a><a href="/tags/akka/" style="font-size: 1.15em; color: rgb(151, 75, 108)">Akka</a><a href="/tags/coroutine/" style="font-size: 1.16em; color: rgb(170, 125, 72)">Coroutine</a><a href="/tags/csp/" style="font-size: 1.15em; color: rgb(122, 80, 44)">CSP</a><a href="/tags/disruptor/" style="font-size: 1.15em; color: rgb(62, 75, 48)">Disruptor</a><a href="/tags/netty/" style="font-size: 1.15em; color: rgb(83, 33, 198)">Netty</a><a href="/tags/stm/" style="font-size: 1.15em; color: rgb(45, 116, 2)">STM</a><a href="/tags/mvcc/" style="font-size: 1.15em; color: rgb(174, 167, 101)">MVCC</a><a href="/tags/java-core/" style="font-size: 1.21em; color: rgb(15, 12, 152)">Java Core</a><a href="/tags/java-performance/" style="font-size: 1.34em; color: rgb(60, 98, 8)">Java Performance</a><a href="/tags/cas/" style="font-size: 1.15em; color: rgb(59, 173, 90)">CAS</a><a href="/tags/design-pattern/" style="font-size: 1.18em; color: rgb(114, 71, 11)">Design Pattern</a><a href="/tags/hashtable/" style="font-size: 1.15em; color: rgb(8, 121, 31)">HashTable</a><a href="/tags/concurrenthashmap/" style="font-size: 1.15em; color: rgb(27, 174, 166)">ConcurrentHashMap</a><a href="/tags/concurrentskiplistmap/" style="font-size: 1.15em; color: rgb(105, 106, 91)">ConcurrentSkipListMap</a><a href="/tags/consistency/" style="font-size: 1.15em; color: rgb(188, 182, 179)">Consistency</a><a href="/tags/jvm/" style="font-size: 1.37em; color: rgb(20, 165, 38)">JVM</a><a href="/tags/gc/" style="font-size: 1.16em; color: rgb(122, 87, 182)">GC</a><a href="/tags/hashmap/" style="font-size: 1.15em; color: rgb(167, 183, 120)">HashMap</a><a href="/tags/io/" style="font-size: 1.15em; color: rgb(96, 59, 50)">IO</a><a href="/tags/nio/" style="font-size: 1.16em; color: rgb(5, 192, 106)">NIO</a><a href="/tags/aio/" style="font-size: 1.16em; color: rgb(69, 6, 184)">AIO</a><a href="/tags/epoll/" style="font-size: 1.16em; color: rgb(66, 193, 84)">Epoll</a><a href="/tags/jit/" style="font-size: 1.15em; color: rgb(98, 28, 56)">JIT</a><a href="/tags/synchronized/" style="font-size: 1.16em; color: rgb(39, 10, 119)">synchronized</a><a href="/tags/lock/" style="font-size: 1.15em; color: rgb(84, 84, 196)">Lock</a><a href="/tags/reentrantreadwritelock/" style="font-size: 1.15em; color: rgb(33, 25, 162)">ReentrantReadWriteLock</a><a href="/tags/stampedlock/" style="font-size: 1.15em; color: rgb(75, 187, 170)">StampedLock</a><a href="/tags/serialization/" style="font-size: 1.15em; color: rgb(119, 196, 110)">Serialization</a><a href="/tags/protobuf/" style="font-size: 1.15em; color: rgb(25, 39, 147)">ProtoBuf</a><a href="/tags/java-stream/" style="font-size: 1.15em; color: rgb(194, 79, 22)">Java Stream</a><a href="/tags/mark-word/" style="font-size: 1.15em; color: rgb(58, 198, 29)">Mark Word</a><a href="/tags/monitor/" style="font-size: 1.15em; color: rgb(108, 41, 190)">Monitor</a><a href="/tags/context-switch/" style="font-size: 1.15em; color: rgb(162, 121, 92)">Context Switch</a><a href="/tags/thread-pool/" style="font-size: 1.15em; color: rgb(167, 124, 187)">Thread Pool</a><a href="/tags/lambda/" style="font-size: 1.15em; color: rgb(152, 186, 153)">Lambda</a><a href="/tags/bytecode-manipulation/" style="font-size: 1.17em; color: rgb(91, 134, 97)">Bytecode Manipulation</a><a href="/tags/asm/" style="font-size: 1.15em; color: rgb(139, 155, 181)">ASM</a><a href="/tags/jol/" style="font-size: 1.17em; color: rgb(157, 149, 162)">JOL</a><a href="/tags/middleware/" style="font-size: 1.39em; color: rgb(117, 66, 37)">Middleware</a><a href="/tags/mq/" style="font-size: 1.39em; color: rgb(94, 49, 56)">MQ</a><a href="/tags/kafka/" style="font-size: 1.39em; color: rgb(196, 43, 141)">Kafka</a><a href="/tags/stream/" style="font-size: 1.39em; color: rgb(77, 65, 105)">Stream</a><a href="/tags/rebalance/" style="font-size: 1.17em; color: rgb(169, 180, 58)">Rebalance</a><a href="/tags/avro/" style="font-size: 1.18em; color: rgb(68, 86, 66)">Avro</a><a href="/tags/compression/" style="font-size: 1.15em; color: rgb(79, 91, 98)">Compression</a><a href="/tags/consumer-group/" style="font-size: 1.15em; color: rgb(125, 190, 57)">Consumer Group</a><a href="/tags/tcp/" style="font-size: 1.16em; color: rgb(108, 13, 38)">TCP</a><a href="/tags/idempotence/" style="font-size: 1.15em; color: rgb(15, 29, 182)">Idempotence</a><a href="/tags/producer/" style="font-size: 1.15em; color: rgb(56, 138, 116)">Producer</a><a href="/tags/load-balance/" style="font-size: 1.15em; color: rgb(82, 100, 190)">Load Balance</a><a href="/tags/distributed-architecture/" style="font-size: 1.15em; color: rgb(15, 74, 24)">Distributed Architecture</a><a href="/tags/distributed-design-pattern/" style="font-size: 1.17em; color: rgb(160, 137, 27)">Distributed Design Pattern</a><a href="/tags/career/" style="font-size: 1.15em; color: rgb(78, 136, 151)">Career</a><a href="/tags/linux-performance/" style="font-size: 1.17em; color: rgb(175, 142, 188)">Linux Performance</a><a href="/tags/linux-practice/" style="font-size: 1.25em; color: rgb(78, 106, 50)">Linux Practice</a><a href="/tags/ext4/" style="font-size: 1.15em; color: rgb(14, 189, 57)">ext4</a><a href="/tags/file-system/" style="font-size: 1.15em; color: rgb(138, 141, 24)">File System</a><a href="/tags/ai/" style="font-size: 1.28em; color: rgb(24, 128, 156)">AI</a><a href="/tags/llm/" style="font-size: 1.28em; color: rgb(95, 196, 197)">LLM</a><a href="/tags/nlp/" style="font-size: 1.26em; color: rgb(72, 74, 61)">NLP</a><a href="/tags/python/" style="font-size: 1.15em; color: rgb(114, 26, 38)">Python</a><a href="/tags/fastapi/" style="font-size: 1.15em; color: rgb(63, 9, 168)">FastAPI</a><a href="/tags/uvicorn/" style="font-size: 1.15em; color: rgb(20, 163, 132)">Uvicorn</a><a href="/tags/chatgpt/" style="font-size: 1.15em; color: rgb(116, 198, 171)">ChatGPT</a><a href="/tags/machine-learning/" style="font-size: 1.17em; color: rgb(118, 69, 102)">Machine Learning</a><a href="/tags/seq2seq/" style="font-size: 1.16em; color: rgb(37, 140, 38)">Seq2Seq</a><a href="/tags/rnn/" style="font-size: 1.15em; color: rgb(58, 53, 27)">RNN</a><a href="/tags/word2vec/" style="font-size: 1.15em; color: rgb(64, 33, 104)">Word2Vec</a><a href="/tags/langchain/" style="font-size: 1.18em; color: rgb(65, 114, 74)">LangChain</a><a href="/tags/ai-agent/" style="font-size: 1.18em; color: rgb(153, 61, 176)">AI Agent</a><a href="/tags/rag/" style="font-size: 1.2em; color: rgb(191, 76, 182)">RAG</a><a href="/tags/faiss/" style="font-size: 1.15em; color: rgb(15, 172, 54)">Faiss</a><a href="/tags/microservices-governance/" style="font-size: 1.22em; color: rgb(170, 29, 180)">Microservices Governance</a><a href="/tags/config/" style="font-size: 1.17em; color: rgb(105, 165, 168)">Config</a><a href="/tags/configuration-center/" style="font-size: 1.17em; color: rgb(195, 189, 2)">Configuration Center</a><a href="/tags/apollo/" style="font-size: 1.17em; color: rgb(172, 110, 195)">Apollo</a><a href="/tags/math/" style="font-size: 1.16em; color: rgb(75, 161, 42)">Math</a><a href="/tags/lora/" style="font-size: 1.15em; color: rgb(56, 9, 13)">LoRA</a><a href="/tags/peft/" style="font-size: 1.15em; color: rgb(37, 44, 200)">PEFT</a><a href="/tags/oauth2/" style="font-size: 1.2em; color: rgb(10, 81, 144)">Oauth2</a><a href="/tags/spring-security/" style="font-size: 1.19em; color: rgb(162, 28, 108)">Spring Security</a><a href="/tags/spring-security-oauth2/" style="font-size: 1.19em; color: rgb(19, 170, 109)">Spring Security OAuth2</a><a href="/tags/vim/" style="font-size: 1.2em; color: rgb(91, 80, 103)">Vim</a><a href="/tags/web/" style="font-size: 1.21em; color: rgb(18, 99, 166)">Web</a><a href="/tags/javascript/" style="font-size: 1.19em; color: rgb(45, 100, 193)">JavaScript</a><a href="/tags/zookeeper/" style="font-size: 1.16em; color: rgb(3, 109, 55)">Zookeeper</a><a href="/tags/distributed-lock/" style="font-size: 1.15em; color: rgb(199, 169, 141)">Distributed Lock</a><a href="/tags/istio/" style="font-size: 1.17em; color: rgb(3, 138, 78)">Istio</a><a href="/tags/jwt/" style="font-size: 1.15em; color: rgb(119, 159, 12)">JWT</a><a href="/tags/bio/" style="font-size: 1.15em; color: rgb(19, 151, 199)">BIO</a><a href="/tags/tomcat/" style="font-size: 1.15em; color: rgb(172, 158, 55)">Tomcat</a><a href="/tags/select/" style="font-size: 1.15em; color: rgb(97, 119, 59)">Select</a><a href="/tags/poll/" style="font-size: 1.15em; color: rgb(54, 158, 156)">Poll</a><a href="/tags/zero-copy/" style="font-size: 1.15em; color: rgb(45, 78, 58)">Zero Copy</a><a href="/tags/mmap/" style="font-size: 1.15em; color: rgb(39, 34, 20)">mmap</a><a href="/tags/reactor/" style="font-size: 1.15em; color: rgb(196, 84, 103)">Reactor</a><a href="/tags/transformer/" style="font-size: 1.16em; color: rgb(99, 183, 132)">Transformer</a><a href="/tags/svm/" style="font-size: 1.15em; color: rgb(161, 12, 106)">SVM</a><a href="/tags/attention/" style="font-size: 1.15em; color: rgb(57, 34, 93)">Attention</a><a href="/tags/zab/" style="font-size: 1.15em; color: rgb(157, 153, 113)">ZAB</a><a href="/tags/etcd/" style="font-size: 1.15em; color: rgb(184, 160, 30)">etcd</a><a href="/tags/raft/" style="font-size: 1.15em; color: rgb(162, 133, 168)">raft</a><a href="/tags/iac/" style="font-size: 1.15em; color: rgb(100, 157, 168)">IaC</a><a href="/tags/terraform/" style="font-size: 1.15em; color: rgb(112, 143, 68)">Terraform</a><a href="/tags/crossplane/" style="font-size: 1.15em; color: rgb(103, 165, 86)">Crossplane</a><a href="/tags/pulumi/" style="font-size: 1.15em; color: rgb(117, 175, 38)">Pulumi</a><a href="/tags/argo-cd/" style="font-size: 1.15em; color: rgb(128, 68, 1)">Argo CD</a><a href="/tags/vpc/" style="font-size: 1.15em; color: rgb(57, 17, 114)">VPC</a><a href="/tags/helm/" style="font-size: 1.15em; color: rgb(132, 80, 145)">Helm</a><a href="/tags/runc/" style="font-size: 1.15em; color: rgb(196, 195, 119)">runc</a><a href="/tags/kustomize/" style="font-size: 1.15em; color: rgb(70, 173, 140)">Kustomize</a><a href="/tags/oci/" style="font-size: 1.15em; color: rgb(61, 4, 184)">OCI</a><a href="/tags/buildkit/" style="font-size: 1.15em; color: rgb(49, 120, 73)">BuildKit</a><a href="/tags/crane/" style="font-size: 1.15em; color: rgb(36, 92, 198)">crane</a><a href="/tags/oci-image/" style="font-size: 1.15em; color: rgb(121, 187, 195)">OCI Image</a><a href="/tags/oci-runtime/" style="font-size: 1.15em; color: rgb(137, 140, 48)">OCI Runtime</a><a href="/tags/linux-namespace/" style="font-size: 1.15em; color: rgb(60, 146, 33)">Linux Namespace</a><a href="/tags/linux-cgroup/" style="font-size: 1.15em; color: rgb(8, 71, 84)">Linux CGroup</a><a href="/tags/k8s-manifest/" style="font-size: 1.15em; color: rgb(138, 47, 155)">K8S Manifest</a><a href="/tags/performance-tuning/" style="font-size: 1.15em; color: rgb(166, 45, 78)">Performance Tuning</a><a href="/tags/api-gateway/" style="font-size: 1.15em; color: rgb(31, 49, 169)">API Gateway</a><a href="/tags/apisix/" style="font-size: 1.15em; color: rgb(99, 94, 64)">APISIX</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span><a class="card-more-btn" href="/archives/" title="More">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">August 2024</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">July 2024</span><span class="card-archive-list-count">9</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">June 2024</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">May 2023</span><span class="card-archive-list-count">11</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">April 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/02/"><span class="card-archive-list-date">February 2023</span><span class="card-archive-list-count">15</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/01/"><span class="card-archive-list-date">January 2023</span><span class="card-archive-list-count">31</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/12/"><span class="card-archive-list-date">December 2022</span><span class="card-archive-list-count">31</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">540</div></div><div class="webinfo-item"><div class="item-name">Run time :</div><div class="item-count" id="runtimeshow" data-publishDate="2015-06-30T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Total Count :</div><div class="item-count">1031.6k</div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-08-27T09:49:38.107Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.pixabay.com/photo/2018/08/27/15/17/fishing-3635221_1280.png')"><div id="footer-wrap"><div class="copyright">&copy;2015 - 2024 By zhongmingmao</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Life is like a box of chocolates. You can't know what you'll eat until you open it.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["Stay hungry, stay foolish."])
  } else {
    document.getElementById("subtitle").innerHTML = 'Stay hungry, stay foolish.'
  }
}
typedJSFn.run(subtitleType)</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></body></html>