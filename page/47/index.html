<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>ByteCoding</title><meta name="author" content="zhongmingmao"><meta name="copyright" content="zhongmingmao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="Focus on Infrastructure">
<meta property="og:type" content="website">
<meta property="og:title" content="ByteCoding">
<meta property="og:url" content="https://blog.zhongmingmao.top/page/47/index.html">
<meta property="og:site_name" content="ByteCoding">
<meta property="og:description" content="Focus on Infrastructure">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png">
<meta property="article:author" content="zhongmingmao">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><script type="application/ld+json"></script><link rel="shortcut icon" href="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="canonical" href="https://blog.zhongmingmao.top/page/47/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":32,"languages":{"author":"Author: zhongmingmao","link":"Link: ","source":"Source: ByteCoding","info":"Copyright belongs to the author. For commercial use, please contact the author for authorization. For non-commercial use, please indicate the source."}},
  lightbox: 'null',
  Snackbar: {"chs_to_cht":"You have switched to Traditional Chinese","cht_to_chs":"You have switched to Simplified Chinese","day_to_night":"You have switched to Dark Mode","night_to_day":"You have switched to Light Mode","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: true,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ByteCoding',
  isHighlightShrink: false,
  isToc: false,
  pageType: 'home'
}</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ByteCoding" type="application/atom+xml">
</head><body><script>window.paceOptions = {
  restartOnPushState: false
}

btf.addGlobalFn('pjaxSend', () => {
  Pace.restart()
}, 'pace_restart')

</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg" style="background-image: url(/url(https:/cdn.pixabay.com/photo/2021/07/20/03/39/fisherman-6479663_1280.jpg));"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">640</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">191</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">83</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url(https://cdn.pixabay.com/photo/2022/10/16/13/53/early-morning-7525151_1280.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">ByteCoding</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="site-info"><h1 id="site-title">ByteCoding</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts nc" id="recent-posts"><div class="recent-post-items"><div class="recent-post-item"><div class="post_cover left"><a href="/2019/08/02/kafka-compression/" title="Kafka -- 压缩"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-12.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kafka -- 压缩"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/08/02/kafka-compression/" title="Kafka -- 压缩">Kafka -- 压缩</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-08-02T13:33:13.000Z" title="Created 2019-08-02 21:33:13">2019-08-02</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/">Middleware</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/mq/">MQ</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/mq/kafka/">Kafka</a></span></div><div class="content">压缩的目的时间换空间，用CPU时间去换磁盘空间或网络IO传输量 消息层次 消息集合（Message Set）和消息 一个消息集合中包含若干条日志项（Record Item），而日志项用于封装消息 Kafka底层的消息日志由一系列消息集合日志项组成 Kafka不会直接操作具体的消息，而是在消息集合这个层面上进行写入操作    消息格式 目前Kafka共有两大类消息格式，社区分别称之为V1版本和V2版本（在0.11.0.0引入） V2版本主要针对V1版本的一些弊端进行了优化 优化1：把消息的公共部分抽取到外层消息集合里面 在V1版本中，每条消息都需要执行CRC校验，但在某些情况下，消息的CRC值会发生变化 Broker端可能对消息的时间戳字段进行更新，重新计算后的CRC值也会相应更新 Broker端在执行消息格式转换时（兼容老版本客户端），也会带来CRC值的变化   因此没必要对每条消息都执行CRC校验，浪费空间和时间 在V2版本中，消息的CRC校验被移到了消息集合这一层   优化2：对整个消息集合进行压缩 在V1版本中，对多条消息进行压缩，然后保存到外层消息的消息体字段中      压缩的时机在Kafka...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/07/31/java-performance-serialization/" title="Java性能 -- 序列化"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-9.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java性能 -- 序列化"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/07/31/java-performance-serialization/" title="Java性能 -- 序列化">Java性能 -- 序列化</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-07-31T13:22:50.000Z" title="Created 2019-07-31 21:22:50">2019-07-31</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/performance/">Performance</a></span></div><div class="content">序列化方案 Java RMI采用的是Java序列化 Spring Cloud采用的是_JSON序列化_ Dubbo虽然兼容Java序列化，但默认使用的是_Hessian序列化_    Java序列化原理  Serializable JDK提供了输入流对象ObjectInputStream和输出流对象ObjectOutputStream 它们只能对实现了Serializable接口的类的对象进行序列化和反序列化  12345// 只能对实现了Serializable接口的类的对象进行序列化// java.io.NotSerializableException: java.lang.ObjectObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(FILE_PATH));oos.writeObject(new Object());oos.close();  transient ObjectOutputStream的默认序列化方式，仅对对象的非transient的实例变量进行序列化 不会序列化对象的transient的实例变量...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2019/07/24/kafka-producer-partitioning/" title="Kafka -- 生产者消息分区机制"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kafka -- 生产者消息分区机制"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/07/24/kafka-producer-partitioning/" title="Kafka -- 生产者消息分区机制">Kafka -- 生产者消息分区机制</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-07-24T05:20:21.000Z" title="Created 2019-07-24 13:20:21">2019-07-24</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/">Middleware</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/mq/">MQ</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/mq/kafka/">Kafka</a></span></div><div class="content">分区概念     主题是承载真实数据的逻辑容器，主题之下分为若干个分区，Kafka的消息组织方式为三级结构：主题、分区、消息 主题下的每条消息只会保存在某个分区中，而不会在多个分区中被保存多份 分区的作用是提供负载均衡的能力，实现系统的高伸缩性 不同的分区能够被放置在不同的机器节点上，而数据读写操作的粒度也是分区 每个机器节点都能独立地执行各自分区的读写请求处理，还可以通过添加新的机器节点来增加整体系统的吞吐量   分区在不同的分布式系统有不同的叫法，但分区的思想都是类似的 Kafka – Partition MongoDB、Elasticsearch – Shard HBase – Region    分区策略 分区策略：决定生产者将消息发送到哪个分区的算法，Kafka提供了默认的分区策略，也支持自定义的分区策略 自定义的分区策略，需要显式地配置生产者端的参数partitioner.class 实现接口：org.apache.kafka.clients.producer.Partitioner 消息数据：topic、key、keyBytes、value、valueBytes 集群数据：cluster ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/07/22/java-performance-io-model/" title="Java性能 -- IO模型"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-11.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java性能 -- IO模型"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/07/22/java-performance-io-model/" title="Java性能 -- IO模型">Java性能 -- IO模型</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-07-22T04:54:37.000Z" title="Created 2019-07-22 12:54:37">2019-07-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/performance/">Performance</a></span></div><div class="content">什么是IO IO是机器获取和交换信息的主要渠道，而流是完成IO操作的主要方式 在计算机中，流是一种信息的转换 流是有序的 把机器或者应用程序接收外界的信息称为输入流（InputStream） 从机器或者应用程序向外输出的信息称为输出流（OutputStream）   流可以被看作一种数据的载体，通过它可以实现数据的交换和传输    Java IO Java IO主要在java.io下，有四个基本类：InputStream、OutputStream、Reader、Writer，分别用于处理字节流和字符流 字符到字节必须经过转码，该过程非常耗时，如果不知道编码类型就很容易出现乱码问题 因此IO流提供了直接操作字符的接口，方便对字符进行流操作    字节流   字节流的抽象类：InputStream&#x2F;OutputStream 文件的读写操作：FileInputStream&#x2F;FileOutputStream 数组的读写操作：ByteArrayInputStream&#x2F;ByteArrayOutputStream 普通字符串的读写操作：BufferedInputStream&#x2F;B...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2019/07/19/kafka-cluster-param/" title="Kafka -- 集群参数"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-12.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kafka -- 集群参数"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/07/19/kafka-cluster-param/" title="Kafka -- 集群参数">Kafka -- 集群参数</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-07-19T05:12:41.000Z" title="Created 2019-07-19 13:12:41">2019-07-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/">Middleware</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/mq/">MQ</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/mq/kafka/">Kafka</a></span></div><div class="content">Broker参数存储 log.dir：表示单个路径 log.dirs：表示多个路径，推荐使用 /home/kafka1,/home/kafka2,/home/kafka3 线上生产环境中一定要为log.dirs配置多个路径，格式为CSV，逗号分隔 建议把不同的路径挂载到不同的物理磁盘上 提升读写性能，比起单块硬盘，多块物理磁盘同时读写数据有更高的吞吐量 能够实现故障转移（Failover），从Kafka 1.1引入，坏掉的磁盘上的数据会自动地转移到其他正常的磁盘上        Zookeeper Zookeeper是一个分布式协调框架，负责协调管理并保存Kafka集群的所有元数据信息 集群有哪些Broker在运行，创建了哪些Topic，每个Topic有多少分区、分区的Leader副本在哪些机器上   zookeeper.connect，CSV格式，zk1:2181,zk2:2181,zk3:2181 Zookeeper地chroot，只需写一次，zk1:2181,zk2:2181,zk3:2181/kafka1和zk1:2181,zk2:2181,zk3:2181/kafka2  连接 listene...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/07/18/java-performance-hashmap/" title="Java性能 -- HashMap"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java性能 -- HashMap"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/07/18/java-performance-hashmap/" title="Java性能 -- HashMap">Java性能 -- HashMap</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-07-18T07:30:45.000Z" title="Created 2019-07-18 15:30:45">2019-07-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/performance/">Performance</a></span></div><div class="content">实现结构 HashMap是基于哈希表实现的，继承了AbstractMap并且实现了Map接口 HashMap根据键的Hash值来决定对应值的存储位置，通过这种索引方式，HashMap获取数据的速度会非常快 当发生哈希冲突时，有3种常用的解决方法：开放定址法、再哈希函数法、链地址法 开放定址法 当发生哈希冲突时，如果哈希表未被填满，说明在哈希表中必然还有空位置 可以把Key存放到冲突位置后面的空位置上 该方法存在很多问题，例如查找、扩容等，不推荐   再哈希函数法 在同义词产生地址冲突时再计算另一个哈希函数地址，直到不再冲突 这种方法不容易产生聚集，但却增加了计算时间   链地址法 HashMap综合考虑了所有因素，采用了链地址法来解决哈希冲突问题 该方法采用了数组（哈希表）+链表的数据结构，当发生哈希冲突时，就用一个链表结构存储相同Hash值的数据        重要属性NodeHashMap是由一个Node数组构成的，每个Node包含一个Key-Value键值对 1transient Node&lt;K,V&gt;[] table;  Node类是HashMap的一个内部类，定义了一个next指针，指...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2019/07/15/kafka-deploy-online/" title="Kafka -- 线上部署"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-6.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kafka -- 线上部署"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/07/15/kafka-deploy-online/" title="Kafka -- 线上部署">Kafka -- 线上部署</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-07-15T10:00:09.000Z" title="Created 2019-07-15 18:00:09">2019-07-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/">Middleware</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/mq/">MQ</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/mq/kafka/">Kafka</a></span></div><div class="content">操作系统Linux的表现更胜一筹：IO模型的使用、网络传输效率、社区支持度 IO模型 主流的IO模型：阻塞式IO、非阻塞式IO、IO多路复用、信号驱动IO、异步IO，后一种模型比前一种高级 Java中的Socket对象的阻塞模式和非阻塞模式，对应阻塞式IO和非阻塞式IO Linux中的系统调用select函数属于IO多路复用模型 大名鼎鼎的epoll系统调用则介于第三种模型和第四种模型之间 很少有Linux系统支持异步IO，Windows系统提供的IOCP线程模型属于异步IO   Kafka客户端底层使用了Java的selector，selector在Linux上的实现机制是epoll，在Windows上是select Kafka部署在Linux上，能够获得更高效的IO性能      网络传输效率 Kafka生产和消费的消息都是通过网络传输的，而消息是保存在磁盘上的 因此Kafka需要在磁盘和网络间进行大量的数据传输   Linux支持零拷贝技术 当数据在磁盘和网络进行传输时，避免昂贵的内核态数据拷贝，从而实现快速的数据传输 在Windows平台必须等待Java 8 Update 60才能享受到类似Li...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/07/14/java-performance-stream/" title="Java性能 -- Stream"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-17.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java性能 -- Stream"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/07/14/java-performance-stream/" title="Java性能 -- Stream">Java性能 -- Stream</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-07-14T05:07:36.000Z" title="Created 2019-07-14 13:07:36">2019-07-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/performance/">Performance</a></span></div><div class="content">Stream API Java 8集合中的Stream相当于高级版的Iterator Stream API通过Lambda表达式对集合进行各种非常便利高效的聚合操作，或者大批量数据操作   Stream的聚合操作与数据库SQL的聚合操作sorted、filter、map等非常类似 在数据操作方面，Stream不仅可以通过串行的方式实现数据操作，还可以通过并行的方式处理大批量数据，提高处理效率    12345678// java.util.Collectiondefault Stream&lt;E&gt; stream() &#123;    return StreamSupport.stream(spliterator(), false);&#125;default Stream&lt;E&gt; parallelStream() &#123;    return StreamSupport.stream(spliterator(), true);&#125; 123456789101112131415161718192021222324@Dataclass Student &#123;    pri...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2019/06/29/kafka-distribution/" title="Kafka -- “发行版”"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-10.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kafka -- “发行版”"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/29/kafka-distribution/" title="Kafka -- “发行版”">Kafka -- “发行版”</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-06-29T06:54:22.000Z" title="Created 2019-06-29 14:54:22">2019-06-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/">Middleware</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/mq/">MQ</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/mq/kafka/">Kafka</a></span></div><div class="content">Kafka Connect Kafka Connect, an open source component of Kafka, is a framework for connecting Kafka with external systems such as databases, key-value stores, search indexes, and file systems.   Using Kafka Connect you can use existing connector implementations for common data sources and sinks to move data into and out of Kafka.      Apache Kafka Apache Kafka是最正宗的Kafka，被称为社区版Kafka，是其他发行版的基础 优点：开发人数最多，版本迭代速度最快，社区响应度高 缺点：仅仅提供最基础的组件，没有提供任何监控框架或工具，缺失高级功能 应用场景：仅仅需要一个消息引擎系统或者简单的流处理应用场景，同时需要对系统有较大的把控度  Conflue...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/06/26/java-performance-arraylist-linkedlist/" title="Java性能 -- ArrayList + LinkedList"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-16.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java性能 -- ArrayList + LinkedList"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/26/java-performance-arraylist-linkedlist/" title="Java性能 -- ArrayList + LinkedList">Java性能 -- ArrayList + LinkedList</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-06-26T01:23:51.000Z" title="Created 2019-06-26 09:23:51">2019-06-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/performance/">Performance</a></span></div><div class="content">List接口     ArrayList、Vector、LinkedList继承了AbstractList，AbstractList实现了List，同时继承了AbstractCollection ArrayList和Vector使用了数组实现，LinkedList使用了双向链表实现  ArrayList常见问题 ArrayList的对象数组elementData使用了transient（表示不会被序列化）修饰，为什么？ ArrayList在大量新增元素的场景下，效率一定会变慢？ 如果要循环遍历ArrayList，采用for循环还是迭代循环？  类签名123public class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt;        implements List&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable &#123;&#125;  ArrayList实现了List接口，继承了AbstractList抽象类，底层是数组实现，并且实现了自增扩容 ArrayList实现了Clone...</div></div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/46/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/46/#content-inner">46</a><span class="page-number current">47</span><a class="page-number" href="/page/48/#content-inner">48</a><span class="space">&hellip;</span><a class="page-number" href="/page/64/#content-inner">64</a><a class="extend next" rel="next" href="/page/48/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">zhongmingmao</div><div class="author-info-description">Focus on Infrastructure.</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">640</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">191</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">83</div></a></div><div class="card-info-social-icons"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Things are always unexpected!</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/01/22/cloud-native-observability-prometheus-introduction/" title="Observability - Prometheus Introduction"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://observability-1253868755.cos.ap-guangzhou.myqcloud.com/prometheus.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Observability - Prometheus Introduction"/></a><div class="content"><a class="title" href="/2025/01/22/cloud-native-observability-prometheus-introduction/" title="Observability - Prometheus Introduction">Observability - Prometheus Introduction</a><time datetime="2025-01-21T16:06:25.000Z" title="Created 2025-01-22 00:06:25">2025-01-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/21/cloud-native-observability-opentelemetry-java-zero-code/" title="Observability - OpenTelemetry Java Zero Code"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://observability-1253868755.cos.ap-guangzhou.myqcloud.com/otel-java-agent.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Observability - OpenTelemetry Java Zero Code"/></a><div class="content"><a class="title" href="/2025/01/21/cloud-native-observability-opentelemetry-java-zero-code/" title="Observability - OpenTelemetry Java Zero Code">Observability - OpenTelemetry Java Zero Code</a><time datetime="2025-01-20T16:06:25.000Z" title="Created 2025-01-21 00:06:25">2025-01-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/20/cloud-native-observability-opentelemetry-java/" title="Observability - OpenTelemetry Java"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://observability-1253868755.cos.ap-guangzhou.myqcloud.com/otel-java.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Observability - OpenTelemetry Java"/></a><div class="content"><a class="title" href="/2025/01/20/cloud-native-observability-opentelemetry-java/" title="Observability - OpenTelemetry Java">Observability - OpenTelemetry Java</a><time datetime="2025-01-19T16:06:25.000Z" title="Created 2025-01-20 00:06:25">2025-01-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/19/ai-agent-overview-mcp/" title="AI Agent - MCP Overview"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ai-agent-1253868755.cos.ap-guangzhou.myqcloud.com/mcp.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AI Agent - MCP Overview"/></a><div class="content"><a class="title" href="/2025/01/19/ai-agent-overview-mcp/" title="AI Agent - MCP Overview">AI Agent - MCP Overview</a><time datetime="2025-01-18T16:06:25.000Z" title="Created 2025-01-19 00:06:25">2025-01-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/18/ai-agent-overview/" title="AI Agent - Overview"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ai-agent-1253868755.cos.ap-guangzhou.myqcloud.com/ai-agent.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AI Agent - Overview"/></a><div class="content"><a class="title" href="/2025/01/18/ai-agent-overview/" title="AI Agent - Overview">AI Agent - Overview</a><time datetime="2025-01-17T16:06:25.000Z" title="Created 2025-01-18 00:06:25">2025-01-18</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            <a class="card-more-btn" href="/categories/" title="View More">
      <i class="fas fa-angle-right"></i></a>
          </div>
          <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/"><span class="card-category-list-name">AI</span><span class="card-category-list-count">34</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/llm/"><span class="card-category-list-name">LLM</span><span class="card-category-list-count">16</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/rag/"><span class="card-category-list-name">RAG</span><span class="card-category-list-count">18</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai-agent/"><span class="card-category-list-name">AI Agent</span><span class="card-category-list-count">2</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai-agent/mcp/"><span class="card-category-list-name">MCP</span><span class="card-category-list-count">2</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai-agent/mcp/a2a/"><span class="card-category-list-name">A2A</span><span class="card-category-list-count">2</span></a></li></ul></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/big-data/"><span class="card-category-list-name">Big Data</span><span class="card-category-list-count">26</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/big-data/beam/"><span class="card-category-list-name">Beam</span><span class="card-category-list-count">13</span></a></li></ul></li>
          </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/mcp/" style="font-size: 1.17em; color: rgb(113, 58, 158);">MCP</a><a href="/tags/a2a/" style="font-size: 1.17em; color: rgb(111, 91, 55);">A2A</a><a href="/tags/big-data/" style="font-size: 1.36em; color: rgb(50, 57, 162);">Big Data</a><a href="/tags/beam/" style="font-size: 1.28em; color: rgb(50, 68, 187);">Beam</a><a href="/tags/spark/" style="font-size: 1.24em; color: rgb(185, 89, 104);">Spark</a><a href="/tags/flink/" style="font-size: 1.15em; color: rgb(161, 73, 111);">Flink</a><a href="/tags/mapreduce/" style="font-size: 1.15em; color: rgb(94, 144, 50);">MapReduce</a><a href="/tags/rdd/" style="font-size: 1.15em; color: rgb(132, 50, 50);">RDD</a><a href="/tags/cloud-computing/" style="font-size: 1.26em; color: rgb(109, 66, 186);">Cloud Computing</a><a href="/tags/iaas/" style="font-size: 1.22em; color: rgb(52, 100, 50);">IaaS</a><a href="/tags/paas/" style="font-size: 1.22em; color: rgb(50, 90, 50);">PaaS</a><a href="/tags/cloud-native/" style="font-size: 1.45em; color: rgb(130, 124, 86);">Cloud Native</a><a href="/tags/kubernetes/" style="font-size: 1.43em; color: rgb(50, 199, 135);">Kubernetes</a><a href="/tags/devops/" style="font-size: 1.21em; color: rgb(163, 186, 102);">DevOps</a><a href="/tags/container/" style="font-size: 1.3em; color: rgb(50, 50, 173);">Container</a><a href="/tags/docker/" style="font-size: 1.32em; color: rgb(50, 61, 50);">Docker</a><a href="/tags/helm/" style="font-size: 1.15em; color: rgb(101, 50, 82);">Helm</a><a href="/tags/runc/" style="font-size: 1.15em; color: rgb(50, 103, 50);">runc</a><a href="/tags/kustomize/" style="font-size: 1.15em; color: rgb(50, 97, 77);">Kustomize</a><a href="/tags/oci/" style="font-size: 1.15em; color: rgb(71, 108, 50);">OCI</a><a href="/tags/buildkit/" style="font-size: 1.15em; color: rgb(128, 180, 83);">BuildKit</a><a href="/tags/crane/" style="font-size: 1.15em; color: rgb(86, 94, 131);">crane</a><a href="/tags/oci-image/" style="font-size: 1.15em; color: rgb(170, 50, 54);">OCI Image</a><a href="/tags/oci-runtime/" style="font-size: 1.15em; color: rgb(87, 196, 116);">OCI Runtime</a><a href="/tags/linux-namespace/" style="font-size: 1.15em; color: rgb(161, 62, 50);">Linux Namespace</a><a href="/tags/linux-cgroup/" style="font-size: 1.15em; color: rgb(192, 125, 193);">Linux CGroup</a><a href="/tags/k8s-manifest/" style="font-size: 1.15em; color: rgb(69, 128, 95);">K8S Manifest</a><a href="/tags/infrastructure/" style="font-size: 1.34em; color: rgb(116, 118, 110);">Infrastructure</a><a href="/tags/architecture/" style="font-size: 1.36em; color: rgb(173, 60, 50);">Architecture</a><a href="/tags/iac/" style="font-size: 1.15em; color: rgb(166, 126, 53);">IaC</a><a href="/tags/terraform/" style="font-size: 1.15em; color: rgb(157, 168, 78);">Terraform</a><a href="/tags/crossplane/" style="font-size: 1.15em; color: rgb(50, 86, 50);">Crossplane</a><a href="/tags/pulumi/" style="font-size: 1.15em; color: rgb(137, 121, 150);">Pulumi</a><a href="/tags/argo-cd/" style="font-size: 1.15em; color: rgb(68, 91, 50);">Argo CD</a><a href="/tags/vpc/" style="font-size: 1.15em; color: rgb(157, 184, 196);">VPC</a><a href="/tags/go-core/" style="font-size: 1.19em; color: rgb(154, 50, 57);">Go Core</a><a href="/tags/go/" style="font-size: 1.41em; color: rgb(176, 112, 69);">Go</a><a href="/tags/cloud-native-foundation/" style="font-size: 1.38em; color: rgb(172, 80, 50);">Cloud Native Foundation</a><a href="/tags/go-engineering/" style="font-size: 1.39em; color: rgb(77, 111, 70);">Go Engineering</a><a href="/tags/swagger/" style="font-size: 1.15em; color: rgb(98, 185, 115);">Swagger</a></div></div><div class="card-widget card-archives">
    <div class="item-headline">
      <i class="fas fa-archive"></i>
      <span>Archives</span>
      <a class="card-more-btn" href="/archives/"
            title="View More">
            <i class="fas fa-angle-right"></i>
          </a>
    </div>
  
    <ul class="card-archive-list">
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2025/01/">
            <span class="card-archive-list-date">
              January 2025
            </span>
            <span class="card-archive-list-count">22</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2024/10/">
            <span class="card-archive-list-date">
              October 2024
            </span>
            <span class="card-archive-list-count">18</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2024/09/">
            <span class="card-archive-list-date">
              September 2024
            </span>
            <span class="card-archive-list-count">30</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2024/08/">
            <span class="card-archive-list-date">
              August 2024
            </span>
            <span class="card-archive-list-count">31</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2024/07/">
            <span class="card-archive-list-date">
              July 2024
            </span>
            <span class="card-archive-list-count">10</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2024/06/">
            <span class="card-archive-list-date">
              June 2024
            </span>
            <span class="card-archive-list-count">6</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2023/05/">
            <span class="card-archive-list-date">
              May 2023
            </span>
            <span class="card-archive-list-count">11</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2023/04/">
            <span class="card-archive-list-date">
              April 2023
            </span>
            <span class="card-archive-list-count">1</span>
          </a>
        </li>
      
    </ul>
  </div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Website Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article Count :</div><div class="item-count">640</div></div><div class="webinfo-item"><div class="item-name">Total Word Count :</div><div class="item-count">1248.4k</div></div><div class="webinfo-item"><div class="item-name">Last Update :</div><div class="item-count" id="last-push-date" data-lastPushDate="2025-11-08T09:37:54.968Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2015 - 2025 By zhongmingmao</span></div><div class="footer_custom_text">Life is like a box of chocolates. You can't know what you'll eat until you open it.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="Toggle Between Traditional and Simplified Chinese">繁</button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>window.typedJSFn = {
  init: str => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: subtitleType => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        btf.getScript('https://cdn.jsdelivr.net/npm/typed.js/dist/typed.umd.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  },
  processSubtitle: (content, extraContents = []) => {
    if (true) {
      const sub = ["Stay hungry, stay foolish."].slice()

      if (extraContents.length > 0) {
        sub.unshift(...extraContents)
      }

      if (typeof content === 'string') {
        sub.unshift(content)
      } else if (Array.isArray(content)) {
        sub.unshift(...content)
      }

      sub.length > 0 && typedJSFn.init(sub)
    } else {
      document.getElementById('subtitle').textContent = typeof content === 'string' ? content :
        (Array.isArray(content) && content.length > 0 ? content[0] : '')
    }
  }
}
btf.addGlobalFn('pjaxSendOnce', () => { typed.destroy() }, 'typedDestroy')
</script><script>function subtitleType () {
  typedJSFn.processSubtitle(["Stay hungry, stay foolish."])
}
typedJSFn.run(subtitleType)</script><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (false) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script></div></body></html>