<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>ByteCoding</title><meta name="author" content="zhongmingmao"><meta name="copyright" content="zhongmingmao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="Focus on Infrastructure">
<meta property="og:type" content="website">
<meta property="og:title" content="ByteCoding">
<meta property="og:url" content="https://blog.zhongmingmao.top/page/5/index.html">
<meta property="og:site_name" content="ByteCoding">
<meta property="og:description" content="Focus on Infrastructure">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png">
<meta property="article:author" content="zhongmingmao">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="shortcut icon" href="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="canonical" href="https://blog.zhongmingmao.top/page/5/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":512,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":256},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":32,"languages":{"author":"Author: zhongmingmao","link":"Link: ","source":"Source: ByteCoding","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ByteCoding',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-06-11 01:06:06'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ByteCoding" type="application/atom+xml">
</head><body><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">521</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">152</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">69</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://cdn.pixabay.com/photo/2022/10/16/13/53/early-morning-7525151_1280.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="ByteCoding"><span class="site-name">ByteCoding</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">ByteCoding</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2023/01/16/go-foundation-gpm/" title="Go - GPM"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/go-concurrency.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go - GPM"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/01/16/go-foundation-gpm/" title="Go - GPM">Go - GPM</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-15T16:06:25.000Z" title="Created 2023-01-16 00:06:25">2023-01-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/go/">Go</a></span></div><div class="content">CPU
一个 Go 程序对于操作系统来说只是一个用户层程序，操作系统眼中只有线程
goroutine 的调度由 Go Runtime 来完成：『公平』竞争『CPU』
Go Runtime 如何将众多的 goroutine 按照一定的算法调度到『CPU』上运行


goroutine 要竞争的『CPU』是操作系统线程
将 goroutine 按照一定算法放到不同的操作系统线程上执行





演进
G-M -&gt; G-P-M
不支持抢占 -&gt; 支持协作式抢占 -&gt; 支持基于信号的异步抢占

G-M
2012.03.28 Go 1.0


抽象
每个 goroutine 对应于运行时的一个抽象结构 G
被视作『CPU』的操作系统线程，则对应另一个抽象结构 M（machine）


工作
将 G 调度到 M 上去运行


GOMAXPROCS
调度器可见的最大 M 数




缺陷：限制 Go 并发程序的伸缩性，尤其对于有高吞吐或并行计算的服务程序


由于单一全局互斥锁和集中状态存储的存在，导致所有 goroutine 相关操作，都需要上锁
M 之间经常传递可运行的 goroutine，导致调用延 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/01/15/go-foundation-csp/" title="Go - CSP"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/go-csp.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go - CSP"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/01/15/go-foundation-csp/" title="Go - CSP">Go - CSP</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-14T16:06:25.000Z" title="Created 2023-01-15 00:06:25">2023-01-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/go/">Go</a></span></div><div class="content">并发 vs 并行单核单进程
内部仅有一条代码执行流，不存在竞态，无需考虑同步问题





每个单进程应用对应一个操作系统进程
操作系统的多个进程按照时间片大小，被轮流调度到单核上执行
单核在某个时刻只能执行一个进程对应的程序代码，两个进程不存在并行执行的可能
并行（Parallelism）：在同一时刻，有两个或两个以上的进程的代码在处理器上执行
因此，多处理器或者多核处理器是并行执行的必要条件



多进程
应用结构清晰，维护性更好



应用通过 fork 等系统调用创建多个子进程，共同实现应用的功能
App1 内部划分为多个模块，每个模块用一个进程来承载执行，每个模块都是一个单独的执行流
在单核下，多进程依然无法并行执行，只能按照时间片被操作系统调度到单核上执行

多核多线程

进程并不适合用于承载采用了并发设计的应用的模块执行流
进程是操作系统中资源分配的基本单位：应用代码+应用数据、操作系统资源（文件描述符、内存地址空间等）
因此，进程的创建、切换和撤销的代价都很大


线程是运行于进程上下文中的更轻量的执行流
随着处理器技术的发展，多核处理器成为了主流，让真正的并行成为了可能
基于线程的应用通常采 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/01/14/go-foundation-pattern/" title="Go - Pattern"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/image-20231119210747019.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go - Pattern"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/01/14/go-foundation-pattern/" title="Go - Pattern">Go - Pattern</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-13T16:06:25.000Z" title="Created 2023-01-14 00:06:25">2023-01-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/go/">Go</a></span></div><div class="content">前置原则
在实际真正需要的时候才对程序进行抽象


不要为了抽象而抽象
不要为了使用接口而使用接口


解耦或者抽象是有成本的


造成运行效率的下降
影响代码的可读性



组合
如果 C++ 和 Java 是关于类型层次结构和类型分类的语言，那么 Go 是关于组合的语言
组合是 Go 的重要设计哲学之一，而正交性则为组合哲学的落地提供了方便的条件

正交
在计算机技术中，正交性用于表示某种不相依赖性或者解耦性
编程语言中的语法元素和语言特性也存在正交的情况，通过将这些正交的特性组合起来，可以实现更为高级的特性


Go 在语言设计层面提供的正交的语法元素




Key
Value



类型定义是正交的
无类型体系，没有父子类的概念


方法和类型是正交的
方法的本质只是将 receiver 参数作为第一个参数的函数而已


接口与其它语言元素是正交的
接口与它的实现者之间没有显式关联


方式
垂直组合
用在将多个类型通过类型嵌入的方式实现新类型的定义


传统的 OOP 编程语言大多是通过继承的方式构建出类型体系
Go 没有类型体系的概念，Go 通过类型的组合而不是继承让单一类型承载更多的功能 -  ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/01/13/go-foundation-nil/" title="Go - nil"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/go-nil.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go - nil"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/01/13/go-foundation-nil/" title="Go - nil">Go - nil</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-12T16:06:25.000Z" title="Created 2023-01-13 00:06:25">2023-01-13</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/go/">Go</a></span></div><div class="content">接口类型静态特性
接口类型变量具有静态类型


在编译阶段保证灵活性的安全

12345func main() &#123;    var err error = 1 // err 的静态类型为 error    //	cannot use 1 (type int) as type error in assignment:    //		int does not implement error (missing Error method)&#125;


编译器会在编译阶段对所有接口类型变量的赋值操作进行类型检查
如果右值的类型没有实现接口方法集合中的所有方法，会编译报错



动态特性
接口类型变量在运行时存储了右值的真实类型信息（即接口类型变量的动态类型）


拥有与动态语言相近的灵活性

123var err errorerr = errors.New(&quot;this is an error&quot;)fmt.Printf(&quot;%T\n&quot;, err) // *errors.errorString

errors/errors.go123func New(text string) ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/01/12/go-foundation-interface/" title="Go - interface"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/go-interface.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go - interface"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/01/12/go-foundation-interface/" title="Go - interface">Go - interface</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-11T16:06:25.000Z" title="Created 2023-01-12 00:06:25">2023-01-12</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/go/">Go</a></span></div><div class="content">概述
接口类型是由 type 和 interface 关键字定义的一组方法集合（唯一确定所代表的接口）称为方法，而非函数，更多是从这个接口的实现者的角度考虑的

1234type MyInterface interface &#123;    M1(int) error    M2(io.Writer, ...string)&#125;




方法的参数列表中的形参名和返回值列表中的具名返回值，都不作为区分两个方法的凭据

12345// 等价type MyInterface interface &#123;    M1(a int) error    M2(w io.Writer, args ...string)&#125;


在接口类型中声明的方法必须是具名的，且方法名在这个接口类型的方法集合中是唯一的


类型嵌入：在 Go 1.14 开始，接口类型允许嵌入不同接口类型的方法集合存在交集但需要方法名和函数签名也要保持一致，否则会编译报错

123456789101112131415type I1 interface &#123;    M1()&#125;type I2 interface &#12 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/01/11/go-foundation-type-embedding/" title="Go - Type Embedding"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/image-20231118185447664.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go - Type Embedding"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/01/11/go-foundation-type-embedding/" title="Go - Type Embedding">Go - Type Embedding</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-10T16:06:25.000Z" title="Created 2023-01-11 00:06:25">2023-01-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/go/">Go</a></span></div><div class="content">类型嵌入
在一个类型的定义中嵌入其它类型

接口
语义：方法集合并入


接口类型声明了由一个方法集合代表的接口

12345678910type E interface &#123;    M1()    M2()&#125;type I interface &#123;    M1()    M2()    M3()&#125;




完全等价：类型嵌入，新接口类型将嵌入的接口类型的方法集合，并入到自身的方法集合中 - 接口组合

123456789type E interface &#123;    M1()    M2()&#125;type I interface &#123;    E    M3()&#125;


Go 标准库

io/io.go1234567891011type Reader interface &#123;    Read(p []byte) (n int, err error)&#125;type Writer interface &#123;    Write(p []byte) (n int, err error)&#125;type Closer interfac ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/01/10/go-foundation-receiver/" title="Go - receiver"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/go-receiver.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go - receiver"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/01/10/go-foundation-receiver/" title="Go - receiver">Go - receiver</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-09T16:06:25.000Z" title="Created 2023-01-10 00:06:25">2023-01-10</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/go/">Go</a></span></div><div class="content">影响12func (t T) M1() &lt;=&gt; F1(t T)func (t *T) M2() &lt;=&gt; F2(t *T)




Method
Desc



M1
基于值拷贝，传递的是 T 类型实例的副本


M2
基于值拷贝，传递的是 T 类型实例的指针




123456789101112131415161718192021222324252627282930type T struct &#123;    a int&#125;func (t T) M1() &#123;    t.a = -1&#125;func (t *T) M2() &#123;    t.a += 1&#125;func main() &#123;    var t T    println(t.a) // 0    t.M1()    println(t.a) // 0    t.M2()    println(t.a) // 1    p := &amp;t    p.M1()    println(t.a) // 1    p.M2()    println(t.a) // 2&#125;

方法 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/01/09/go-foundation-method/" title="Go - Method"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/go-method.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go - Method"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/01/09/go-foundation-method/" title="Go - Method">Go - Method</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-08T16:06:25.000Z" title="Created 2023-01-09 00:06:25">2023-01-09</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/go/">Go</a></span></div><div class="content">OOP
Go 并不支持 OOP 的语法元素（类、对象、继承等），但仍支持方法（Method）
Go 引入 Method 并非为了实现 OOP 编程范式，而是出自 Go 的组合设计哲学下类型系统实现层面的需要


Method 本质上是一个以 receiver 参数作为第 1 个参数的 Function（Go 编译器协助转换）



形式
receiver 参数是 Method 和 Type 之间的纽带



ListenAndServeTLS 归属于 *Server 类型，而非 Server 类型

receiver
Method 必须归属于某个 Type，即 receiver 参数的类型

123func (receiver *T或T) MethodName(参数列表) (返回值列表) &#123;  // 方法体&#125;


无论 receiver 参数的类型是 *T 还是 T，receiver 参数的基类型都为 T
如果 receiver 的类型为 T，则这个 Method 是类型 T 的一个方法
如果 receiver 的类型为 *T，则这个 Method 是类型 *T 的一个方法


每个 Me ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/01/08/go-foundation-defer/" title="Go - defer"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/go-defer.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go - defer"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/01/08/go-foundation-defer/" title="Go - defer">Go - defer</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-07T16:06:25.000Z" title="Created 2023-01-08 00:06:25">2023-01-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/go/">Go</a></span></div><div class="content">defer
defer 是 Go 提供的一种延迟调用机制，defer 的运作离不开函数
只有函数或者方法内部才能使用 defer
defer 关键字后只能接受函数或者方法，被称为 deferred 函数
defer 将 deferred 函数注册到其所在的 goroutine 中，用于存放 deferred 函数的栈数据结构
这些 deferred 函数将在执行 defer 的函数退出前，按 LIFO 的顺序被调度




无论执行到函数体尾部成功返回，还是在某个错误处理分支显式 return，或者出现 panic
已经存储到 deferred 函数栈中的函数，都会被调度执行 - 收尾






1234567891011121314151617181920212223242526272829303132package mainimport &quot;sync&quot;type Closable interface &#123;    Close()&#125;type Resource struct &#123;&#125;func (r *Resource) Close() &#123;&#125; ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/01/07/go-foundation-panic/" title="Go - panic"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/image-20231112164749815.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go - panic"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/01/07/go-foundation-panic/" title="Go - panic">Go - panic</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-01-06T16:06:25.000Z" title="Created 2023-01-07 00:06:25">2023-01-07</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/go/">Go</a></span></div><div class="content">原则
不要相信任何外部输入的参数
函数需要对所有输入的参数进行合法性的检查
一旦发现问题，立即终止函数的执行，返回预设的错误值


不要忽略任何一个错误
显式检查这些函数调用返回的错误值
一旦发现错误，要及时终止函数执行，防止错误继续传播


不要假定异常不会发生
异常不是错误
错误是可预期的，也会经常发生，有对应的公开错误码和错误处理方案
异常是不可预期的，通常指的是硬件异常、操作系统异常、语言运行时异常、代码 Bug（数组越界访问）等


异常是小概率事件，但不能假定异常不会发生
根据函数的角色和使用场景，考虑是否要在函数内设置异常捕获和恢复的环节







panic
在 Go 中，由 panic 来表达异常的概念


panic 指的是 Go 程序在运行时出现的一个异常情况
如果异常出现了，但没有被捕获并恢复，则 Go 程序的执行会被终止
即便出现异常的位置不在主 goroutine


panic 来源：Go 运行时 &#x2F; 开发者通过 panic 函数主动触发
当 panic 被触发，后续的执行过程称为 panicking


手动调用 panic 函数，主动触发 panicking

 ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/4/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/#content-inner">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/#content-inner">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/53/#content-inner">53</a><a class="extend next" rel="next" href="/page/6/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">zhongmingmao</div><div class="author-info__description">Focus on Infrastructure.</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">521</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">152</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">69</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Things are always unexpected!</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/05/09/cloud-native-foundation-go-engineering-log/" title="Go Engineering - Log"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-engineering-1253868755.cos.ap-guangzhou.myqcloud.com/go-engineering-log.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Log"/></a><div class="content"><a class="title" href="/2023/05/09/cloud-native-foundation-go-engineering-log/" title="Go Engineering - Log">Go Engineering - Log</a><time datetime="2023-05-08T16:06:25.000Z" title="Created 2023-05-09 00:06:25">2023-05-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/05/08/cloud-native-foundation-go-engineering-err-code/" title="Go Engineering - Error Code"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-engineering-1253868755.cos.ap-guangzhou.myqcloud.com/go-engineering-error-handling.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Error Code"/></a><div class="content"><a class="title" href="/2023/05/08/cloud-native-foundation-go-engineering-err-code/" title="Go Engineering - Error Code">Go Engineering - Error Code</a><time datetime="2023-05-07T16:06:25.000Z" title="Created 2023-05-08 00:06:25">2023-05-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/05/07/cloud-native-foundation-go-engineering-doc/" title="Go Engineering - Doc"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-engineering-1253868755.cos.ap-guangzhou.myqcloud.com/go-engineering-doc.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Doc"/></a><div class="content"><a class="title" href="/2023/05/07/cloud-native-foundation-go-engineering-doc/" title="Go Engineering - Doc">Go Engineering - Doc</a><time datetime="2023-05-06T16:06:25.000Z" title="Created 2023-05-07 00:06:25">2023-05-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/05/06/cloud-native-foundation-go-engineering-lint/" title="Go Engineering - Lint"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-engineering-1253868755.cos.ap-guangzhou.myqcloud.com/go-engineering-lint.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Lint"/></a><div class="content"><a class="title" href="/2023/05/06/cloud-native-foundation-go-engineering-lint/" title="Go Engineering - Lint">Go Engineering - Lint</a><time datetime="2023-05-05T16:06:25.000Z" title="Created 2023-05-06 00:06:25">2023-05-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/05/05/cloud-native-foundation-go-engineering-makefile/" title="Go Engineering - Makefile"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-engineering-1253868755.cos.ap-guangzhou.myqcloud.com/go-engineering-makefile.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Makefile"/></a><div class="content"><a class="title" href="/2023/05/05/cloud-native-foundation-go-engineering-makefile/" title="Go Engineering - Makefile">Go Engineering - Makefile</a><time datetime="2023-05-04T16:06:25.000Z" title="Created 2023-05-05 00:06:25">2023-05-05</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            <a class="card-more-btn" href="/categories/" title="More">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/career/"><span class="card-category-list-name">Career</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/"><span class="card-category-list-name">Cloud Computing</span><span class="card-category-list-count">10</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/iaas/"><span class="card-category-list-name">IaaS</span><span class="card-category-list-count">5</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/paas/"><span class="card-category-list-name">PaaS</span><span class="card-category-list-count">5</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/"><span class="card-category-list-name">Cloud Native</span><span class="card-category-list-count">144</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/api-gateway/"><span class="card-category-list-name">API Gateway</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/cloud-native-foundation/"><span class="card-category-list-name">Cloud Native Foundation</span><span class="card-category-list-count">105</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/cloud-native-foundation/container/"><span class="card-category-list-name">Container</span><span class="card-category-list-count">2</span></a></li></ul></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/cloud-computing/" style="font-size: 1.23em; color: rgb(186, 47, 117)">Cloud Computing</a><a href="/tags/iaas/" style="font-size: 1.19em; color: rgb(100, 68, 1)">IaaS</a><a href="/tags/paas/" style="font-size: 1.19em; color: rgb(1, 105, 29)">PaaS</a><a href="/tags/cloud-native/" style="font-size: 1.45em; color: rgb(173, 106, 82)">Cloud Native</a><a href="/tags/kubernetes/" style="font-size: 1.43em; color: rgb(77, 125, 136)">Kubernetes</a><a href="/tags/devops/" style="font-size: 1.18em; color: rgb(147, 46, 86)">DevOps</a><a href="/tags/container/" style="font-size: 1.26em; color: rgb(170, 56, 10)">Container</a><a href="/tags/docker/" style="font-size: 1.28em; color: rgb(177, 158, 19)">Docker</a><a href="/tags/cloud-native-foundation/" style="font-size: 1.32em; color: rgb(2, 73, 48)">Cloud Native Foundation</a><a href="/tags/infrastructure/" style="font-size: 1.29em; color: rgb(81, 103, 89)">Infrastructure</a><a href="/tags/architecture/" style="font-size: 1.31em; color: rgb(168, 161, 35)">Architecture</a><a href="/tags/iac/" style="font-size: 1.15em; color: rgb(55, 10, 46)">IaC</a><a href="/tags/terraform/" style="font-size: 1.15em; color: rgb(5, 139, 188)">Terraform</a><a href="/tags/crossplane/" style="font-size: 1.15em; color: rgb(26, 181, 38)">Crossplane</a><a href="/tags/pulumi/" style="font-size: 1.15em; color: rgb(25, 185, 75)">Pulumi</a><a href="/tags/argo-cd/" style="font-size: 1.15em; color: rgb(182, 41, 16)">Argo CD</a><a href="/tags/vpc/" style="font-size: 1.15em; color: rgb(84, 6, 28)">VPC</a><a href="/tags/go-core/" style="font-size: 1.17em; color: rgb(111, 196, 116)">Go Core</a><a href="/tags/go/" style="font-size: 1.42em; color: rgb(108, 87, 123)">Go</a><a href="/tags/helm/" style="font-size: 1.15em; color: rgb(190, 137, 151)">Helm</a><a href="/tags/runc/" style="font-size: 1.15em; color: rgb(197, 59, 76)">runc</a><a href="/tags/kustomize/" style="font-size: 1.15em; color: rgb(97, 186, 179)">Kustomize</a><a href="/tags/oci/" style="font-size: 1.15em; color: rgb(162, 79, 77)">OCI</a><a href="/tags/buildkit/" style="font-size: 1.15em; color: rgb(157, 91, 172)">BuildKit</a><a href="/tags/crane/" style="font-size: 1.15em; color: rgb(44, 150, 90)">crane</a><a href="/tags/oci-image/" style="font-size: 1.15em; color: rgb(48, 2, 31)">OCI Image</a><a href="/tags/oci-runtime/" style="font-size: 1.15em; color: rgb(40, 139, 50)">OCI Runtime</a><a href="/tags/linux-namespace/" style="font-size: 1.15em; color: rgb(169, 89, 164)">Linux Namespace</a><a href="/tags/linux-cgroup/" style="font-size: 1.15em; color: rgb(134, 25, 24)">Linux CGroup</a><a href="/tags/k8s-manifest/" style="font-size: 1.15em; color: rgb(15, 112, 135)">K8S Manifest</a><a href="/tags/go-engineering/" style="font-size: 1.33em; color: rgb(192, 170, 15)">Go Engineering</a><a href="/tags/swagger/" style="font-size: 1.15em; color: rgb(76, 180, 167)">Swagger</a><a href="/tags/rpc/" style="font-size: 1.16em; color: rgb(45, 115, 18)">RPC</a><a href="/tags/grpc/" style="font-size: 1.16em; color: rgb(111, 90, 166)">gRPC</a><a href="/tags/ci/" style="font-size: 1.15em; color: rgb(162, 63, 87)">CI</a><a href="/tags/makefile/" style="font-size: 1.15em; color: rgb(135, 96, 16)">Makefile</a><a href="/tags/network/" style="font-size: 1.16em; color: rgb(59, 114, 86)">Network</a><a href="/tags/linux/" style="font-size: 1.27em; color: rgb(89, 47, 119)">Linux</a><a href="/tags/dockerfile/" style="font-size: 1.17em; color: rgb(98, 173, 5)">Dockerfile</a><a href="/tags/service-mesh/" style="font-size: 1.18em; color: rgb(81, 121, 125)">Service Mesh</a><a href="/tags/etcd/" style="font-size: 1.15em; color: rgb(135, 24, 199)">etcd</a><a href="/tags/raft/" style="font-size: 1.15em; color: rgb(137, 199, 14)">raft</a><a href="/tags/istio/" style="font-size: 1.17em; color: rgb(107, 95, 54)">Istio</a><a href="/tags/microservices/" style="font-size: 1.27em; color: rgb(168, 127, 123)">Microservices</a><a href="/tags/spring-cloud/" style="font-size: 1.21em; color: rgb(65, 70, 143)">Spring Cloud</a><a href="/tags/spring/" style="font-size: 1.24em; color: rgb(169, 125, 94)">Spring</a><a href="/tags/java/" style="font-size: 1.44em; color: rgb(52, 3, 180)">Java</a><a href="/tags/service-governance/" style="font-size: 1.17em; color: rgb(59, 66, 21)">Service Governance</a><a href="/tags/opa/" style="font-size: 1.21em; color: rgb(44, 123, 66)">OPA</a><a href="/tags/alibaba/" style="font-size: 1.22em; color: rgb(39, 3, 140)">Alibaba</a><a href="/tags/api-gateway/" style="font-size: 1.15em; color: rgb(32, 41, 83)">API Gateway</a><a href="/tags/apisix/" style="font-size: 1.15em; color: rgb(42, 146, 13)">APISIX</a><a href="/tags/security/" style="font-size: 1.26em; color: rgb(122, 123, 195)">Security</a><a href="/tags/compliance/" style="font-size: 1.17em; color: rgb(55, 61, 169)">Compliance</a><a href="/tags/serverless/" style="font-size: 1.22em; color: rgb(184, 198, 121)">Serverless</a><a href="/tags/faas/" style="font-size: 1.22em; color: rgb(33, 67, 6)">FaaS</a><a href="/tags/computer-basics/" style="font-size: 1.35em; color: rgb(186, 46, 192)">Computer Basics</a><a href="/tags/computer-organization/" style="font-size: 1.35em; color: rgb(73, 155, 104)">Computer Organization</a><a href="/tags/knowledge-map/" style="font-size: 1.15em; color: rgb(77, 26, 162)">Knowledge Map</a><a href="/tags/tool/" style="font-size: 1.23em; color: rgb(180, 139, 36)">Tool</a><a href="/tags/git/" style="font-size: 1.23em; color: rgb(183, 189, 154)">Git</a><a href="/tags/concurrency/" style="font-size: 1.15em; color: rgb(7, 166, 26)">Concurrency</a><a href="/tags/cloud/" style="font-size: 1.36em; color: rgb(84, 118, 111)">Cloud</a><a href="/tags/native/" style="font-size: 1.36em; color: rgb(43, 98, 87)">Native</a><a href="/tags/authentication/" style="font-size: 1.17em; color: rgb(90, 120, 200)">Authentication</a><a href="/tags/oauth-2-0/" style="font-size: 1.21em; color: rgb(140, 2, 166)">OAuth 2.0</a><a href="/tags/jwt/" style="font-size: 1.15em; color: rgb(183, 175, 21)">JWT</a><a href="/tags/ldap/" style="font-size: 1.15em; color: rgb(131, 11, 2)">LDAP</a><a href="/tags/storage/" style="font-size: 1.4em; color: rgb(110, 44, 109)">Storage</a><a href="/tags/mysql/" style="font-size: 1.41em; color: rgb(100, 124, 111)">MySQL</a><a href="/tags/innodb/" style="font-size: 1.2em; color: rgb(170, 89, 169)">InnoDB</a><a href="/tags/java-concurrent/" style="font-size: 1.38em; color: rgb(150, 188, 57)">Java Concurrent</a><a href="/tags/actor/" style="font-size: 1.15em; color: rgb(121, 112, 189)">Actor</a><a href="/tags/akka/" style="font-size: 1.15em; color: rgb(37, 120, 133)">Akka</a><a href="/tags/coroutine/" style="font-size: 1.16em; color: rgb(61, 29, 118)">Coroutine</a><a href="/tags/csp/" style="font-size: 1.15em; color: rgb(183, 144, 45)">CSP</a><a href="/tags/disruptor/" style="font-size: 1.15em; color: rgb(93, 86, 34)">Disruptor</a><a href="/tags/netty/" style="font-size: 1.15em; color: rgb(3, 95, 129)">Netty</a><a href="/tags/stm/" style="font-size: 1.15em; color: rgb(2, 125, 75)">STM</a><a href="/tags/mvcc/" style="font-size: 1.15em; color: rgb(158, 3, 45)">MVCC</a><a href="/tags/java-core/" style="font-size: 1.21em; color: rgb(82, 193, 97)">Java Core</a><a href="/tags/java-performance/" style="font-size: 1.34em; color: rgb(104, 128, 172)">Java Performance</a><a href="/tags/cas/" style="font-size: 1.15em; color: rgb(19, 114, 147)">CAS</a><a href="/tags/hashtable/" style="font-size: 1.15em; color: rgb(143, 97, 107)">HashTable</a><a href="/tags/concurrenthashmap/" style="font-size: 1.15em; color: rgb(145, 150, 148)">ConcurrentHashMap</a><a href="/tags/concurrentskiplistmap/" style="font-size: 1.15em; color: rgb(134, 25, 43)">ConcurrentSkipListMap</a><a href="/tags/design-pattern/" style="font-size: 1.18em; color: rgb(34, 15, 105)">Design Pattern</a><a href="/tags/consistency/" style="font-size: 1.15em; color: rgb(59, 87, 39)">Consistency</a><a href="/tags/jvm/" style="font-size: 1.37em; color: rgb(133, 200, 49)">JVM</a><a href="/tags/gc/" style="font-size: 1.16em; color: rgb(193, 52, 128)">GC</a><a href="/tags/hashmap/" style="font-size: 1.15em; color: rgb(1, 148, 107)">HashMap</a><a href="/tags/jit/" style="font-size: 1.15em; color: rgb(147, 58, 124)">JIT</a><a href="/tags/io/" style="font-size: 1.15em; color: rgb(126, 3, 4)">IO</a><a href="/tags/nio/" style="font-size: 1.16em; color: rgb(70, 103, 169)">NIO</a><a href="/tags/aio/" style="font-size: 1.16em; color: rgb(104, 117, 71)">AIO</a><a href="/tags/epoll/" style="font-size: 1.16em; color: rgb(12, 170, 53)">Epoll</a><a href="/tags/bio/" style="font-size: 1.15em; color: rgb(12, 142, 176)">BIO</a><a href="/tags/tomcat/" style="font-size: 1.15em; color: rgb(120, 66, 152)">Tomcat</a><a href="/tags/select/" style="font-size: 1.15em; color: rgb(44, 57, 127)">Select</a><a href="/tags/poll/" style="font-size: 1.15em; color: rgb(36, 135, 176)">Poll</a><a href="/tags/zero-copy/" style="font-size: 1.15em; color: rgb(94, 174, 176)">Zero Copy</a><a href="/tags/mmap/" style="font-size: 1.15em; color: rgb(186, 2, 1)">mmap</a><a href="/tags/reactor/" style="font-size: 1.15em; color: rgb(136, 71, 174)">Reactor</a><a href="/tags/synchronized/" style="font-size: 1.16em; color: rgb(29, 37, 146)">synchronized</a><a href="/tags/lock/" style="font-size: 1.15em; color: rgb(167, 81, 177)">Lock</a><a href="/tags/reentrantreadwritelock/" style="font-size: 1.15em; color: rgb(154, 52, 26)">ReentrantReadWriteLock</a><a href="/tags/stampedlock/" style="font-size: 1.15em; color: rgb(142, 60, 64)">StampedLock</a><a href="/tags/serialization/" style="font-size: 1.15em; color: rgb(92, 139, 45)">Serialization</a><a href="/tags/protobuf/" style="font-size: 1.15em; color: rgb(198, 180, 131)">ProtoBuf</a><a href="/tags/java-stream/" style="font-size: 1.15em; color: rgb(98, 22, 117)">Java Stream</a><a href="/tags/mark-word/" style="font-size: 1.15em; color: rgb(40, 139, 10)">Mark Word</a><a href="/tags/monitor/" style="font-size: 1.15em; color: rgb(14, 181, 34)">Monitor</a><a href="/tags/thread-pool/" style="font-size: 1.15em; color: rgb(115, 35, 175)">Thread Pool</a><a href="/tags/context-switch/" style="font-size: 1.15em; color: rgb(165, 130, 134)">Context Switch</a><a href="/tags/lambda/" style="font-size: 1.15em; color: rgb(3, 30, 158)">Lambda</a><a href="/tags/bytecode-manipulation/" style="font-size: 1.17em; color: rgb(194, 117, 100)">Bytecode Manipulation</a><a href="/tags/asm/" style="font-size: 1.15em; color: rgb(160, 194, 22)">ASM</a><a href="/tags/jol/" style="font-size: 1.17em; color: rgb(124, 74, 21)">JOL</a><a href="/tags/middleware/" style="font-size: 1.39em; color: rgb(171, 116, 192)">Middleware</a><a href="/tags/mq/" style="font-size: 1.39em; color: rgb(153, 115, 90)">MQ</a><a href="/tags/kafka/" style="font-size: 1.39em; color: rgb(14, 84, 102)">Kafka</a><a href="/tags/stream/" style="font-size: 1.39em; color: rgb(131, 133, 53)">Stream</a><a href="/tags/avro/" style="font-size: 1.18em; color: rgb(142, 0, 161)">Avro</a><a href="/tags/rebalance/" style="font-size: 1.17em; color: rgb(149, 132, 3)">Rebalance</a><a href="/tags/consumer-group/" style="font-size: 1.15em; color: rgb(9, 135, 184)">Consumer Group</a><a href="/tags/compression/" style="font-size: 1.15em; color: rgb(59, 179, 161)">Compression</a><a href="/tags/tcp/" style="font-size: 1.16em; color: rgb(159, 131, 189)">TCP</a><a href="/tags/idempotence/" style="font-size: 1.15em; color: rgb(61, 158, 44)">Idempotence</a><a href="/tags/producer/" style="font-size: 1.15em; color: rgb(80, 15, 8)">Producer</a><a href="/tags/load-balance/" style="font-size: 1.15em; color: rgb(22, 191, 21)">Load Balance</a><a href="/tags/distributed-architecture/" style="font-size: 1.15em; color: rgb(123, 82, 130)">Distributed Architecture</a><a href="/tags/distributed-design-pattern/" style="font-size: 1.17em; color: rgb(70, 170, 63)">Distributed Design Pattern</a><a href="/tags/career/" style="font-size: 1.15em; color: rgb(43, 173, 55)">Career</a><a href="/tags/linux-performance/" style="font-size: 1.17em; color: rgb(62, 29, 128)">Linux Performance</a><a href="/tags/linux-practice/" style="font-size: 1.25em; color: rgb(125, 120, 136)">Linux Practice</a><a href="/tags/ext4/" style="font-size: 1.15em; color: rgb(99, 98, 128)">ext4</a><a href="/tags/file-system/" style="font-size: 1.15em; color: rgb(125, 48, 50)">File System</a><a href="/tags/math/" style="font-size: 1.16em; color: rgb(24, 127, 146)">Math</a><a href="/tags/microservices-governance/" style="font-size: 1.22em; color: rgb(81, 134, 3)">Microservices Governance</a><a href="/tags/config/" style="font-size: 1.17em; color: rgb(56, 140, 45)">Config</a><a href="/tags/configuration-center/" style="font-size: 1.17em; color: rgb(118, 126, 46)">Configuration Center</a><a href="/tags/apollo/" style="font-size: 1.17em; color: rgb(129, 134, 133)">Apollo</a><a href="/tags/oauth2/" style="font-size: 1.2em; color: rgb(114, 112, 118)">Oauth2</a><a href="/tags/spring-security/" style="font-size: 1.19em; color: rgb(115, 159, 79)">Spring Security</a><a href="/tags/spring-security-oauth2/" style="font-size: 1.19em; color: rgb(175, 122, 58)">Spring Security OAuth2</a><a href="/tags/vim/" style="font-size: 1.2em; color: rgb(173, 66, 160)">Vim</a><a href="/tags/web/" style="font-size: 1.21em; color: rgb(94, 21, 143)">Web</a><a href="/tags/javascript/" style="font-size: 1.19em; color: rgb(170, 85, 58)">JavaScript</a><a href="/tags/performance-tuning/" style="font-size: 1.15em; color: rgb(103, 62, 34)">Performance Tuning</a><a href="/tags/zookeeper/" style="font-size: 1.16em; color: rgb(37, 72, 167)">Zookeeper</a><a href="/tags/distributed-lock/" style="font-size: 1.15em; color: rgb(25, 8, 198)">Distributed Lock</a><a href="/tags/zab/" style="font-size: 1.15em; color: rgb(4, 82, 56)">ZAB</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span><a class="card-more-btn" href="/archives/" title="More">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">May 2023</span><span class="card-archive-list-count">9</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">April 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/02/"><span class="card-archive-list-date">February 2023</span><span class="card-archive-list-count">15</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/01/"><span class="card-archive-list-date">January 2023</span><span class="card-archive-list-count">31</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/12/"><span class="card-archive-list-date">December 2022</span><span class="card-archive-list-count">31</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/11/"><span class="card-archive-list-date">November 2022</span><span class="card-archive-list-count">8</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/10/"><span class="card-archive-list-date">October 2022</span><span class="card-archive-list-count">31</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/09/"><span class="card-archive-list-date">September 2022</span><span class="card-archive-list-count">15</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">521</div></div><div class="webinfo-item"><div class="item-name">Run time :</div><div class="item-count" id="runtimeshow" data-publishDate="2015-06-30T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Total Count :</div><div class="item-count">959.9k</div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-06-10T17:06:05.106Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.pixabay.com/photo/2018/08/27/15/17/fishing-3635221_1280.png')"><div id="footer-wrap"><div class="copyright">&copy;2015 - 2024 By zhongmingmao</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Life is like a box of chocolates. You can't know what you'll eat until you open it.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["Stay hungry, stay foolish."])
  } else {
    document.getElementById("subtitle").innerHTML = 'Stay hungry, stay foolish.'
  }
}
typedJSFn.run(subtitleType)</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></body></html>