<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>ByteCoding</title><meta name="author" content="zhongmingmao"><meta name="copyright" content="zhongmingmao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="Focus on Infrastructure">
<meta property="og:type" content="website">
<meta property="og:title" content="ByteCoding">
<meta property="og:url" content="https://blog.zhongmingmao.top/page/3/index.html">
<meta property="og:site_name" content="ByteCoding">
<meta property="og:description" content="Focus on Infrastructure">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png">
<meta property="article:author" content="zhongmingmao">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="shortcut icon" href="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="canonical" href="https://blog.zhongmingmao.top/page/3/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":512,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":256},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":32,"languages":{"author":"Author: zhongmingmao","link":"Link: ","source":"Source: ByteCoding","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ByteCoding',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-11-21 01:26:36'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ByteCoding" type="application/atom+xml">
</head><body><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">601</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">185</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">76</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://cdn.pixabay.com/photo/2022/10/16/13/53/early-morning-7525151_1280.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="ByteCoding"><span class="site-name">ByteCoding</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">ByteCoding</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2024/09/11/bigdata-batch-stream/" title="Big Data - Batch + Stream"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/image-20241115160715474.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Big Data - Batch + Stream"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/11/bigdata-batch-stream/" title="Big Data - Batch + Stream">Big Data - Batch + Stream</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-10T16:06:25.000Z" title="Created 2024-09-11 00:06:25">2024-09-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/big-data/">Big Data</a></span></div><div class="content">ConceptUnbounded vs Bounded
有界数据是无界数据的一个子集


无界数据是一种不断增长，是无限的数据集，无法判定何时停止发送 - Streaming Data
有界数据是一种有限的数据集



Event Time vs Precessing Time


Time Domain
Desc



事件时间 - Event Time
一个数据实际产生的时间点


处理时间 - Precessing Time
处理数据的系统架构实际接收到这个数据的时间点


Batching
数据的批处理 - 一系列相关联的任务按顺序（或并行）一个接一个地执行
批处理的输入是在一段时间内已经收集保存好的数据
每次批处理所产生的输出可以作为下一次批处理的输入 - Pipeline
绝大部分情况下，批处理的输入输出都是有界数据，更多关心的数据的事件时间
批处理任务一般会以定时任务的形态存在
应用场景 - 日志分析、计费应用、数据仓库
开源项目 - Apache Hadoop、Apache Spark
缺点 - 高延迟性

Streaming
数据的流处理 - 系统需要接收并处理一系列连续不断变化的数据
流处 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/09/10/bigdata-distributed-system/" title="Big Data - Distributed System"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/image-20241115122617632.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Big Data - Distributed System"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/10/bigdata-distributed-system/" title="Big Data - Distributed System">Big Data - Distributed System</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-09T16:06:25.000Z" title="Created 2024-09-10 00:06:25">2024-09-10</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/big-data/">Big Data</a></span></div><div class="content">SLA
Service-Level Agreement - 系统服务提供者对客户的一个服务承诺

Availabilty
可用性指的是系统服务能正常运行所占的时间百分比
对许多系统来说，99.99% 可以被认为高可用性 - 中断时间≈ 50 分钟&#x2F;年



Accuracy
是否允许某些数据不准确或者丢失，如果允许发生，用户可以接受的概率
不同系统平台会用不同的指标去定义准确性，常用的是 Error Rate

$$错误率&#x3D;\frac{导致系统产生内部错误的有效请求数}{期间的有效请求总数}$$

Case


以分钟为单位，每个月的 Error Rate 超过 5% 的时间少于 0.1%
以 5 分钟为单位，Error Rate 不会超过 0.1%


评估系统准确性


性能测试
查看系统日志

Capacity
系统容量通常指的是系统能够支持的预期负载量是多少，一般会以每秒的请求数为单位来表示
QPS - Queries Per Second
RPS - Requests Per Second


定义 Capacity 的方式 - Throttling &#x2F; Perform ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/09/09/rag-vector-qdrant/" title="RAG - Qdrant"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://rag-1253868755.cos.ap-guangzhou.myqcloud.com/qdrant.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="RAG - Qdrant"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/09/rag-vector-qdrant/" title="RAG - Qdrant">RAG - Qdrant</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-08T16:06:25.000Z" title="Created 2024-09-09 00:06:25">2024-09-09</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/ai/">AI</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/ai/rag/">RAG</a></span></div><div class="content">Features


Getting StartedIntroduction
Vector databases are a relatively new way for interacting with abstract data representations derived from opaque machine learning models such as deep learning architectures.
These representations are often called vectors or embeddings and they are a compressed version of the data used to train a machine learning model to accomplish a task like sentiment analysis, speech recognition, object detection, and many others.

What is Qdrant?
Qdrant “is a vector similarity sear ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/09/08/python-debug-profile/" title="Python - Debug + Profile"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://python-1253868755.cos.ap-guangzhou.myqcloud.com/python-debugging.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python - Debug + Profile"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/08/python-debug-profile/" title="Python - Debug + Profile">Python - Debug + Profile</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-07T16:06:25.000Z" title="Created 2024-09-08 00:06:25">2024-09-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/python/">Python</a></span></div><div class="content">pdb
pdb 是 Python 自带的调试库，为 Python 程序提供交互式的源代码调试功能，是命令行版本的 IDE 断点调试器




Instruction
Desc



p
print


n
next - step over


l
list - show source code context


s
step into


r
stop out - 继续执行，直到当前函数完成后返回


&#96;b [ ([filename:]lineno
function) [, condition] ]&#96;


c
continue - 一直执行程序，直到遇到下一个断点






step into - --Call-- + --Return--


cProfile
瓶颈在于 fib 函数





Item
Desc



ncalls
相应代码&#x2F;函数被调用的次数


tottime
相应代码&#x2F;函数总共执行所需的时间（不包括它调用其它代码&#x2F;函数的执行时间）


tottime percall
tottime &#x2F; ncalls


cumtime
相应代 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/09/07/python-with/" title="Python - With"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://python-1253868755.cos.ap-guangzhou.myqcloud.com/python-with.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python - With"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/07/python-with/" title="Python - With">Python - With</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-06T16:06:25.000Z" title="Created 2024-09-07 00:06:25">2024-09-07</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/python/">Python</a></span></div><div class="content">场景
资源是有限的，使用过后需要释放，否则会造成资源泄露

File123for x in range(10_000_000):    f = open(&#x27;test.txt&#x27;, &#x27;w&#x27;)  # OSError: [Errno 24] Too many open files    f.write(&#x27;hello&#x27;)




context manager 帮助自动分配并释放资源 - with 语句

123for x in range(10_000_000):    with open(&#x27;test.txt&#x27;, &#x27;w&#x27;) as f:  # This will open and close the file 10_000_000 times        f.write(&#x27;hello&#x27;)


try - finally

12345f = open(&#x27;test.txt&#x27;, &#x27;w&#x27;)try:    f.write(&#x27;hello&#x27;)finall ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/09/06/python-gc/" title="Python - GC"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://python-1253868755.cos.ap-guangzhou.myqcloud.com/image-20241101191222475.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python - GC"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/06/python-gc/" title="Python - GC">Python - GC</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-05T16:06:25.000Z" title="Created 2024-09-06 00:06:25">2024-09-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/python/">Python</a></span></div><div class="content">计数引用
Python 中一切皆对象，变量的本质是对像的指针
当一个对象的引用计数（指针数）为 0 时，说明该对象不可达，成为垃圾，需要被回收





调用函数 func()，创建列表 a 后，内存占用迅速增加，在函数调用结束后，内存恢复正常
函数内部声明的列表 a 是局部变量，在函数返回后，局部变量的引用会被注销
列表 a 所指向的对象的引用数为 0，Python 会执行 GC，回收内存




全局变量 - global



将生成的列表返回，在主程序中接收


内部实现1234567891011121314import sysa = []print(sys.getrefcount(a))  # 2 = a + getrefcountdef func(a):    print(sys.getrefcount(a))  # 4 = a + getrefcount + func call stack + func argsfunc(a)print(sys.getrefcount(a))  # 2 = a + getrefcount


sys.getrefcount 本身也会引入一次计数
在函数调用发生的 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/09/05/python-gil/" title="Python - GIL"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://python-1253868755.cos.ap-guangzhou.myqcloud.com/python-gil.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python - GIL"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/05/python-gil/" title="Python - GIL">Python - GIL</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-04T16:06:25.000Z" title="Created 2024-09-05 00:06:25">2024-09-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/python/">Python</a></span></div><div class="content">Cpu bound
单线程 - 2.555494917

12345678910111213import timedef CountDown(n):    while n &gt; 0:        n -= 1start = time.perf_counter()n = 100_000_000CountDown(n)end = time.perf_counter()print(f&quot;Time elapsed: &#123;end - start&#125; seconds&quot;)  # Time elapsed: 2.555494917 seconds




多线程 - 2.477930167

123456789101112131415161718192021import timefrom threading import Threaddef CountDown(n):    while n &gt; 0:        n -= 1start = time.perf_counter()n = 100_000_000t1 = Thread(target=CountDown, args=[ ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/09/04/python-asyncio/" title="Python - Async IO"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://python-1253868755.cos.ap-guangzhou.myqcloud.com/python-asyncio.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python - Async IO"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/04/python-asyncio/" title="Python - Async IO">Python - Async IO</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-03T16:06:25.000Z" title="Created 2024-09-04 00:06:25">2024-09-04</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/python/">Python</a></span></div><div class="content">线程局限
多线程在运行过程中容易被打断，有可能会出现 race condition 的情况
线程切换本身存在开销，不能无限增加线程数



Sync vs Async
Sync - 操作顺序执行，前面阻塞后面
Async - 不同操作间可以交替执行，如果其中一个操作被阻塞了，程序不会等待，而是会找出可执行的操作继续执行

原理
CSP - Communicating sequential processes


asyncio 与 Python 程序一样，都是单线程的
asyncio 只有一个主线程，但可以进行多个不同的任务（特殊的 Future 对象），这些不同的任务被 Event loop 控制
假设任务只有两个状态 - 预备状态 &#x2F; 等待状态
预备状态 - 任务目前空闲，随时准备运行
等待状态 - 任务已经运行，但在等待外部操作完成（如 IO）


Event loop 维护两个任务列表，分别对应预备状态和等待状态
选取预备状态的一个任务（与任务的等待时长、占用资源等相关），使其运行，直到该任务将控制权交还给 Event loop 为止
当任务将控制权交还给 Event loop 时，Even ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/09/03/python-futures/" title="Python - Futures"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://python-1253868755.cos.ap-guangzhou.myqcloud.com/python-futures.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python - Futures"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/03/python-futures/" title="Python - Futures">Python - Futures</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-02T16:06:25.000Z" title="Created 2024-09-03 00:06:25">2024-09-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/python/">Python</a></span></div><div class="content">并行 vs 并发
并发（Concurrency） - 在某个特定的时刻，只允许有一个操作发生，线程和任务之间会相互切换，交替运行
并行（Parallelism） - 在同一时刻，有多个操作同时进行
Python 中有两种并发形式 - threading + asyncio




threading


操作系统知道每个线程的所有信息，在适当的时候做线程切换
优点 - 代码易于编写，程序员不需要做任何切换操作
缺点 - 容易出现 race condition


asyncio


主程序想要切换任务时，必须得到此任务可以切换的通知
避免了 race condition 的情况


场景


并发通常用于 IO 密集的场景 - Web 应用
并行通常用于 CPU 密集的场景 - MapReduce

线程池 vs 进程池
大部分时间是浪费在 IO 等待上



多线程（并发） - 16.8s -&gt; 3.5s


12with concurrent.futures.ThreadPoolExecutor(max_workers=5) as executor:     executor.map(downloa ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/09/02/python-coroutine/" title="Python - Coroutine"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://python-1253868755.cos.ap-guangzhou.myqcloud.com/python-coroutine.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python - Coroutine"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/02/python-coroutine/" title="Python - Coroutine">Python - Coroutine</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-01T16:06:25.000Z" title="Created 2024-09-02 00:06:25">2024-09-02</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/python/">Python</a></span></div><div class="content">基础
协程是实现并发编程的一种方式
多线程&#x2F;多进程模型，是解决并发问题的经典模式
C10K - 线程&#x2F;进程上下文切换占用大量资源


Nginx Event loop
启动一个统一的调度器，让调度器来决定一个时刻去运行哪个任务
节省了多线程中启动线程、管理线程、同步锁等各种开销
相比于 Apache，用更低的资源支持更多的并发连接


Callback hell - JavaScript
继承了 Event loop 的优越性，同时还提供 async &#x2F; await 语法糖，解决了执行性和可读性共存的难题
协程开始崭露头角，尝试使用 Node.js 实现后端


Python 3.7 提供基于 asyncio 的 async &#x2F; await 方法



同步
简单实现

12345678910111213141516import timedef crawl_page(url):    print(&#x27;crawling &#123;&#125;&#x27;.format(url))    sleep_time = int(url.split(&#x27;_&#x2 ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/2/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/#content-inner">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/#content-inner">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/61/#content-inner">61</a><a class="extend next" rel="next" href="/page/4/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">zhongmingmao</div><div class="author-info__description">Focus on Infrastructure.</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">601</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">185</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">76</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Things are always unexpected!</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/10/01/bigdata-beam-execution-engine/" title="Beam - Execution Engine"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/flink-runner-beam-language-portability.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Beam - Execution Engine"/></a><div class="content"><a class="title" href="/2024/10/01/bigdata-beam-execution-engine/" title="Beam - Execution Engine">Beam - Execution Engine</a><time datetime="2024-09-30T16:06:25.000Z" title="Created 2024-10-01 00:06:25">2024-10-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/30/bigdata-beam-pipeline-test/" title="Beam - Pipeline Test"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-beam-pipeline-test.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Beam - Pipeline Test"/></a><div class="content"><a class="title" href="/2024/09/30/bigdata-beam-pipeline-test/" title="Beam - Pipeline Test">Beam - Pipeline Test</a><time datetime="2024-09-29T16:06:25.000Z" title="Created 2024-09-30 00:06:25">2024-09-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/29/bigdata-beam-pattern/" title="Beam - Pattern"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-beam-pattern.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Beam - Pattern"/></a><div class="content"><a class="title" href="/2024/09/29/bigdata-beam-pattern/" title="Beam - Pattern">Beam - Pattern</a><time datetime="2024-09-28T16:06:25.000Z" title="Created 2024-09-29 00:06:25">2024-09-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/28/bigdata-beam-pipeline-io/" title="Beam - Pipeline IO"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-beam-pipeline-io.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Beam - Pipeline IO"/></a><div class="content"><a class="title" href="/2024/09/28/bigdata-beam-pipeline-io/" title="Beam - Pipeline IO">Beam - Pipeline IO</a><time datetime="2024-09-27T16:06:25.000Z" title="Created 2024-09-28 00:06:25">2024-09-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/27/bigdata-beam-pipeline/" title="Beam - Pipeline"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-beam-pipeline.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Beam - Pipeline"/></a><div class="content"><a class="title" href="/2024/09/27/bigdata-beam-pipeline/" title="Beam - Pipeline">Beam - Pipeline</a><time datetime="2024-09-26T16:06:25.000Z" title="Created 2024-09-27 00:06:25">2024-09-27</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            <a class="card-more-btn" href="/categories/" title="More">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/"><span class="card-category-list-name">AI</span><span class="card-category-list-count">34</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/llm/"><span class="card-category-list-name">LLM</span><span class="card-category-list-count">16</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/rag/"><span class="card-category-list-name">RAG</span><span class="card-category-list-count">18</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/big-data/"><span class="card-category-list-name">Big Data</span><span class="card-category-list-count">22</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/big-data/beam/"><span class="card-category-list-name">Beam</span><span class="card-category-list-count">9</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/big-data/spark/"><span class="card-category-list-name">Spark</span><span class="card-category-list-count">6</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/career/"><span class="card-category-list-name">Career</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/"><span class="card-category-list-name">Cloud Computing</span><span class="card-category-list-count">10</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/big-data/" style="font-size: 1.29em; color: rgb(103, 168, 127)">Big Data</a><a href="/tags/beam/" style="font-size: 1.22em; color: rgb(80, 114, 118)">Beam</a><a href="/tags/spark/" style="font-size: 1.2em; color: rgb(189, 80, 88)">Spark</a><a href="/tags/mapreduce/" style="font-size: 1.15em; color: rgb(116, 179, 40)">MapReduce</a><a href="/tags/flink/" style="font-size: 1.15em; color: rgb(78, 120, 31)">Flink</a><a href="/tags/rdd/" style="font-size: 1.15em; color: rgb(104, 135, 31)">RDD</a><a href="/tags/cloud-computing/" style="font-size: 1.22em; color: rgb(37, 115, 152)">Cloud Computing</a><a href="/tags/iaas/" style="font-size: 1.19em; color: rgb(5, 200, 124)">IaaS</a><a href="/tags/paas/" style="font-size: 1.19em; color: rgb(90, 159, 46)">PaaS</a><a href="/tags/cloud-native/" style="font-size: 1.45em; color: rgb(60, 29, 13)">Cloud Native</a><a href="/tags/kubernetes/" style="font-size: 1.43em; color: rgb(90, 36, 67)">Kubernetes</a><a href="/tags/devops/" style="font-size: 1.18em; color: rgb(36, 64, 20)">DevOps</a><a href="/tags/container/" style="font-size: 1.26em; color: rgb(14, 115, 111)">Container</a><a href="/tags/docker/" style="font-size: 1.28em; color: rgb(159, 120, 100)">Docker</a><a href="/tags/go-core/" style="font-size: 1.17em; color: rgb(20, 46, 19)">Go Core</a><a href="/tags/go/" style="font-size: 1.42em; color: rgb(6, 38, 130)">Go</a><a href="/tags/go-engineering/" style="font-size: 1.34em; color: rgb(196, 134, 184)">Go Engineering</a><a href="/tags/swagger/" style="font-size: 1.15em; color: rgb(68, 30, 58)">Swagger</a><a href="/tags/rpc/" style="font-size: 1.16em; color: rgb(191, 128, 86)">RPC</a><a href="/tags/grpc/" style="font-size: 1.16em; color: rgb(34, 153, 125)">gRPC</a><a href="/tags/ci/" style="font-size: 1.15em; color: rgb(130, 200, 142)">CI</a><a href="/tags/makefile/" style="font-size: 1.15em; color: rgb(39, 28, 73)">Makefile</a><a href="/tags/network/" style="font-size: 1.16em; color: rgb(106, 124, 92)">Network</a><a href="/tags/cloud-native-foundation/" style="font-size: 1.33em; color: rgb(14, 55, 97)">Cloud Native Foundation</a><a href="/tags/linux/" style="font-size: 1.27em; color: rgb(56, 181, 21)">Linux</a><a href="/tags/dockerfile/" style="font-size: 1.17em; color: rgb(0, 111, 26)">Dockerfile</a><a href="/tags/service-mesh/" style="font-size: 1.18em; color: rgb(179, 88, 87)">Service Mesh</a><a href="/tags/microservices/" style="font-size: 1.27em; color: rgb(116, 47, 183)">Microservices</a><a href="/tags/spring-cloud/" style="font-size: 1.21em; color: rgb(120, 67, 45)">Spring Cloud</a><a href="/tags/spring/" style="font-size: 1.23em; color: rgb(102, 156, 88)">Spring</a><a href="/tags/java/" style="font-size: 1.44em; color: rgb(50, 36, 24)">Java</a><a href="/tags/service-governance/" style="font-size: 1.17em; color: rgb(159, 97, 46)">Service Governance</a><a href="/tags/opa/" style="font-size: 1.21em; color: rgb(108, 67, 49)">OPA</a><a href="/tags/alibaba/" style="font-size: 1.22em; color: rgb(80, 29, 56)">Alibaba</a><a href="/tags/security/" style="font-size: 1.26em; color: rgb(164, 200, 157)">Security</a><a href="/tags/compliance/" style="font-size: 1.17em; color: rgb(10, 157, 147)">Compliance</a><a href="/tags/infrastructure/" style="font-size: 1.31em; color: rgb(117, 167, 164)">Infrastructure</a><a href="/tags/architecture/" style="font-size: 1.32em; color: rgb(18, 65, 196)">Architecture</a><a href="/tags/serverless/" style="font-size: 1.22em; color: rgb(88, 192, 72)">Serverless</a><a href="/tags/faas/" style="font-size: 1.22em; color: rgb(2, 187, 177)">FaaS</a><a href="/tags/computer-basics/" style="font-size: 1.36em; color: rgb(128, 171, 92)">Computer Basics</a><a href="/tags/computer-organization/" style="font-size: 1.36em; color: rgb(39, 172, 175)">Computer Organization</a><a href="/tags/knowledge-map/" style="font-size: 1.15em; color: rgb(101, 162, 168)">Knowledge Map</a><a href="/tags/tool/" style="font-size: 1.22em; color: rgb(23, 2, 68)">Tool</a><a href="/tags/git/" style="font-size: 1.22em; color: rgb(29, 158, 28)">Git</a><a href="/tags/concurrency/" style="font-size: 1.15em; color: rgb(10, 195, 57)">Concurrency</a><a href="/tags/cloud/" style="font-size: 1.37em; color: rgb(62, 164, 19)">Cloud</a><a href="/tags/native/" style="font-size: 1.37em; color: rgb(106, 20, 48)">Native</a><a href="/tags/authentication/" style="font-size: 1.17em; color: rgb(152, 136, 123)">Authentication</a><a href="/tags/ldap/" style="font-size: 1.15em; color: rgb(60, 188, 32)">LDAP</a><a href="/tags/oauth-2-0/" style="font-size: 1.21em; color: rgb(41, 184, 151)">OAuth 2.0</a><a href="/tags/storage/" style="font-size: 1.4em; color: rgb(121, 106, 15)">Storage</a><a href="/tags/mysql/" style="font-size: 1.41em; color: rgb(39, 111, 174)">MySQL</a><a href="/tags/innodb/" style="font-size: 1.2em; color: rgb(182, 168, 24)">InnoDB</a><a href="/tags/java-concurrent/" style="font-size: 1.38em; color: rgb(68, 154, 96)">Java Concurrent</a><a href="/tags/actor/" style="font-size: 1.15em; color: rgb(147, 49, 33)">Actor</a><a href="/tags/akka/" style="font-size: 1.15em; color: rgb(31, 80, 45)">Akka</a><a href="/tags/coroutine/" style="font-size: 1.16em; color: rgb(164, 108, 124)">Coroutine</a><a href="/tags/csp/" style="font-size: 1.15em; color: rgb(98, 146, 188)">CSP</a><a href="/tags/disruptor/" style="font-size: 1.15em; color: rgb(132, 105, 192)">Disruptor</a><a href="/tags/netty/" style="font-size: 1.15em; color: rgb(75, 123, 16)">Netty</a><a href="/tags/stm/" style="font-size: 1.15em; color: rgb(154, 7, 140)">STM</a><a href="/tags/mvcc/" style="font-size: 1.15em; color: rgb(49, 40, 151)">MVCC</a><a href="/tags/java-core/" style="font-size: 1.21em; color: rgb(128, 178, 42)">Java Core</a><a href="/tags/java-performance/" style="font-size: 1.34em; color: rgb(155, 197, 109)">Java Performance</a><a href="/tags/cas/" style="font-size: 1.15em; color: rgb(85, 116, 163)">CAS</a><a href="/tags/design-pattern/" style="font-size: 1.18em; color: rgb(62, 72, 174)">Design Pattern</a><a href="/tags/hashtable/" style="font-size: 1.15em; color: rgb(32, 84, 69)">HashTable</a><a href="/tags/concurrenthashmap/" style="font-size: 1.15em; color: rgb(60, 119, 193)">ConcurrentHashMap</a><a href="/tags/concurrentskiplistmap/" style="font-size: 1.15em; color: rgb(51, 37, 140)">ConcurrentSkipListMap</a><a href="/tags/consistency/" style="font-size: 1.15em; color: rgb(55, 141, 94)">Consistency</a><a href="/tags/jvm/" style="font-size: 1.38em; color: rgb(32, 52, 66)">JVM</a><a href="/tags/gc/" style="font-size: 1.16em; color: rgb(57, 152, 136)">GC</a><a href="/tags/hashmap/" style="font-size: 1.15em; color: rgb(161, 126, 199)">HashMap</a><a href="/tags/io/" style="font-size: 1.15em; color: rgb(46, 7, 171)">IO</a><a href="/tags/nio/" style="font-size: 1.16em; color: rgb(95, 3, 117)">NIO</a><a href="/tags/aio/" style="font-size: 1.16em; color: rgb(101, 72, 145)">AIO</a><a href="/tags/epoll/" style="font-size: 1.16em; color: rgb(80, 129, 35)">Epoll</a><a href="/tags/jit/" style="font-size: 1.15em; color: rgb(116, 31, 84)">JIT</a><a href="/tags/synchronized/" style="font-size: 1.16em; color: rgb(72, 163, 84)">synchronized</a><a href="/tags/lock/" style="font-size: 1.15em; color: rgb(66, 89, 42)">Lock</a><a href="/tags/reentrantreadwritelock/" style="font-size: 1.15em; color: rgb(19, 143, 197)">ReentrantReadWriteLock</a><a href="/tags/stampedlock/" style="font-size: 1.15em; color: rgb(176, 140, 104)">StampedLock</a><a href="/tags/serialization/" style="font-size: 1.15em; color: rgb(53, 110, 50)">Serialization</a><a href="/tags/protobuf/" style="font-size: 1.15em; color: rgb(174, 98, 147)">ProtoBuf</a><a href="/tags/java-stream/" style="font-size: 1.15em; color: rgb(153, 53, 65)">Java Stream</a><a href="/tags/mark-word/" style="font-size: 1.15em; color: rgb(11, 94, 112)">Mark Word</a><a href="/tags/monitor/" style="font-size: 1.15em; color: rgb(55, 180, 100)">Monitor</a><a href="/tags/context-switch/" style="font-size: 1.15em; color: rgb(46, 111, 187)">Context Switch</a><a href="/tags/thread-pool/" style="font-size: 1.15em; color: rgb(50, 121, 186)">Thread Pool</a><a href="/tags/lambda/" style="font-size: 1.15em; color: rgb(58, 48, 133)">Lambda</a><a href="/tags/bytecode-manipulation/" style="font-size: 1.17em; color: rgb(55, 13, 183)">Bytecode Manipulation</a><a href="/tags/asm/" style="font-size: 1.15em; color: rgb(169, 29, 168)">ASM</a><a href="/tags/jol/" style="font-size: 1.17em; color: rgb(109, 18, 188)">JOL</a><a href="/tags/middleware/" style="font-size: 1.39em; color: rgb(182, 161, 171)">Middleware</a><a href="/tags/mq/" style="font-size: 1.39em; color: rgb(70, 24, 94)">MQ</a><a href="/tags/kafka/" style="font-size: 1.39em; color: rgb(107, 10, 62)">Kafka</a><a href="/tags/stream/" style="font-size: 1.39em; color: rgb(137, 186, 49)">Stream</a><a href="/tags/rebalance/" style="font-size: 1.17em; color: rgb(155, 159, 24)">Rebalance</a><a href="/tags/avro/" style="font-size: 1.18em; color: rgb(55, 17, 52)">Avro</a><a href="/tags/consumer-group/" style="font-size: 1.15em; color: rgb(27, 92, 70)">Consumer Group</a><a href="/tags/compression/" style="font-size: 1.15em; color: rgb(144, 123, 168)">Compression</a><a href="/tags/tcp/" style="font-size: 1.16em; color: rgb(103, 89, 185)">TCP</a><a href="/tags/idempotence/" style="font-size: 1.15em; color: rgb(79, 72, 116)">Idempotence</a><a href="/tags/producer/" style="font-size: 1.15em; color: rgb(54, 198, 93)">Producer</a><a href="/tags/load-balance/" style="font-size: 1.15em; color: rgb(38, 59, 18)">Load Balance</a><a href="/tags/distributed-architecture/" style="font-size: 1.15em; color: rgb(110, 189, 76)">Distributed Architecture</a><a href="/tags/distributed-design-pattern/" style="font-size: 1.17em; color: rgb(22, 49, 125)">Distributed Design Pattern</a><a href="/tags/career/" style="font-size: 1.15em; color: rgb(179, 21, 105)">Career</a><a href="/tags/linux-performance/" style="font-size: 1.17em; color: rgb(160, 193, 185)">Linux Performance</a><a href="/tags/linux-practice/" style="font-size: 1.24em; color: rgb(134, 166, 40)">Linux Practice</a><a href="/tags/ext4/" style="font-size: 1.15em; color: rgb(111, 139, 119)">ext4</a><a href="/tags/file-system/" style="font-size: 1.15em; color: rgb(9, 0, 75)">File System</a><a href="/tags/ai/" style="font-size: 1.35em; color: rgb(32, 158, 101)">AI</a><a href="/tags/llm/" style="font-size: 1.35em; color: rgb(175, 58, 122)">LLM</a><a href="/tags/nlp/" style="font-size: 1.25em; color: rgb(81, 167, 40)">NLP</a><a href="/tags/python/" style="font-size: 1.3em; color: rgb(136, 59, 7)">Python</a><a href="/tags/fastapi/" style="font-size: 1.15em; color: rgb(104, 160, 51)">FastAPI</a><a href="/tags/uvicorn/" style="font-size: 1.15em; color: rgb(129, 35, 140)">Uvicorn</a><a href="/tags/chatgpt/" style="font-size: 1.15em; color: rgb(35, 186, 5)">ChatGPT</a><a href="/tags/machine-learning/" style="font-size: 1.17em; color: rgb(154, 168, 169)">Machine Learning</a><a href="/tags/rnn/" style="font-size: 1.15em; color: rgb(183, 79, 31)">RNN</a><a href="/tags/seq2seq/" style="font-size: 1.16em; color: rgb(44, 76, 55)">Seq2Seq</a><a href="/tags/word2vec/" style="font-size: 1.15em; color: rgb(44, 129, 155)">Word2Vec</a><a href="/tags/langchain/" style="font-size: 1.19em; color: rgb(17, 100, 169)">LangChain</a><a href="/tags/ai-agent/" style="font-size: 1.18em; color: rgb(64, 144, 101)">AI Agent</a><a href="/tags/rag/" style="font-size: 1.29em; color: rgb(136, 8, 134)">RAG</a><a href="/tags/lora/" style="font-size: 1.15em; color: rgb(32, 83, 193)">LoRA</a><a href="/tags/peft/" style="font-size: 1.15em; color: rgb(71, 116, 47)">PEFT</a><a href="/tags/math/" style="font-size: 1.16em; color: rgb(11, 152, 56)">Math</a><a href="/tags/microservices-governance/" style="font-size: 1.22em; color: rgb(95, 131, 79)">Microservices Governance</a><a href="/tags/config/" style="font-size: 1.17em; color: rgb(25, 83, 182)">Config</a><a href="/tags/configuration-center/" style="font-size: 1.17em; color: rgb(195, 34, 61)">Configuration Center</a><a href="/tags/apollo/" style="font-size: 1.17em; color: rgb(109, 86, 88)">Apollo</a><a href="/tags/faiss/" style="font-size: 1.15em; color: rgb(151, 97, 75)">Faiss</a><a href="/tags/oauth2/" style="font-size: 1.2em; color: rgb(156, 171, 3)">Oauth2</a><a href="/tags/spring-security/" style="font-size: 1.19em; color: rgb(147, 98, 90)">Spring Security</a><a href="/tags/spring-security-oauth2/" style="font-size: 1.19em; color: rgb(191, 55, 190)">Spring Security OAuth2</a><a href="/tags/chatops/" style="font-size: 1.15em; color: rgb(31, 116, 186)">ChatOps</a><a href="/tags/chatbot/" style="font-size: 1.15em; color: rgb(172, 137, 144)">Chatbot</a><a href="/tags/graphrag/" style="font-size: 1.15em; color: rgb(134, 107, 30)">GraphRAG</a><a href="/tags/rerank/" style="font-size: 1.15em; color: rgb(74, 28, 106)">Rerank</a><a href="/tags/prompting/" style="font-size: 1.15em; color: rgb(174, 142, 109)">Prompting</a><a href="/tags/kg-rag/" style="font-size: 1.15em; color: rgb(174, 166, 152)">KG-RAG</a><a href="/tags/vector/" style="font-size: 1.16em; color: rgb(124, 31, 98)">Vector</a><a href="/tags/vim/" style="font-size: 1.2em; color: rgb(30, 40, 154)">Vim</a><a href="/tags/web/" style="font-size: 1.21em; color: rgb(165, 195, 70)">Web</a><a href="/tags/javascript/" style="font-size: 1.19em; color: rgb(2, 83, 51)">JavaScript</a><a href="/tags/zookeeper/" style="font-size: 1.16em; color: rgb(18, 13, 19)">Zookeeper</a><a href="/tags/distributed-lock/" style="font-size: 1.15em; color: rgb(116, 139, 157)">Distributed Lock</a><a href="/tags/istio/" style="font-size: 1.17em; color: rgb(83, 163, 46)">Istio</a><a href="/tags/jwt/" style="font-size: 1.15em; color: rgb(50, 189, 106)">JWT</a><a href="/tags/bio/" style="font-size: 1.15em; color: rgb(195, 130, 36)">BIO</a><a href="/tags/tomcat/" style="font-size: 1.15em; color: rgb(149, 66, 89)">Tomcat</a><a href="/tags/select/" style="font-size: 1.15em; color: rgb(78, 86, 4)">Select</a><a href="/tags/poll/" style="font-size: 1.15em; color: rgb(112, 136, 53)">Poll</a><a href="/tags/zero-copy/" style="font-size: 1.15em; color: rgb(2, 91, 118)">Zero Copy</a><a href="/tags/mmap/" style="font-size: 1.15em; color: rgb(101, 19, 127)">mmap</a><a href="/tags/reactor/" style="font-size: 1.15em; color: rgb(167, 198, 10)">Reactor</a><a href="/tags/transformer/" style="font-size: 1.16em; color: rgb(127, 108, 59)">Transformer</a><a href="/tags/svm/" style="font-size: 1.15em; color: rgb(27, 68, 129)">SVM</a><a href="/tags/attention/" style="font-size: 1.15em; color: rgb(41, 80, 68)">Attention</a><a href="/tags/zab/" style="font-size: 1.15em; color: rgb(94, 76, 194)">ZAB</a><a href="/tags/etcd/" style="font-size: 1.15em; color: rgb(175, 89, 13)">etcd</a><a href="/tags/raft/" style="font-size: 1.15em; color: rgb(72, 192, 86)">raft</a><a href="/tags/iac/" style="font-size: 1.15em; color: rgb(24, 30, 154)">IaC</a><a href="/tags/terraform/" style="font-size: 1.15em; color: rgb(160, 95, 46)">Terraform</a><a href="/tags/crossplane/" style="font-size: 1.15em; color: rgb(127, 183, 12)">Crossplane</a><a href="/tags/pulumi/" style="font-size: 1.15em; color: rgb(33, 132, 66)">Pulumi</a><a href="/tags/argo-cd/" style="font-size: 1.15em; color: rgb(109, 66, 193)">Argo CD</a><a href="/tags/vpc/" style="font-size: 1.15em; color: rgb(185, 198, 54)">VPC</a><a href="/tags/helm/" style="font-size: 1.15em; color: rgb(8, 77, 57)">Helm</a><a href="/tags/runc/" style="font-size: 1.15em; color: rgb(30, 127, 162)">runc</a><a href="/tags/kustomize/" style="font-size: 1.15em; color: rgb(131, 29, 24)">Kustomize</a><a href="/tags/oci/" style="font-size: 1.15em; color: rgb(95, 81, 180)">OCI</a><a href="/tags/buildkit/" style="font-size: 1.15em; color: rgb(175, 185, 173)">BuildKit</a><a href="/tags/crane/" style="font-size: 1.15em; color: rgb(123, 0, 24)">crane</a><a href="/tags/oci-image/" style="font-size: 1.15em; color: rgb(189, 37, 23)">OCI Image</a><a href="/tags/oci-runtime/" style="font-size: 1.15em; color: rgb(20, 168, 178)">OCI Runtime</a><a href="/tags/linux-namespace/" style="font-size: 1.15em; color: rgb(3, 37, 67)">Linux Namespace</a><a href="/tags/linux-cgroup/" style="font-size: 1.15em; color: rgb(178, 149, 113)">Linux CGroup</a><a href="/tags/k8s-manifest/" style="font-size: 1.15em; color: rgb(63, 17, 58)">K8S Manifest</a><a href="/tags/performance-tuning/" style="font-size: 1.15em; color: rgb(166, 22, 45)">Performance Tuning</a><a href="/tags/api-gateway/" style="font-size: 1.15em; color: rgb(152, 14, 5)">API Gateway</a><a href="/tags/apisix/" style="font-size: 1.15em; color: rgb(18, 176, 58)">APISIX</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span><a class="card-more-btn" href="/archives/" title="More">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/10/"><span class="card-archive-list-date">October 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/09/"><span class="card-archive-list-date">September 2024</span><span class="card-archive-list-count">30</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">August 2024</span><span class="card-archive-list-count">31</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">July 2024</span><span class="card-archive-list-count">10</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">June 2024</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">May 2023</span><span class="card-archive-list-count">11</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">April 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/02/"><span class="card-archive-list-date">February 2023</span><span class="card-archive-list-count">15</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">601</div></div><div class="webinfo-item"><div class="item-name">Run time :</div><div class="item-count" id="runtimeshow" data-publishDate="2015-06-30T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Total Count :</div><div class="item-count">1128.9k</div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-11-20T17:26:32.300Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.pixabay.com/photo/2018/08/27/15/17/fishing-3635221_1280.png')"><div id="footer-wrap"><div class="copyright">&copy;2015 - 2024 By zhongmingmao</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Life is like a box of chocolates. You can't know what you'll eat until you open it.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["Stay hungry, stay foolish."])
  } else {
    document.getElementById("subtitle").innerHTML = 'Stay hungry, stay foolish.'
  }
}
typedJSFn.run(subtitleType)</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></body></html>