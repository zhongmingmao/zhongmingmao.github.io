<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>ByteCoding</title><meta name="author" content="zhongmingmao"><meta name="copyright" content="zhongmingmao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="Focus on Infrastructure">
<meta property="og:type" content="website">
<meta property="og:title" content="ByteCoding">
<meta property="og:url" content="https://blog.zhongmingmao.top/page/13/index.html">
<meta property="og:site_name" content="ByteCoding">
<meta property="og:description" content="Focus on Infrastructure">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png">
<meta property="article:author" content="zhongmingmao">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="shortcut icon" href="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="canonical" href="https://blog.zhongmingmao.top/page/13/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":512,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":256},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":32,"languages":{"author":"Author: zhongmingmao","link":"Link: ","source":"Source: ByteCoding","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ByteCoding',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-06-28 23:41:35'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ByteCoding" type="application/atom+xml">
</head><body><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">424</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">123</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">63</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://cdn.pixabay.com/photo/2022/10/16/13/53/early-morning-7525151_1280.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="ByteCoding"><span class="site-name">ByteCoding</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">ByteCoding</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2021/07/11/cloud-native-k8s-orchestration-deployment/" title="应用编排与管理 -- Deployment"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-12.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="应用编排与管理 -- Deployment"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/07/11/cloud-native-k8s-orchestration-deployment/" title="应用编排与管理 -- Deployment">应用编排与管理 -- Deployment</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-07-11T08:34:11.000Z" title="Created 2021-07-11 16:34:11">2021-07-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/kubernetes/">Kubernetes</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/kubernetes/alibaba/">Alibaba</a></span></div><div class="content">作用每个 Deployment 管理一组相同的应用 Pod（相同的一个副本）



实践YAML 文件nginx-deployment123456789101112131415161718192021apiVersion: apps/v1kind: Deploymentmetadata:  name: nginx-deployment  labels:    app: nginxspec:  replicas: 3 # 期望的 Pod 数量  selector:   # Pod Selector    matchLabels:      app: nginx  template:   # Pod Template    metadata:      labels:        app: nginx    spec:      containers:        - name: nginx          image: nginx:1.7.9          ports:          - containerPort: 80

查看 Deployment123456789$ kubectl get  ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2021/07/11/cloud-native-k8s-orchestration-core-principle/" title="应用编排与管理 -- 核心原理"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-21.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="应用编排与管理 -- 核心原理"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/07/11/cloud-native-k8s-orchestration-core-principle/" title="应用编排与管理 -- 核心原理">应用编排与管理 -- 核心原理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-07-11T02:23:04.000Z" title="Created 2021-07-11 10:23:04">2021-07-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/kubernetes/">Kubernetes</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/kubernetes/alibaba/">Alibaba</a></span></div><div class="content">资源元信息Kubernetes资源对象
Spec（specification）：期望的状态
Status：观测到的状态
Metadata：元数据
Labels：识别资源
Annotations：描述资源
OwnerReference：描述多个资源之间的相互关系



Labels
标识型的 KV 元数据
标签名包含域名前缀：用来描述打标签的系统和工具


作用
用于筛选资源
唯一的组合资源的方法


可以使用 Selector 来查询（类SQL）



Selector


Pod
Tie
Env



pod1
front
dev


pod2
back
prod


pod3
front
test


pod4
back
gray



相等型
可以包含多个相等条件，多个相等条件之间是逻辑与的关系，如Tie=front, Env=dev命中 pod1


集合型
Env in (test, gray)：命中 pod3 和 pod4
Tie notin (front, back)：无命中


其他
release：存在 release 标签
!release：不存在 release 标签


相等型和集合型 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2021/07/08/cloud-native-k8s-pod-container-design-pattern/" title="Kubernetes -- Pod + 容器设计模式"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-6.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes -- Pod + 容器设计模式"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/07/08/cloud-native-k8s-pod-container-design-pattern/" title="Kubernetes -- Pod + 容器设计模式">Kubernetes -- Pod + 容器设计模式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-07-08T01:47:56.000Z" title="Created 2021-07-08 09:47:56">2021-07-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/kubernetes/">Kubernetes</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/kubernetes/alibaba/">Alibaba</a></span></div><div class="content">基本概念容器 ► Pod  ► Kubernetes
容器：一个视图被隔离、资源受限制的进程
容器 PID&#x3D;1 的进程为应用本身（管理容器 &#x3D; 管理应用）


Pod：进程组
Kubernetes：操作系统
容器镜像：软件安装包



进程组
容器是单进程模型（容器 &#x3D;&#x3D; 应用 &#x3D;&#x3D; 进程，只能管理 PID&#x3D;1 的进程，并不是说容器内只能运行一个进程）
容器内 PID&#x3D;1 的进程为应用进程，本身不具备进程管理能力
如果将 PID&#x3D;1 的进程改为 systemd，导致：管理容器 &#x3D; 管理systemd !&#x3D; 管理应用


因此需要引入 Pod




原子调度单位紧密协作：必须部署在同一台机器上并共享某些信息

关系
亲密关系 – 调度解决
两个应用（Pod）需要运行在同一台宿主机上


超亲密关系 – Pod 解决
会发生直接的文件交换
使用 localhost 或者 Socket 文件进行本地通信
会发生非常频繁的 RPC 调用
会共享某些 Linux Namespace



实现机制解决的问题
 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2021/07/07/cloud-native-k8s-core-concept/" title="Kubernetes -- 核心概念"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-21.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes -- 核心概念"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/07/07/cloud-native-k8s-core-concept/" title="Kubernetes -- 核心概念">Kubernetes -- 核心概念</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-07-07T12:39:29.000Z" title="Created 2021-07-07 20:39:29">2021-07-07</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/kubernetes/">Kubernetes</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/kubernetes/alibaba/">Alibaba</a></span></div><div class="content">核心功能
Kubernetes是工业级容器编排平台，源于希腊语，意为『舵手』、『飞行员』
Kubernetes是自动化的容器编排平台：部署、弹性、管理
核心功能
服务发现与负载均衡
容器自动装箱（调度）
存储编排
自动容器恢复
自动发布与回滚
配置与密文管理
批量执行（Job）
水平伸缩（弹性）





调度Placement（红色容器）：调度器观察正在被调度容器的大小，为其寻找一个能满足其资源需求的节点


自动恢复 将失败节点上的容器迁移到健康节点


水平伸缩

架构
Master



组件
职责
扩展性



API Server
用来处理 API 操作Kubernetes中所有组件都会与 API Server 进行连接组件与组件之间一般不进行独立的连接，依赖于 API Server 进行消息的传送
水平扩展


Controller
用来完成集群状态的管理（如自动恢复、水平扩张等）
热备


Scheduler
用来完成调度操作
热备


etcd
分布式存储系统，用来存储 API Server 所需要的元数据本身为高可用系统，可以保证 Master 组件的高可用性



Node
Node：真 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2021/07/07/cloud-native-k8s-container/" title="Kubernetes -- 容器"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-24.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes -- 容器"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/07/07/cloud-native-k8s-container/" title="Kubernetes -- 容器">Kubernetes -- 容器</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-07-07T09:43:46.000Z" title="Created 2021-07-07 17:43:46">2021-07-07</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/kubernetes/">Kubernetes</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/kubernetes/alibaba/">Alibaba</a></span></div><div class="content">容器与镜像容器容器是一个资源视图隔离、资源可限制、独立文件系统的进程集合



镜像容器镜像：运行容器所需要的所有文件集合

构建镜像
运行容器
容器生命周期
Moby 容器引擎架构containerd-shim： 插件化、动态接管

容器 vs VM
参考资料
CNCF × Alibaba 云原生技术公开课

</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2021/07/07/cloud-native-k8s-overview/" title="云原生 -- 概述"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-20.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="云原生 -- 概述"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/07/07/cloud-native-k8s-overview/" title="云原生 -- 概述">云原生 -- 概述</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-07-07T08:04:35.000Z" title="Created 2021-07-07 16:04:35">2021-07-07</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/kubernetes/">Kubernetes</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/kubernetes/alibaba/">Alibaba</a></span></div><div class="content">定义最佳路径
云原生是一条使用户能低心智负担的、敏捷的、以可扩展、可复制的方式，最大化地利用云的能力，发挥云的价值的最佳路径

愿景
软件从诞生就生在云上、长在云上，全新的软件开发、发布和运维模式

技术范畴


理论基础


理论基础
目前实现



不可变基础设施
容器镜像


云应用编排理论
容器设计模式



意义


Key
Value



基础设施一致性和可靠性
容器镜像自包含可漂移


简单可预测的部署与运维
自描述、自运维流程自动化容易水平扩展可快速复制的管控系统和支撑组件


关键技术点
参考资料
CNCF × Alibaba 云原生技术公开课

</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2021/06/22/k8s-app-dev-view/" title="Kubernetes -- 应用开发视角"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-9.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes -- 应用开发视角"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/06/22/k8s-app-dev-view/" title="Kubernetes -- 应用开发视角">Kubernetes -- 应用开发视角</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-06-22T02:45:47.000Z" title="Created 2021-06-22 10:45:47">2021-06-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/kubernetes/">Kubernetes</a></span></div><div class="content">云原生架构Cloud Native App
Applications adopting the principles of Microservices packaged as Containers orchestracted by Platforms running on top of Cloud infrastructure, developed using practices such as Continous Delivery and DevOps.

云演进史


Kubernetes目标 Kubernetes本质上是为了简化微服务的开发和部署，解决微服务的公共关注点

架构

架构模式：Master-Slave
Node可以是物理机也可以是虚拟机
Master（为保证HA，Master也是多节点部署，但真正做调度决策的只有一个Master节点，因此涉及到选主）
etcd（单独部署）
基于KV的分布式存储，底层采用Raft协议，保存Kubernetes的状态数据


API Server
对外提供操作和获取Kubernetes集群资源的API，唯一可以操作etcd的组件 – 被Google和RedHa ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2021/06/19/k8s-container-orchestration-declarative-api-basic/" title="声明式API -- 基本概念"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-7.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="声明式API -- 基本概念"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/06/19/k8s-container-orchestration-declarative-api-basic/" title="声明式API -- 基本概念">声明式API -- 基本概念</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-06-19T08:47:42.000Z" title="Created 2021-06-19 16:47:42">2021-06-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/kubernetes/">Kubernetes</a></span></div><div class="content">命令式 vs 声明式命令式12# kubectl create -f nginx.yaml# kubectl replace -f nginx.yaml

声明式1# kubectl apply -f nginx.yaml


所谓声明式，即只需要提交一个定义好的API对象来声明所期待的状态即可
声明式API允许多个API写端，以PATCH的方式对API对象进行修改，而无需关心本地原始YAML文件的内容


声明式API最主要的能力：_PATCH API_


声明式API是Kubernetes编排能力赖以生存的核心所在

本质区别



kubectl replace
kubectl apply



执行过程
使用新API对象替换旧API对象
执行对旧API对象的PATCH操作类似：kubectl set image、kubectl edit


kube-apiserver
一次只能处理一个写请求，否则可能产生冲突
一次能处理多个写请求，具备Merge能力


Kubernetes编程范式
使用控制器模式，与Kubernetes里API对象的『增、删、改、查』进行协作，进而完成用户业务逻辑的编写



 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2021/06/19/cloud-native-java/" title="Graal VM:云原生时代的Java（转载）"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-6.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Graal VM:云原生时代的Java（转载）"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/06/19/cloud-native-java/" title="Graal VM:云原生时代的Java（转载）">Graal VM:云原生时代的Java（转载）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-06-18T17:32:22.000Z" title="Created 2021-06-19 01:32:22">2021-06-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/java/">Java</a></span></div><div class="content">
    
</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2021/06/18/k8s-container-orchestration-job/" title="容器编排 -- Job"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-17.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="容器编排 -- Job"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/06/18/k8s-container-orchestration-job/" title="容器编排 -- Job">容器编排 -- Job</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2021-06-18T09:43:45.000Z" title="Created 2021-06-18 17:43:45">2021-06-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/kubernetes/">Kubernetes</a></span></div><div class="content">编排对象
在线业务：Deployment、StatefulSet、DaemonSet
离线业务：Job、CronJob

Jobjob.yaml
Job对象不需要定义spec.selector（借助UUID）

job.yaml12345678910111213141516apiVersion: batch/v1kind: Jobmetadata:  name: pispec:  template:    spec:      containers:        - name: pi          image: resouer/ubuntu-bc          command:            - sh            - &#x27;-c&#x27;            - &quot;echo &#x27;scale=10000; 4*a(1)&#x27; | bc -l&quot;      restartPolicy: Never  backoffLimit: 4



创建Job123456# kubectl apply -f job.yamljob.batch/pi cre ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/12/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/#content-inner">12</a><span class="page-number current">13</span><a class="page-number" href="/page/14/#content-inner">14</a><span class="space">&hellip;</span><a class="page-number" href="/page/43/#content-inner">43</a><a class="extend next" rel="next" href="/page/14/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">zhongmingmao</div><div class="author-info__description">Focus on Infrastructure.</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">424</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">123</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">63</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Things are always unexpected!</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/12/02/cloud-native-foundation-k8s-etcd/" title="Kubernetes - etcd"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/etcd-5874937.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - etcd"/></a><div class="content"><a class="title" href="/2022/12/02/cloud-native-foundation-k8s-etcd/" title="Kubernetes - etcd">Kubernetes - etcd</a><time datetime="2022-12-01T16:06:25.000Z" title="Created 2022-12-02 00:06:25">2022-12-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/12/01/cloud-native-foundation-k8s-architectural-principles/" title="Kubernetes - Architectural principles"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/BLOG-Kubernets-1024x536.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - Architectural principles"/></a><div class="content"><a class="title" href="/2022/12/01/cloud-native-foundation-k8s-architectural-principles/" title="Kubernetes - Architectural principles">Kubernetes - Architectural principles</a><time datetime="2022-11-30T16:06:25.000Z" title="Created 2022-12-01 00:06:25">2022-12-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/11/03/cloud-native-foundation-k8s-health/" title="Kubernetes - Health"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/google-kubernetes-probe-readiness6ktf.gif" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - Health"/></a><div class="content"><a class="title" href="/2022/11/03/cloud-native-foundation-k8s-health/" title="Kubernetes - Health">Kubernetes - Health</a><time datetime="2022-11-02T16:06:25.000Z" title="Created 2022-11-03 00:06:25">2022-11-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/11/02/cloud-native-foundation-k8s-rollout/" title="Kubernetes - Rollout"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/kubernetes-deployment-strategies.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - Rollout"/></a><div class="content"><a class="title" href="/2022/11/02/cloud-native-foundation-k8s-rollout/" title="Kubernetes - Rollout">Kubernetes - Rollout</a><time datetime="2022-11-01T16:06:25.000Z" title="Created 2022-11-02 00:06:25">2022-11-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/11/01/cloud-native-foundation-k8s-sts/" title="Kubernetes - StatefulSet"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/0a05a-1pwhryw1i1mrrawguzkinwq.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - StatefulSet"/></a><div class="content"><a class="title" href="/2022/11/01/cloud-native-foundation-k8s-sts/" title="Kubernetes - StatefulSet">Kubernetes - StatefulSet</a><time datetime="2022-10-31T16:06:25.000Z" title="Created 2022-11-01 00:06:25">2022-11-01</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            <a class="card-more-btn" href="/categories/" title="More">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/career/"><span class="card-category-list-name">Career</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/"><span class="card-category-list-name">Cloud Computing</span><span class="card-category-list-count">10</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/iaas/"><span class="card-category-list-name">IaaS</span><span class="card-category-list-count">5</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/paas/"><span class="card-category-list-name">PaaS</span><span class="card-category-list-count">5</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/"><span class="card-category-list-name">Cloud Native</span><span class="card-category-list-count">94</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/cloud-native-foundation/"><span class="card-category-list-name">Cloud Native Foundation</span><span class="card-category-list-count">68</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/cloud-native-foundation/container/"><span class="card-category-list-name">Container</span><span class="card-category-list-count">2</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/cloud-native-foundation/container/docker/"><span class="card-category-list-name">Docker</span><span class="card-category-list-count">2</span></a></li></ul></li></ul></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/cloud-computing/" style="font-size: 1.25em; color: rgb(25, 10, 130)">Cloud Computing</a><a href="/tags/iaas/" style="font-size: 1.2em; color: rgb(95, 170, 10)">IaaS</a><a href="/tags/paas/" style="font-size: 1.2em; color: rgb(97, 108, 159)">PaaS</a><a href="/tags/cloud-native/" style="font-size: 1.44em; color: rgb(70, 102, 118)">Cloud Native</a><a href="/tags/container/" style="font-size: 1.28em; color: rgb(102, 0, 188)">Container</a><a href="/tags/docker/" style="font-size: 1.31em; color: rgb(113, 181, 187)">Docker</a><a href="/tags/go-core/" style="font-size: 1.17em; color: rgb(62, 57, 125)">Go Core</a><a href="/tags/go/" style="font-size: 1.34em; color: rgb(110, 159, 120)">Go</a><a href="/tags/go-engineering/" style="font-size: 1.32em; color: rgb(133, 16, 116)">Go Engineering</a><a href="/tags/rpc/" style="font-size: 1.16em; color: rgb(43, 194, 166)">RPC</a><a href="/tags/grpc/" style="font-size: 1.15em; color: rgb(36, 112, 141)">gRPC</a><a href="/tags/network/" style="font-size: 1.16em; color: rgb(185, 60, 151)">Network</a><a href="/tags/kubernetes/" style="font-size: 1.43em; color: rgb(112, 88, 19)">Kubernetes</a><a href="/tags/dockerfile/" style="font-size: 1.17em; color: rgb(33, 104, 199)">Dockerfile</a><a href="/tags/microservices/" style="font-size: 1.31em; color: rgb(6, 138, 118)">Microservices</a><a href="/tags/spring-cloud/" style="font-size: 1.22em; color: rgb(11, 8, 134)">Spring Cloud</a><a href="/tags/spring/" style="font-size: 1.26em; color: rgb(197, 66, 92)">Spring</a><a href="/tags/java/" style="font-size: 1.45em; color: rgb(157, 28, 32)">Java</a><a href="/tags/service-governance/" style="font-size: 1.17em; color: rgb(44, 59, 48)">Service Governance</a><a href="/tags/alibaba/" style="font-size: 1.23em; color: rgb(6, 181, 60)">Alibaba</a><a href="/tags/security/" style="font-size: 1.29em; color: rgb(146, 83, 121)">Security</a><a href="/tags/compliance/" style="font-size: 1.17em; color: rgb(100, 45, 167)">Compliance</a><a href="/tags/opa/" style="font-size: 1.17em; color: rgb(127, 200, 60)">OPA</a><a href="/tags/computer-basics/" style="font-size: 1.35em; color: rgb(91, 102, 85)">Computer Basics</a><a href="/tags/computer-organization/" style="font-size: 1.35em; color: rgb(80, 141, 136)">Computer Organization</a><a href="/tags/knowledge-map/" style="font-size: 1.15em; color: rgb(101, 77, 27)">Knowledge Map</a><a href="/tags/architecture/" style="font-size: 1.29em; color: rgb(104, 140, 159)">Architecture</a><a href="/tags/devops/" style="font-size: 1.15em; color: rgb(185, 174, 110)">DevOps</a><a href="/tags/tool/" style="font-size: 1.25em; color: rgb(41, 17, 131)">Tool</a><a href="/tags/git/" style="font-size: 1.25em; color: rgb(81, 157, 194)">Git</a><a href="/tags/infrastructure/" style="font-size: 1.28em; color: rgb(59, 110, 95)">Infrastructure</a><a href="/tags/authentication/" style="font-size: 1.17em; color: rgb(54, 186, 83)">Authentication</a><a href="/tags/ldap/" style="font-size: 1.15em; color: rgb(198, 149, 151)">LDAP</a><a href="/tags/oauth-2-0/" style="font-size: 1.22em; color: rgb(30, 132, 57)">OAuth 2.0</a><a href="/tags/storage/" style="font-size: 1.4em; color: rgb(24, 200, 106)">Storage</a><a href="/tags/mysql/" style="font-size: 1.41em; color: rgb(13, 158, 188)">MySQL</a><a href="/tags/innodb/" style="font-size: 1.21em; color: rgb(173, 104, 110)">InnoDB</a><a href="/tags/java-concurrent/" style="font-size: 1.38em; color: rgb(51, 42, 60)">Java Concurrent</a><a href="/tags/actor/" style="font-size: 1.15em; color: rgb(83, 47, 37)">Actor</a><a href="/tags/akka/" style="font-size: 1.15em; color: rgb(102, 139, 5)">Akka</a><a href="/tags/coroutine/" style="font-size: 1.16em; color: rgb(68, 77, 146)">Coroutine</a><a href="/tags/csp/" style="font-size: 1.15em; color: rgb(81, 101, 53)">CSP</a><a href="/tags/disruptor/" style="font-size: 1.15em; color: rgb(144, 78, 157)">Disruptor</a><a href="/tags/netty/" style="font-size: 1.15em; color: rgb(189, 28, 148)">Netty</a><a href="/tags/stm/" style="font-size: 1.15em; color: rgb(49, 81, 32)">STM</a><a href="/tags/mvcc/" style="font-size: 1.15em; color: rgb(135, 106, 156)">MVCC</a><a href="/tags/java-core/" style="font-size: 1.22em; color: rgb(127, 109, 2)">Java Core</a><a href="/tags/java-performance/" style="font-size: 1.33em; color: rgb(127, 41, 150)">Java Performance</a><a href="/tags/cas/" style="font-size: 1.15em; color: rgb(62, 28, 76)">CAS</a><a href="/tags/hashtable/" style="font-size: 1.15em; color: rgb(139, 118, 11)">HashTable</a><a href="/tags/concurrenthashmap/" style="font-size: 1.15em; color: rgb(9, 198, 27)">ConcurrentHashMap</a><a href="/tags/concurrentskiplistmap/" style="font-size: 1.15em; color: rgb(158, 190, 133)">ConcurrentSkipListMap</a><a href="/tags/consistency/" style="font-size: 1.15em; color: rgb(84, 68, 170)">Consistency</a><a href="/tags/design-pattern/" style="font-size: 1.19em; color: rgb(128, 25, 141)">Design Pattern</a><a href="/tags/jvm/" style="font-size: 1.37em; color: rgb(62, 155, 131)">JVM</a><a href="/tags/gc/" style="font-size: 1.16em; color: rgb(163, 67, 146)">GC</a><a href="/tags/hashmap/" style="font-size: 1.15em; color: rgb(11, 12, 131)">HashMap</a><a href="/tags/jit/" style="font-size: 1.15em; color: rgb(118, 70, 10)">JIT</a><a href="/tags/io/" style="font-size: 1.15em; color: rgb(128, 82, 80)">IO</a><a href="/tags/nio/" style="font-size: 1.16em; color: rgb(58, 143, 82)">NIO</a><a href="/tags/aio/" style="font-size: 1.16em; color: rgb(178, 67, 73)">AIO</a><a href="/tags/epoll/" style="font-size: 1.16em; color: rgb(167, 64, 35)">Epoll</a><a href="/tags/synchronized/" style="font-size: 1.16em; color: rgb(139, 69, 48)">synchronized</a><a href="/tags/lock/" style="font-size: 1.15em; color: rgb(71, 84, 14)">Lock</a><a href="/tags/reentrantreadwritelock/" style="font-size: 1.15em; color: rgb(161, 30, 91)">ReentrantReadWriteLock</a><a href="/tags/stampedlock/" style="font-size: 1.15em; color: rgb(137, 45, 23)">StampedLock</a><a href="/tags/serialization/" style="font-size: 1.15em; color: rgb(68, 108, 72)">Serialization</a><a href="/tags/protobuf/" style="font-size: 1.15em; color: rgb(26, 11, 171)">ProtoBuf</a><a href="/tags/java-stream/" style="font-size: 1.15em; color: rgb(92, 46, 138)">Java Stream</a><a href="/tags/mark-word/" style="font-size: 1.15em; color: rgb(97, 182, 45)">Mark Word</a><a href="/tags/monitor/" style="font-size: 1.15em; color: rgb(72, 80, 113)">Monitor</a><a href="/tags/lambda/" style="font-size: 1.15em; color: rgb(11, 72, 19)">Lambda</a><a href="/tags/thread-pool/" style="font-size: 1.15em; color: rgb(188, 102, 7)">Thread Pool</a><a href="/tags/context-switch/" style="font-size: 1.15em; color: rgb(113, 170, 187)">Context Switch</a><a href="/tags/bytecode-manipulation/" style="font-size: 1.17em; color: rgb(44, 5, 168)">Bytecode Manipulation</a><a href="/tags/asm/" style="font-size: 1.15em; color: rgb(27, 133, 86)">ASM</a><a href="/tags/jol/" style="font-size: 1.17em; color: rgb(33, 22, 1)">JOL</a><a href="/tags/middleware/" style="font-size: 1.39em; color: rgb(113, 117, 154)">Middleware</a><a href="/tags/mq/" style="font-size: 1.39em; color: rgb(128, 166, 195)">MQ</a><a href="/tags/kafka/" style="font-size: 1.39em; color: rgb(154, 106, 169)">Kafka</a><a href="/tags/stream/" style="font-size: 1.39em; color: rgb(18, 185, 108)">Stream</a><a href="/tags/avro/" style="font-size: 1.19em; color: rgb(85, 63, 157)">Avro</a><a href="/tags/rebalance/" style="font-size: 1.17em; color: rgb(77, 25, 136)">Rebalance</a><a href="/tags/compression/" style="font-size: 1.15em; color: rgb(121, 160, 48)">Compression</a><a href="/tags/consumer-group/" style="font-size: 1.15em; color: rgb(169, 62, 125)">Consumer Group</a><a href="/tags/tcp/" style="font-size: 1.16em; color: rgb(32, 36, 129)">TCP</a><a href="/tags/idempotence/" style="font-size: 1.15em; color: rgb(24, 71, 172)">Idempotence</a><a href="/tags/producer/" style="font-size: 1.15em; color: rgb(17, 40, 28)">Producer</a><a href="/tags/load-balance/" style="font-size: 1.15em; color: rgb(166, 17, 129)">Load Balance</a><a href="/tags/distributed-architecture/" style="font-size: 1.15em; color: rgb(28, 160, 131)">Distributed Architecture</a><a href="/tags/distributed-design-pattern/" style="font-size: 1.17em; color: rgb(66, 49, 184)">Distributed Design Pattern</a><a href="/tags/career/" style="font-size: 1.15em; color: rgb(38, 60, 64)">Career</a><a href="/tags/linux/" style="font-size: 1.29em; color: rgb(127, 6, 29)">Linux</a><a href="/tags/linux-performance/" style="font-size: 1.17em; color: rgb(41, 113, 52)">Linux Performance</a><a href="/tags/linux-practice/" style="font-size: 1.27em; color: rgb(89, 104, 188)">Linux Practice</a><a href="/tags/ext4/" style="font-size: 1.15em; color: rgb(103, 34, 112)">ext4</a><a href="/tags/file-system/" style="font-size: 1.15em; color: rgb(89, 156, 151)">File System</a><a href="/tags/math/" style="font-size: 1.16em; color: rgb(195, 69, 158)">Math</a><a href="/tags/microservices-governance/" style="font-size: 1.23em; color: rgb(94, 21, 117)">Microservices Governance</a><a href="/tags/config/" style="font-size: 1.17em; color: rgb(83, 104, 14)">Config</a><a href="/tags/configuration-center/" style="font-size: 1.17em; color: rgb(98, 124, 51)">Configuration Center</a><a href="/tags/apollo/" style="font-size: 1.17em; color: rgb(114, 158, 66)">Apollo</a><a href="/tags/oauth2/" style="font-size: 1.21em; color: rgb(59, 164, 75)">Oauth2</a><a href="/tags/spring-security/" style="font-size: 1.2em; color: rgb(90, 68, 80)">Spring Security</a><a href="/tags/spring-security-oauth2/" style="font-size: 1.2em; color: rgb(164, 176, 170)">Spring Security OAuth2</a><a href="/tags/vim/" style="font-size: 1.21em; color: rgb(87, 12, 83)">Vim</a><a href="/tags/web/" style="font-size: 1.22em; color: rgb(183, 84, 155)">Web</a><a href="/tags/javascript/" style="font-size: 1.2em; color: rgb(126, 87, 181)">JavaScript</a><a href="/tags/zookeeper/" style="font-size: 1.16em; color: rgb(99, 180, 126)">Zookeeper</a><a href="/tags/distributed-lock/" style="font-size: 1.15em; color: rgb(158, 89, 190)">Distributed Lock</a><a href="/tags/jwt/" style="font-size: 1.15em; color: rgb(184, 71, 88)">JWT</a><a href="/tags/bio/" style="font-size: 1.15em; color: rgb(114, 81, 157)">BIO</a><a href="/tags/tomcat/" style="font-size: 1.15em; color: rgb(126, 31, 131)">Tomcat</a><a href="/tags/select/" style="font-size: 1.15em; color: rgb(141, 60, 52)">Select</a><a href="/tags/poll/" style="font-size: 1.15em; color: rgb(169, 52, 147)">Poll</a><a href="/tags/zero-copy/" style="font-size: 1.15em; color: rgb(190, 27, 8)">Zero Copy</a><a href="/tags/mmap/" style="font-size: 1.15em; color: rgb(63, 139, 82)">mmap</a><a href="/tags/reactor/" style="font-size: 1.15em; color: rgb(19, 143, 125)">Reactor</a><a href="/tags/zab/" style="font-size: 1.15em; color: rgb(150, 124, 99)">ZAB</a><a href="/tags/cloud-native-foundation/" style="font-size: 1.17em; color: rgb(96, 40, 157)">Cloud Native Foundation</a><a href="/tags/etcd/" style="font-size: 1.15em; color: rgb(65, 178, 109)">etcd</a><a href="/tags/raft/" style="font-size: 1.15em; color: rgb(128, 130, 30)">raft</a><a href="/tags/performance-tuning/" style="font-size: 1.15em; color: rgb(30, 183, 131)">Performance Tuning</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span><a class="card-more-btn" href="/archives/" title="More">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/12/"><span class="card-archive-list-date">December 2022</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/11/"><span class="card-archive-list-date">November 2022</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/10/"><span class="card-archive-list-date">October 2022</span><span class="card-archive-list-count">31</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/09/"><span class="card-archive-list-date">September 2022</span><span class="card-archive-list-count">15</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/07/"><span class="card-archive-list-date">July 2022</span><span class="card-archive-list-count">18</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/05/"><span class="card-archive-list-date">May 2022</span><span class="card-archive-list-count">15</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">April 2022</span><span class="card-archive-list-count">9</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">March 2022</span><span class="card-archive-list-count">13</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">424</div></div><div class="webinfo-item"><div class="item-name">Run time :</div><div class="item-count" id="runtimeshow" data-publishDate="2015-06-30T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Total Count :</div><div class="item-count">647.9k</div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-06-28T15:41:32.190Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.pixabay.com/photo/2018/08/27/15/17/fishing-3635221_1280.png')"><div id="footer-wrap"><div class="copyright">&copy;2015 - 2023 By zhongmingmao</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Life is like a box of chocolates. You can't know what you'll eat until you open it.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["Stay hungry, stay foolish."])
  } else {
    document.getElementById("subtitle").innerHTML = 'Stay hungry, stay foolish.'
  }
}
typedJSFn.run(subtitleType)</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></body></html>