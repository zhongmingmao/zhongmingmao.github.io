<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>ByteCoding</title><meta name="author" content="zhongmingmao"><meta name="copyright" content="zhongmingmao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="Focus on Infrastructure">
<meta property="og:type" content="website">
<meta property="og:title" content="ByteCoding">
<meta property="og:url" content="https://blog.zhongmingmao.top/page/13/index.html">
<meta property="og:site_name" content="ByteCoding">
<meta property="og:description" content="Focus on Infrastructure">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png">
<meta property="article:author" content="zhongmingmao">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="shortcut icon" href="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="canonical" href="https://blog.zhongmingmao.top/page/13/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":512,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":256},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":32,"languages":{"author":"Author: zhongmingmao","link":"Link: ","source":"Source: ByteCoding","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ByteCoding',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2025-09-17 00:33:37'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ByteCoding" type="application/atom+xml">
</head><body><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">637</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">191</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">83</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://cdn.pixabay.com/photo/2022/10/16/13/53/early-morning-7525151_1280.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="ByteCoding"><span class="site-name">ByteCoding</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">ByteCoding</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2023/05/05/cloud-native-foundation-go-engineering-makefile/" title="Go Engineering - Makefile"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-engineering-1253868755.cos.ap-guangzhou.myqcloud.com/go-engineering-makefile.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Makefile"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/05/05/cloud-native-foundation-go-engineering-makefile/" title="Go Engineering - Makefile">Go Engineering - Makefile</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-05-04T16:06:25.000Z" title="Created 2023-05-05 00:06:25">2023-05-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/go-engineering/">Go Engineering</a></span></div><div class="content">基础语法
https://github.com/seisman/how-to-write-makefile


规则语法
伪目标
变量赋值
特殊变量
自动化变量

功能设计Target


Target
Desc



gen
Generate all necessary files, such as error code files.


format
Gofmt (reformat) package sources (exclude vendor dir if existed).


lint
Check syntax and styling of go sources.


test
Run unit test.


cover
Run unit test and get test coverage.


build
Build source code for host platform.


build.multiarch
Build source code for multiple platforms. See option PLATFORMS.


image
Build docker image ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/05/04/cloud-native-foundation-go-engineering-rpc-api/" title="Go Engineering - RPC API"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-engineering-1253868755.cos.ap-guangzhou.myqcloud.com/go-engineering-grpc-7924583.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - RPC API"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/05/04/cloud-native-foundation-go-engineering-rpc-api/" title="Go Engineering - RPC API">Go Engineering - RPC API</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-05-03T16:06:25.000Z" title="Created 2023-05-04 00:06:25">2023-05-04</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/go-engineering/">Go Engineering</a></span></div><div class="content">RPC
Client Stub &#x2F; Server Skeleton





Client 通过本地调用，调用 Client Stub
Client Stub 将参数打包（Marshalling）成一个消息，并发送这个消息
Client 所在的 OS 将消息发送给 Server
Server 端接收到消息后，将消息传递给 Server Stub
Server Stub 将消息解包（Unmarshalling）得到参数
Server Stub 调用服务端子函数，处理完毕后，将最终结果按相反步骤返回给 Client

gRPC
Google Remote Procedure Call

简介
由 Google 开发的高性能、开源、跨语言的通用 RPC 框架
基于 HTTP 2.0 协议 + 默认采用 Protocol Buffers 数据序列化协议


特征
支持多语言 - Go、Java、C++、Node.js、Python 等
基于 IDL - Interface Definition Language 文件定义服务
通过 proto3 工具生成指定语言的数据结构、Server API 以及 Cli ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/05/03/cloud-native-foundation-go-engineering-restful-api/" title="Go Engineering - RESTful API"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-engineering-1253868755.cos.ap-guangzhou.myqcloud.com/go-engineering-restful-api.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - RESTful API"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/05/03/cloud-native-foundation-go-engineering-restful-api/" title="Go Engineering - RESTful API">Go Engineering - RESTful API</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-05-02T16:06:25.000Z" title="Created 2023-05-03 00:06:25">2023-05-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/go-engineering/">Go Engineering</a></span></div><div class="content">概念
Representational State Transfer


REST 只是一种软件架构风格
REST 有一系列规范，满足这些规范的 API 称为 RESTful API
REST 规范将所有内容都视为资源，REST 架构对资源的操作对应 HTTP 协议提供的方法
REST 风格适用于很多传输协议，并且 REST 天生与 HTTP 协议相辅相成
HTTP 协议成为了实现 RESTful API 的事实标准







REST 是一种规范，而 RESTful API 是满足 REST 规范的 API 接口


RESTful API 的核心是规范

特点
以资源为中心，所有东西都抽象成资源，所有行为都应该在资源上的 CRUD 操作
资源对应 OOP 中的对象
资源使用 URI 标识，每个资源实例都有唯一的 URI 标识


资源是有状态的，使用 JSON&#x2F;XML 等在 HTTP  Body 里表征资源的状态
客户端通过 HTTP 动词，对服务端资源进行操作，实现 Representational State Transfer
操作是无状态的，每个 RESTful API 请求都包含了所 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/05/02/cloud-native-foundation-go-engineering-design-pattern/" title="Go Engineering - Design Pattern"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-engineering-1253868755.cos.ap-guangzhou.myqcloud.com/go-engineering-design-pattern.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Design Pattern"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/05/02/cloud-native-foundation-go-engineering-design-pattern/" title="Go Engineering - Design Pattern">Go Engineering - Design Pattern</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-05-01T16:06:25.000Z" title="Created 2023-05-02 00:06:25">2023-05-02</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/go-engineering/">Go Engineering</a></span></div><div class="content">设计模式



创建型模式
提供了一种在创建对象的同时隐藏创建逻辑的方式

单例模式饿汉方式
在包被加载时创建

12345678910package singletontype Singleton struct &#123;&#125;var instance *Singleton = &amp;Singleton&#123;&#125;func GetInstance() *Singleton &#123;    return instance&#125;

懒汉方式
在第一次使用时创建 - 使用最多，但非并发安全，需要加锁

不加锁1234567891011121314package singletontype Singleton struct &#123;&#125;var instance *Singleton// GetInstance is not thread-safefunc GetInstance() *Singleton &#123;    if instance == nil &#123;        instance = &amp;Singleton&#123;&#125;     ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/05/01/cloud-native-foundation-go-engineering-elegant-project/" title="Go Engineering - Elegant Project"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-engineering-1253868755.cos.ap-guangzhou.myqcloud.com/go-engineering-elegant-project.gif" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Elegant Project"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/05/01/cloud-native-foundation-go-engineering-elegant-project/" title="Go Engineering - Elegant Project">Go Engineering - Elegant Project</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-04-30T16:06:25.000Z" title="Created 2023-05-01 00:06:25">2023-05-01</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/go-engineering/">Go Engineering</a></span></div><div class="content">优雅项目


Go 应用
代码结构
按功能拆分 - Kubernetes &#x2F; Docker &#x2F; Helm &#x2F; Prometheus

代码规范
编码规范 - https://github.com/xxjwxc/uber_go_guide_cn
静态代码检查 - https://github.com/golangci/golangci-lint
最佳实践
https://go.dev/doc/effective_go
https://go.dev/wiki/CodeReviewComments
https://rakyll.org/style-packages/



代码质量
单元测试
可测试
将依赖的数据库等抽象成接口，在被测代码中调用接口的方法，在测试时传入 Mock 类型
尽量减少 function 中的依赖 + 依赖是容易 Mock 的


高覆盖率


Code Review


Mock 工具
https://github.com/golang/mock
官方 Mock 框架，与 Golang 内置的 testing 包集成，最常用
实现基于 interface 的  ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/04/01/go-concurrency-mutex-basic/" title="Go Concurrency - Mutex Basic"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/go-mutex.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Concurrency - Mutex Basic"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/04/01/go-concurrency-mutex-basic/" title="Go Concurrency - Mutex Basic">Go Concurrency - Mutex Basic</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-03-31T16:06:25.000Z" title="Created 2023-04-01 00:06:25">2023-04-01</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/go/">Go</a></span></div><div class="content">基本概念临界区
临界区 - 共享资源
使用互斥锁，限定临界区只能同时由一个线程持有
当临界区被一个线程持有时，其它线程想进入，只能失败或者等待
直到持有的线程退出临界区后，其它等待的线程才有机会去竞争该临界区


在 Go 标准库中，使用 Mutex 来实现互斥锁 - 使用最为广泛的同步原语
同步原语：解决并发问题的基础数据结构





同步原语适用场景
共享资源 - Mutex &#x2F; RWMutex
任务编排 - WaitGroup &#x2F; Channel
消息传递 - Channel

基本用法Locker
Locker 接口定义了锁同步原语的方法集

1234567package sync// A Locker represents an object that can be locked and unlocked.type Locker interface &#123;    Lock()    Unlock()&#125;

Mutex12func (m *Mutex) Lock()func (m *Mutex) Unlock()


当一个 goroutine 通过 Lock()  ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/02/15/cloud-native-serverless-faas-workflow/" title="FaaS - Workflow"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://serverless-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/faas-workflow.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="FaaS - Workflow"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/02/15/cloud-native-serverless-faas-workflow/" title="FaaS - Workflow">FaaS - Workflow</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-02-14T16:06:25.000Z" title="Created 2023-02-15 00:06:25">2023-02-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/serverless/">Serverless</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/serverless/faas/">FaaS</a></span></div><div class="content">
</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/02/14/cloud-native-serverless-faas-web-ide/" title="FaaS - WebIDE"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://serverless-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/webide.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="FaaS - WebIDE"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/02/14/cloud-native-serverless-faas-web-ide/" title="FaaS - WebIDE">FaaS - WebIDE</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-02-13T16:06:25.000Z" title="Created 2023-02-14 00:06:25">2023-02-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/serverless/">Serverless</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/serverless/faas/">FaaS</a></span></div><div class="content">架构


组成
蓝色部分
WebIDE 客户端的核心
Run VS Code on any machine anywhere and access it in the browser


绿色部分
将 WebIDE 与 FaaS 结合的核心


橘色部分
Serverless 形态下的必备支撑服务



过程
用户在 VS Code 的前端页面向后端发出函数在线编辑的请求
服务端，即 FaaS 的 Controller 在接收到请求并验证权限后，再转给 VS Code Server 容器实例


VS Code Server 容器实例会获取用户代码，然后再加载 FaaS 的资源调度系统
根据目前 Container Pool 中的资源现状，动态扩缩容 WebIDE Pod 资源


VS Code Server 根据用户请求，会调用 Serverless Extension BE
基于此时语言的环境，执行操作，并将执行结果返回给 Client 端



注意
可以将 Serverless Extension 插件提前集成在 VS Code Server 的镜像中
FaaS Runtime 依据原来函数计算执行 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/02/13/cloud-native-serverless-faas-function-invoke/" title="FaaS - Function Invoke"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://serverless-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/faas-function-invoke.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="FaaS - Function Invoke"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/02/13/cloud-native-serverless-faas-function-invoke/" title="FaaS - Function Invoke">FaaS - Function Invoke</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-02-12T16:06:25.000Z" title="Created 2023-02-13 00:06:25">2023-02-13</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/serverless/">Serverless</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/serverless/faas/">FaaS</a></span></div><div class="content">函数拆分
成本
云函数的收费：调用次数、公网流量、占用资源时间（最贵）


复用
组件化


性能
对于非串行的功能，拆分成多个函数可以提高并发性





调用方式
同步、异步、编排（具有调度和管理的语义）


同步
需要注意调用延迟和超时带来的费用成本

直接调用
使用云厂商提供的 SDK，调用指定的函数，实现直接调用

12345678import fc2client = fc2.Client(               endpoint=&#x27;&lt;Your Endpoint&gt;&#x27;,               accessKeyID=&#x27;&lt;Your AccessKeyID&gt;&#x27;,               accessKeySecret=&#x27;&lt;Your AccessKeySecret&gt;&#x27;)// 同步调用client.invoke_function(&#x27;service_name&#x27;, &#x27;function_name&#x27;)

网关调用
通过 API 网关调用函数，借助 API 网关来达到限 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/02/12/cloud-native-serverless-faas-runtime/" title="FaaS - Runtime"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://serverless-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/faas-runtime.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="FaaS - Runtime"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/02/12/cloud-native-serverless-faas-runtime/" title="FaaS - Runtime">FaaS - Runtime</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2023-02-11T16:06:25.000Z" title="Created 2023-02-12 00:06:25">2023-02-12</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/serverless/">Serverless</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/serverless/faas/">FaaS</a></span></div><div class="content">概述
一般的编程语言都有自身的运行时，运行时的主要职责是可以让代码和机器交互，进而实现业务逻辑
函数计算运行时
能够让函数在机器或者容器中执行起来，实现业务逻辑的执行环境
通常由特定语言构建的框架构成


函数计算运行时依赖于语言运行时
函数计算运行时的本质：让函数在容器中执行起来的代码框架





在函数实例初始化时，函数计算运行时一般会由一个初始化进程加载起来
然后函数计算运行时就可以准备接收请求
当请求到达后，业务代码会被对应的语言运行时中加载进来处理请求


Runtime 是一个特定语言环境下的服务框架环境


该服务将以一个进程的形态运行在用户容器中，并与用户代码相关联
该服务启动后，会一直等待请求的到来，一旦请求到达后，Runtime 会关联业务代码去执行（并发）

原理语言类型编译型语言
C&#x2F;C++&#x2F;Go，在编译时将所有用到的静态依赖、源码一起打包，编译完后可以直接运行
Java，经过编译产生的字节码需要 JVM 再次将其转换为机器码，同时具有编译型和解释型的特性
通常需要将所有依赖包打包成一个 jar 包或者 war 包，符合编译型语言的风格


在开发函数时，需要强依 ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/12/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/#content-inner">12</a><span class="page-number current">13</span><a class="page-number" href="/page/14/#content-inner">14</a><span class="space">&hellip;</span><a class="page-number" href="/page/64/#content-inner">64</a><a class="extend next" rel="next" href="/page/14/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">zhongmingmao</div><div class="author-info__description">Focus on Infrastructure.</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">637</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">191</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">83</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Things are always unexpected!</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/01/19/ai-agent-overview-mcp/" title="AI Agent - MCP Overview"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ai-agent-1253868755.cos.ap-guangzhou.myqcloud.com/mcp.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AI Agent - MCP Overview"/></a><div class="content"><a class="title" href="/2025/01/19/ai-agent-overview-mcp/" title="AI Agent - MCP Overview">AI Agent - MCP Overview</a><time datetime="2025-01-18T16:06:25.000Z" title="Created 2025-01-19 00:06:25">2025-01-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/18/ai-agent-overview/" title="AI Agent - Overview"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ai-agent-1253868755.cos.ap-guangzhou.myqcloud.com/ai-agent.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AI Agent - Overview"/></a><div class="content"><a class="title" href="/2025/01/18/ai-agent-overview/" title="AI Agent - Overview">AI Agent - Overview</a><time datetime="2025-01-17T16:06:25.000Z" title="Created 2025-01-18 00:06:25">2025-01-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/17/new-java-feature-foreign-function-api/" title="New Java Feature - Foreign Function API"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://java-feature-1253868755.cos.ap-guangzhou.myqcloud.com/Java-Foreign-Function-API.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="New Java Feature - Foreign Function API"/></a><div class="content"><a class="title" href="/2025/01/17/new-java-feature-foreign-function-api/" title="New Java Feature - Foreign Function API">New Java Feature - Foreign Function API</a><time datetime="2025-01-16T16:06:25.000Z" title="Created 2025-01-17 00:06:25">2025-01-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/16/new-java-feature-foreign-memory-api/" title="New Java Feature - Foreign Memory API"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://java-feature-1253868755.cos.ap-guangzhou.myqcloud.com/Java-Foreign-Function-and-Memory-API.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="New Java Feature - Foreign Memory API"/></a><div class="content"><a class="title" href="/2025/01/16/new-java-feature-foreign-memory-api/" title="New Java Feature - Foreign Memory API">New Java Feature - Foreign Memory API</a><time datetime="2025-01-15T16:06:25.000Z" title="Created 2025-01-16 00:06:25">2025-01-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/15/new-java-feature-flow/" title="New Java Feature - Flow"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://java-feature-1253868755.cos.ap-guangzhou.myqcloud.com/java-flow.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="New Java Feature - Flow"/></a><div class="content"><a class="title" href="/2025/01/15/new-java-feature-flow/" title="New Java Feature - Flow">New Java Feature - Flow</a><time datetime="2025-01-14T16:06:25.000Z" title="Created 2025-01-15 00:06:25">2025-01-15</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            <a class="card-more-btn" href="/categories/" title="More">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/"><span class="card-category-list-name">AI</span><span class="card-category-list-count">34</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/llm/"><span class="card-category-list-name">LLM</span><span class="card-category-list-count">16</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/rag/"><span class="card-category-list-name">RAG</span><span class="card-category-list-count">18</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai-agent/"><span class="card-category-list-name">AI Agent</span><span class="card-category-list-count">2</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai-agent/mcp/"><span class="card-category-list-name">MCP</span><span class="card-category-list-count">2</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai-agent/mcp/a2a/"><span class="card-category-list-name">A2A</span><span class="card-category-list-count">2</span></a></li></ul></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/big-data/"><span class="card-category-list-name">Big Data</span><span class="card-category-list-count">26</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/big-data/beam/"><span class="card-category-list-name">Beam</span><span class="card-category-list-count">13</span></a></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/mcp/" style="font-size: 1.16em; color: rgb(134, 191, 124)">MCP</a><a href="/tags/a2a/" style="font-size: 1.16em; color: rgb(136, 155, 192)">A2A</a><a href="/tags/big-data/" style="font-size: 1.32em; color: rgb(147, 117, 66)">Big Data</a><a href="/tags/beam/" style="font-size: 1.24em; color: rgb(85, 158, 158)">Beam</a><a href="/tags/spark/" style="font-size: 1.19em; color: rgb(47, 184, 143)">Spark</a><a href="/tags/mapreduce/" style="font-size: 1.15em; color: rgb(104, 178, 55)">MapReduce</a><a href="/tags/rdd/" style="font-size: 1.15em; color: rgb(99, 77, 124)">RDD</a><a href="/tags/flink/" style="font-size: 1.15em; color: rgb(101, 49, 13)">Flink</a><a href="/tags/cloud-computing/" style="font-size: 1.22em; color: rgb(121, 144, 86)">Cloud Computing</a><a href="/tags/iaas/" style="font-size: 1.19em; color: rgb(170, 12, 63)">IaaS</a><a href="/tags/paas/" style="font-size: 1.19em; color: rgb(150, 90, 184)">PaaS</a><a href="/tags/cloud-native/" style="font-size: 1.45em; color: rgb(164, 127, 33)">Cloud Native</a><a href="/tags/kubernetes/" style="font-size: 1.43em; color: rgb(70, 190, 193)">Kubernetes</a><a href="/tags/devops/" style="font-size: 1.18em; color: rgb(165, 82, 20)">DevOps</a><a href="/tags/container/" style="font-size: 1.26em; color: rgb(100, 38, 56)">Container</a><a href="/tags/docker/" style="font-size: 1.27em; color: rgb(190, 18, 49)">Docker</a><a href="/tags/cloud-native-foundation/" style="font-size: 1.33em; color: rgb(51, 63, 40)">Cloud Native Foundation</a><a href="/tags/helm/" style="font-size: 1.15em; color: rgb(83, 93, 20)">Helm</a><a href="/tags/runc/" style="font-size: 1.15em; color: rgb(109, 5, 69)">runc</a><a href="/tags/kustomize/" style="font-size: 1.15em; color: rgb(150, 110, 67)">Kustomize</a><a href="/tags/oci/" style="font-size: 1.15em; color: rgb(37, 29, 30)">OCI</a><a href="/tags/buildkit/" style="font-size: 1.15em; color: rgb(83, 32, 171)">BuildKit</a><a href="/tags/crane/" style="font-size: 1.15em; color: rgb(30, 123, 188)">crane</a><a href="/tags/oci-image/" style="font-size: 1.15em; color: rgb(194, 41, 58)">OCI Image</a><a href="/tags/oci-runtime/" style="font-size: 1.15em; color: rgb(120, 178, 98)">OCI Runtime</a><a href="/tags/linux-namespace/" style="font-size: 1.15em; color: rgb(140, 123, 20)">Linux Namespace</a><a href="/tags/linux-cgroup/" style="font-size: 1.15em; color: rgb(125, 18, 88)">Linux CGroup</a><a href="/tags/k8s-manifest/" style="font-size: 1.15em; color: rgb(162, 107, 4)">K8S Manifest</a><a href="/tags/infrastructure/" style="font-size: 1.31em; color: rgb(146, 2, 105)">Infrastructure</a><a href="/tags/architecture/" style="font-size: 1.32em; color: rgb(120, 108, 190)">Architecture</a><a href="/tags/iac/" style="font-size: 1.15em; color: rgb(126, 130, 121)">IaC</a><a href="/tags/terraform/" style="font-size: 1.15em; color: rgb(64, 119, 166)">Terraform</a><a href="/tags/crossplane/" style="font-size: 1.15em; color: rgb(11, 105, 115)">Crossplane</a><a href="/tags/pulumi/" style="font-size: 1.15em; color: rgb(172, 82, 153)">Pulumi</a><a href="/tags/argo-cd/" style="font-size: 1.15em; color: rgb(79, 108, 87)">Argo CD</a><a href="/tags/vpc/" style="font-size: 1.15em; color: rgb(176, 95, 171)">VPC</a><a href="/tags/go-core/" style="font-size: 1.17em; color: rgb(112, 68, 5)">Go Core</a><a href="/tags/go/" style="font-size: 1.42em; color: rgb(38, 180, 71)">Go</a><a href="/tags/go-engineering/" style="font-size: 1.34em; color: rgb(151, 88, 52)">Go Engineering</a><a href="/tags/swagger/" style="font-size: 1.15em; color: rgb(49, 150, 18)">Swagger</a><a href="/tags/rpc/" style="font-size: 1.16em; color: rgb(75, 66, 16)">RPC</a><a href="/tags/grpc/" style="font-size: 1.16em; color: rgb(193, 29, 163)">gRPC</a><a href="/tags/ci/" style="font-size: 1.15em; color: rgb(22, 16, 32)">CI</a><a href="/tags/makefile/" style="font-size: 1.15em; color: rgb(131, 50, 6)">Makefile</a><a href="/tags/network/" style="font-size: 1.16em; color: rgb(199, 70, 176)">Network</a><a href="/tags/linux/" style="font-size: 1.26em; color: rgb(191, 161, 29)">Linux</a><a href="/tags/dockerfile/" style="font-size: 1.17em; color: rgb(105, 134, 93)">Dockerfile</a><a href="/tags/service-mesh/" style="font-size: 1.18em; color: rgb(12, 125, 72)">Service Mesh</a><a href="/tags/istio/" style="font-size: 1.17em; color: rgb(158, 145, 75)">Istio</a><a href="/tags/etcd/" style="font-size: 1.15em; color: rgb(67, 71, 143)">etcd</a><a href="/tags/raft/" style="font-size: 1.15em; color: rgb(34, 75, 185)">raft</a><a href="/tags/microservices/" style="font-size: 1.26em; color: rgb(93, 12, 29)">Microservices</a><a href="/tags/spring-cloud/" style="font-size: 1.2em; color: rgb(12, 88, 34)">Spring Cloud</a><a href="/tags/spring/" style="font-size: 1.23em; color: rgb(17, 48, 34)">Spring</a><a href="/tags/java/" style="font-size: 1.44em; color: rgb(57, 5, 1)">Java</a><a href="/tags/service-governance/" style="font-size: 1.17em; color: rgb(196, 175, 50)">Service Governance</a><a href="/tags/opa/" style="font-size: 1.2em; color: rgb(19, 163, 1)">OPA</a><a href="/tags/alibaba/" style="font-size: 1.21em; color: rgb(57, 101, 9)">Alibaba</a><a href="/tags/observability/" style="font-size: 1.21em; color: rgb(194, 148, 86)">Observability</a><a href="/tags/opentelemetry/" style="font-size: 1.19em; color: rgb(113, 14, 49)">OpenTelemetry</a><a href="/tags/api-gateway/" style="font-size: 1.15em; color: rgb(165, 22, 43)">API Gateway</a><a href="/tags/apisix/" style="font-size: 1.15em; color: rgb(9, 31, 98)">APISIX</a><a href="/tags/security/" style="font-size: 1.26em; color: rgb(155, 154, 111)">Security</a><a href="/tags/compliance/" style="font-size: 1.17em; color: rgb(142, 3, 41)">Compliance</a><a href="/tags/serverless/" style="font-size: 1.21em; color: rgb(73, 72, 143)">Serverless</a><a href="/tags/faas/" style="font-size: 1.21em; color: rgb(136, 92, 153)">FaaS</a><a href="/tags/computer-basics/" style="font-size: 1.35em; color: rgb(34, 10, 137)">Computer Basics</a><a href="/tags/computer-organization/" style="font-size: 1.35em; color: rgb(157, 1, 103)">Computer Organization</a><a href="/tags/knowledge-map/" style="font-size: 1.15em; color: rgb(169, 8, 27)">Knowledge Map</a><a href="/tags/ebpf/" style="font-size: 1.16em; color: rgb(62, 94, 35)">eBPF</a><a href="/tags/tool/" style="font-size: 1.22em; color: rgb(50, 195, 160)">Tool</a><a href="/tags/git/" style="font-size: 1.22em; color: rgb(73, 80, 27)">Git</a><a href="/tags/concurrency/" style="font-size: 1.15em; color: rgb(51, 29, 198)">Concurrency</a><a href="/tags/cloud/" style="font-size: 1.36em; color: rgb(177, 134, 110)">Cloud</a><a href="/tags/native/" style="font-size: 1.36em; color: rgb(32, 65, 128)">Native</a><a href="/tags/authentication/" style="font-size: 1.17em; color: rgb(25, 110, 199)">Authentication</a><a href="/tags/ldap/" style="font-size: 1.15em; color: rgb(172, 57, 123)">LDAP</a><a href="/tags/oauth-2-0/" style="font-size: 1.2em; color: rgb(121, 41, 120)">OAuth 2.0</a><a href="/tags/jwt/" style="font-size: 1.15em; color: rgb(134, 125, 140)">JWT</a><a href="/tags/storage/" style="font-size: 1.41em; color: rgb(54, 154, 62)">Storage</a><a href="/tags/mysql/" style="font-size: 1.41em; color: rgb(143, 118, 164)">MySQL</a><a href="/tags/innodb/" style="font-size: 1.19em; color: rgb(46, 134, 81)">InnoDB</a><a href="/tags/java-concurrent/" style="font-size: 1.38em; color: rgb(100, 181, 42)">Java Concurrent</a><a href="/tags/actor/" style="font-size: 1.15em; color: rgb(103, 59, 117)">Actor</a><a href="/tags/akka/" style="font-size: 1.15em; color: rgb(149, 100, 73)">Akka</a><a href="/tags/coroutine/" style="font-size: 1.16em; color: rgb(85, 164, 176)">Coroutine</a><a href="/tags/csp/" style="font-size: 1.15em; color: rgb(159, 195, 178)">CSP</a><a href="/tags/disruptor/" style="font-size: 1.15em; color: rgb(16, 107, 104)">Disruptor</a><a href="/tags/netty/" style="font-size: 1.15em; color: rgb(30, 169, 48)">Netty</a><a href="/tags/stm/" style="font-size: 1.15em; color: rgb(65, 94, 117)">STM</a><a href="/tags/mvcc/" style="font-size: 1.15em; color: rgb(2, 114, 176)">MVCC</a><a href="/tags/java-core/" style="font-size: 1.2em; color: rgb(37, 86, 40)">Java Core</a><a href="/tags/java-feature/" style="font-size: 1.28em; color: rgb(27, 19, 56)">Java Feature</a><a href="/tags/java-performance/" style="font-size: 1.34em; color: rgb(71, 170, 105)">Java Performance</a><a href="/tags/cas/" style="font-size: 1.15em; color: rgb(58, 38, 169)">CAS</a><a href="/tags/hashtable/" style="font-size: 1.15em; color: rgb(26, 21, 82)">HashTable</a><a href="/tags/concurrenthashmap/" style="font-size: 1.15em; color: rgb(136, 41, 54)">ConcurrentHashMap</a><a href="/tags/concurrentskiplistmap/" style="font-size: 1.15em; color: rgb(173, 171, 32)">ConcurrentSkipListMap</a><a href="/tags/design-pattern/" style="font-size: 1.18em; color: rgb(71, 168, 134)">Design Pattern</a><a href="/tags/consistency/" style="font-size: 1.15em; color: rgb(192, 79, 35)">Consistency</a><a href="/tags/jvm/" style="font-size: 1.37em; color: rgb(117, 63, 94)">JVM</a><a href="/tags/gc/" style="font-size: 1.16em; color: rgb(161, 138, 52)">GC</a><a href="/tags/hashmap/" style="font-size: 1.15em; color: rgb(57, 4, 142)">HashMap</a><a href="/tags/io/" style="font-size: 1.15em; color: rgb(157, 175, 94)">IO</a><a href="/tags/nio/" style="font-size: 1.16em; color: rgb(129, 27, 147)">NIO</a><a href="/tags/aio/" style="font-size: 1.16em; color: rgb(11, 59, 102)">AIO</a><a href="/tags/epoll/" style="font-size: 1.16em; color: rgb(4, 180, 162)">Epoll</a><a href="/tags/jit/" style="font-size: 1.15em; color: rgb(152, 123, 71)">JIT</a><a href="/tags/synchronized/" style="font-size: 1.16em; color: rgb(110, 87, 162)">synchronized</a><a href="/tags/lock/" style="font-size: 1.15em; color: rgb(183, 164, 0)">Lock</a><a href="/tags/reentrantreadwritelock/" style="font-size: 1.15em; color: rgb(33, 117, 19)">ReentrantReadWriteLock</a><a href="/tags/stampedlock/" style="font-size: 1.15em; color: rgb(76, 136, 65)">StampedLock</a><a href="/tags/bio/" style="font-size: 1.15em; color: rgb(22, 120, 47)">BIO</a><a href="/tags/tomcat/" style="font-size: 1.15em; color: rgb(66, 192, 191)">Tomcat</a><a href="/tags/select/" style="font-size: 1.15em; color: rgb(51, 52, 77)">Select</a><a href="/tags/poll/" style="font-size: 1.15em; color: rgb(193, 113, 96)">Poll</a><a href="/tags/zero-copy/" style="font-size: 1.15em; color: rgb(58, 65, 174)">Zero Copy</a><a href="/tags/mmap/" style="font-size: 1.15em; color: rgb(32, 196, 123)">mmap</a><a href="/tags/reactor/" style="font-size: 1.15em; color: rgb(93, 161, 58)">Reactor</a><a href="/tags/serialization/" style="font-size: 1.15em; color: rgb(77, 4, 90)">Serialization</a><a href="/tags/protobuf/" style="font-size: 1.15em; color: rgb(34, 119, 101)">ProtoBuf</a><a href="/tags/java-stream/" style="font-size: 1.15em; color: rgb(92, 30, 196)">Java Stream</a><a href="/tags/mark-word/" style="font-size: 1.15em; color: rgb(145, 67, 114)">Mark Word</a><a href="/tags/monitor/" style="font-size: 1.15em; color: rgb(196, 198, 33)">Monitor</a><a href="/tags/context-switch/" style="font-size: 1.15em; color: rgb(45, 39, 27)">Context Switch</a><a href="/tags/thread-pool/" style="font-size: 1.15em; color: rgb(11, 147, 146)">Thread Pool</a><a href="/tags/lambda/" style="font-size: 1.15em; color: rgb(199, 169, 198)">Lambda</a><a href="/tags/bytecode-manipulation/" style="font-size: 1.17em; color: rgb(98, 181, 97)">Bytecode Manipulation</a><a href="/tags/asm/" style="font-size: 1.15em; color: rgb(193, 93, 71)">ASM</a><a href="/tags/jol/" style="font-size: 1.17em; color: rgb(146, 65, 106)">JOL</a><a href="/tags/middleware/" style="font-size: 1.39em; color: rgb(148, 133, 125)">Middleware</a><a href="/tags/mq/" style="font-size: 1.4em; color: rgb(146, 1, 197)">MQ</a><a href="/tags/kafka/" style="font-size: 1.39em; color: rgb(94, 4, 143)">Kafka</a><a href="/tags/stream/" style="font-size: 1.39em; color: rgb(18, 92, 121)">Stream</a><a href="/tags/avro/" style="font-size: 1.18em; color: rgb(194, 25, 7)">Avro</a><a href="/tags/rebalance/" style="font-size: 1.17em; color: rgb(149, 61, 169)">Rebalance</a><a href="/tags/compression/" style="font-size: 1.15em; color: rgb(35, 41, 140)">Compression</a><a href="/tags/tcp/" style="font-size: 1.16em; color: rgb(57, 63, 84)">TCP</a><a href="/tags/consumer-group/" style="font-size: 1.15em; color: rgb(129, 162, 25)">Consumer Group</a><a href="/tags/idempotence/" style="font-size: 1.15em; color: rgb(165, 107, 116)">Idempotence</a><a href="/tags/producer/" style="font-size: 1.15em; color: rgb(123, 87, 130)">Producer</a><a href="/tags/load-balance/" style="font-size: 1.15em; color: rgb(95, 190, 1)">Load Balance</a><a href="/tags/distributed-architecture/" style="font-size: 1.15em; color: rgb(82, 92, 125)">Distributed Architecture</a><a href="/tags/distributed-design-pattern/" style="font-size: 1.17em; color: rgb(124, 113, 141)">Distributed Design Pattern</a><a href="/tags/career/" style="font-size: 1.15em; color: rgb(94, 102, 57)">Career</a><a href="/tags/linux-performance/" style="font-size: 1.17em; color: rgb(2, 3, 132)">Linux Performance</a><a href="/tags/linux-practice/" style="font-size: 1.24em; color: rgb(38, 152, 18)">Linux Practice</a><a href="/tags/ext4/" style="font-size: 1.15em; color: rgb(107, 124, 56)">ext4</a><a href="/tags/file-system/" style="font-size: 1.15em; color: rgb(143, 50, 60)">File System</a><a href="/tags/ai/" style="font-size: 1.34em; color: rgb(130, 179, 90)">AI</a><a href="/tags/llm/" style="font-size: 1.34em; color: rgb(2, 37, 165)">LLM</a><a href="/tags/nlp/" style="font-size: 1.25em; color: rgb(76, 189, 90)">NLP</a><a href="/tags/python/" style="font-size: 1.3em; color: rgb(26, 11, 95)">Python</a><a href="/tags/fastapi/" style="font-size: 1.15em; color: rgb(143, 115, 156)">FastAPI</a><a href="/tags/uvicorn/" style="font-size: 1.15em; color: rgb(3, 87, 45)">Uvicorn</a><a href="/tags/chatgpt/" style="font-size: 1.15em; color: rgb(194, 28, 103)">ChatGPT</a><a href="/tags/transformer/" style="font-size: 1.16em; color: rgb(15, 33, 148)">Transformer</a><a href="/tags/machine-learning/" style="font-size: 1.17em; color: rgb(185, 69, 68)">Machine Learning</a><a href="/tags/svm/" style="font-size: 1.15em; color: rgb(182, 62, 73)">SVM</a><a href="/tags/rnn/" style="font-size: 1.15em; color: rgb(69, 164, 83)">RNN</a><a href="/tags/langchain/" style="font-size: 1.19em; color: rgb(169, 84, 67)">LangChain</a><a href="/tags/ai-agent/" style="font-size: 1.18em; color: rgb(118, 151, 16)">AI Agent</a><a href="/tags/rag/" style="font-size: 1.29em; color: rgb(195, 140, 136)">RAG</a><a href="/tags/seq2seq/" style="font-size: 1.16em; color: rgb(117, 27, 61)">Seq2Seq</a><a href="/tags/word2vec/" style="font-size: 1.15em; color: rgb(128, 23, 63)">Word2Vec</a><a href="/tags/attention/" style="font-size: 1.15em; color: rgb(93, 159, 37)">Attention</a><a href="/tags/lora/" style="font-size: 1.15em; color: rgb(52, 130, 198)">LoRA</a><a href="/tags/peft/" style="font-size: 1.15em; color: rgb(54, 36, 195)">PEFT</a><a href="/tags/faiss/" style="font-size: 1.15em; color: rgb(187, 124, 14)">Faiss</a><a href="/tags/microservices-governance/" style="font-size: 1.21em; color: rgb(173, 130, 96)">Microservices Governance</a><a href="/tags/config/" style="font-size: 1.17em; color: rgb(170, 188, 151)">Config</a><a href="/tags/configuration-center/" style="font-size: 1.17em; color: rgb(191, 71, 93)">Configuration Center</a><a href="/tags/apollo/" style="font-size: 1.17em; color: rgb(183, 4, 30)">Apollo</a><a href="/tags/oauth2/" style="font-size: 1.19em; color: rgb(142, 183, 197)">Oauth2</a><a href="/tags/spring-security/" style="font-size: 1.19em; color: rgb(124, 179, 48)">Spring Security</a><a href="/tags/spring-security-oauth2/" style="font-size: 1.19em; color: rgb(14, 72, 26)">Spring Security OAuth2</a><a href="/tags/math/" style="font-size: 1.16em; color: rgb(9, 10, 159)">Math</a><a href="/tags/performance-tuning/" style="font-size: 1.15em; color: rgb(49, 57, 53)">Performance Tuning</a><a href="/tags/chatops/" style="font-size: 1.15em; color: rgb(182, 82, 68)">ChatOps</a><a href="/tags/chatbot/" style="font-size: 1.15em; color: rgb(93, 137, 98)">Chatbot</a><a href="/tags/graphrag/" style="font-size: 1.15em; color: rgb(151, 186, 100)">GraphRAG</a><a href="/tags/rerank/" style="font-size: 1.15em; color: rgb(141, 83, 156)">Rerank</a><a href="/tags/prompting/" style="font-size: 1.15em; color: rgb(9, 39, 22)">Prompting</a><a href="/tags/kg-rag/" style="font-size: 1.15em; color: rgb(85, 85, 99)">KG-RAG</a><a href="/tags/vector/" style="font-size: 1.16em; color: rgb(87, 50, 32)">Vector</a><a href="/tags/vim/" style="font-size: 1.19em; color: rgb(85, 169, 146)">Vim</a><a href="/tags/web/" style="font-size: 1.2em; color: rgb(144, 75, 44)">Web</a><a href="/tags/javascript/" style="font-size: 1.19em; color: rgb(24, 118, 141)">JavaScript</a><a href="/tags/zookeeper/" style="font-size: 1.16em; color: rgb(178, 160, 36)">Zookeeper</a><a href="/tags/distributed-lock/" style="font-size: 1.15em; color: rgb(10, 93, 140)">Distributed Lock</a><a href="/tags/zab/" style="font-size: 1.15em; color: rgb(84, 28, 162)">ZAB</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span><a class="card-more-btn" href="/archives/" title="More">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/01/"><span class="card-archive-list-date">January 2025</span><span class="card-archive-list-count">19</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/10/"><span class="card-archive-list-date">October 2024</span><span class="card-archive-list-count">18</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/09/"><span class="card-archive-list-date">September 2024</span><span class="card-archive-list-count">30</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">August 2024</span><span class="card-archive-list-count">31</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">July 2024</span><span class="card-archive-list-count">10</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">June 2024</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">May 2023</span><span class="card-archive-list-count">11</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">April 2023</span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">637</div></div><div class="webinfo-item"><div class="item-name">Run time :</div><div class="item-count" id="runtimeshow" data-publishDate="2015-06-30T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Total Count :</div><div class="item-count">1215.6k</div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2025-09-16T16:33:35.318Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.pixabay.com/photo/2018/08/27/15/17/fishing-3635221_1280.png')"><div id="footer-wrap"><div class="copyright">&copy;2015 - 2025 By zhongmingmao</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Life is like a box of chocolates. You can't know what you'll eat until you open it.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["Stay hungry, stay foolish."])
  } else {
    document.getElementById("subtitle").innerHTML = 'Stay hungry, stay foolish.'
  }
}
typedJSFn.run(subtitleType)</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></body></html>