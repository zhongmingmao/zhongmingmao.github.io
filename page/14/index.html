<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>ByteCoding</title><meta name="author" content="zhongmingmao"><meta name="copyright" content="zhongmingmao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="Focus on Infrastructure">
<meta property="og:type" content="website">
<meta property="og:title" content="ByteCoding">
<meta property="og:url" content="https://blog.zhongmingmao.top/page/14/index.html">
<meta property="og:site_name" content="ByteCoding">
<meta property="og:description" content="Focus on Infrastructure">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png">
<meta property="article:author" content="zhongmingmao">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="shortcut icon" href="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="canonical" href="https://blog.zhongmingmao.top/page/14/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":512,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":256},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":32,"languages":{"author":"Author: zhongmingmao","link":"Link: ","source":"Source: ByteCoding","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ByteCoding',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-11-15 16:02:43'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ByteCoding" type="application/atom+xml">
</head><body><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">580</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">180</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">74</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://cdn.pixabay.com/photo/2022/10/16/13/53/early-morning-7525151_1280.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="ByteCoding"><span class="site-name">ByteCoding</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">ByteCoding</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2022/12/16/go-foundation-code-structure/" title="Go - Code Structure"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/go04.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go - Code Structure"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/16/go-foundation-code-structure/" title="Go - Code Structure">Go - Code Structure</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-12-15T16:06:25.000Z" title="Created 2022-12-16 00:06:25">2022-12-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/go/">Go</a></span></div><div class="content">源文件
Go 源文件使用全小写字母形式的短小单词命名，并以 .go 扩展名结尾
如果使用多个单词，将多个单词直接连接起来，而不使用其它分隔符
即 helloworld.go，而非 hello_world.go


尽量不要使用两个以上单词组合作为文件名，否则很难辨认



Hello, World1234567package mainimport &quot;fmt&quot;func main() &#123;    fmt.Println(&quot;Hello, World!&quot;)&#125;

12345678910111213$ tree.└── main.go$ go build main.go$ tree.├── main└── main.go$ ./mainHello, World!

程序结构1package main


package 是 Go 语言的基本组成单位，通常使用单个小写单词命名
整个 Go 程序仅允许存在一个 main 包

main.go12345import &quot;fmt&quot;func main() &#123;    fmt.Println(&quo ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/12/15/cloud-native-foundation-k8s-devops/" title="Kubernetes - DevOps"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/devops.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - DevOps"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/15/cloud-native-foundation-k8s-devops/" title="Kubernetes - DevOps">Kubernetes - DevOps</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-12-14T16:06:25.000Z" title="Created 2022-12-15 00:06:25">2022-12-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/kubernetes/">Kubernetes</a></span></div><div class="content">基本概念流程概览
实现自动化，最核心的投入为编写测试用例




分支管理
提交 PR 时会触发 CI Pipeline；生产系统版本不能直接使用 master 分支（最新代码），而是要基于 Release 分支


CICD
CI
CD
GitOps
一切皆代码，通过 Git 来触发 Ops


Jenkins
Jenkins 不是云原生

Container CI
需要保证 CI 构建环境和开发环境的统一



使用容器作为标准的构建环境，将代码库作为 Volume 挂载进容器
需要在构建容器中执行 docker build 命令，即 Docker in Docker &#x3D; DIND

Kubernetes CI
Jenkins 可以被容器化（on Kubernetes），并支持 Cloud Provider，通过插件的方式支持 Kubernetes


https://github.com/jenkinsci/kubernetes-pluginJenkins plugin to run dynamic agents in a Kubernetes&#x2F;Docker environment
 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/12/14/cloud-native-foundation-k8s-production-ops/" title="Kubernetes - Production Ops"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/k8s-ops.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - Production Ops"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/14/cloud-native-foundation-k8s-production-ops/" title="Kubernetes - Production Ops">Kubernetes - Production Ops</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-12-13T16:06:25.000Z" title="Created 2022-12-14 00:06:25">2022-12-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/kubernetes/">Kubernetes</a></span></div><div class="content">镜像仓库



镜像仓库（Registry）负责存储、管理和分发镜像
Registry 管理多个 Repository（通过命名区分）
每个 Repository 包含一个或多个镜像（通过镜像名和标签区分）
客户端拉取镜像：Registry/Repository/Image:Tag

分发规范
镜像仓库应遵循 OCI Distribution Spec




HTTP Verb
URL
Desc



GET
&#x2F;v2&#x2F;
检查 Registry 实现的规范和版本


GET
&#x2F;v2&#x2F;_catalog
获取 Repository 列表


GET
&#x2F;v2&#x2F;&#x2F;tags&#x2F;list
获取某个 Repository 下所有的标签


PUT
&#x2F;v2&#x2F;&#x2F;manifests&#x2F;
上传 Image 的 manifest 信息


DELETE
&#x2F;v2&#x2F;&#x2F;manifests&#x2F;
删除 Image


GET
&#x2F;v2&#x2F;&#x2F;manifests&#x2 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/12/13/cloud-native-foundation-k8s-manage-production-clusters/" title="Kubernetes - Manage Production Clusters"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/2bc58949d451b7e5f8f8759c44d962d01b2ed48d-1108x1108.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - Manage Production Clusters"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/13/cloud-native-foundation-k8s-manage-production-clusters/" title="Kubernetes - Manage Production Clusters">Kubernetes - Manage Production Clusters</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-12-12T16:06:25.000Z" title="Created 2022-12-13 00:06:25">2022-12-13</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/kubernetes/">Kubernetes</a></span></div><div class="content">操作系统
通用操作系统 - 成熟


Ubuntu
CentOS
Fedora




专为容器优化的操作系统 - 最小化主机操作系统


CoreOS
最早的容器化操作系统，已被收购


RedHat Atomic
将 RPM Repository 转换成 ostree，可以被 bootloader 直接加载


Snappy Ubuntu Core
Canonical 出品，最初为移动设备设计


RancherOS
相对较新，RancherOS 中运行的所有服务都是 Docker 容器




评估选型的标准


是否有生态系统
成熟度
内核版本
对运行时的支持
Init System
包管理和系统升级
安全


不可变基础设施


不可变的容器镜像
不可变的主机操作系统


Atomic - 打包成一个经过裁剪后的操作系统


由 Red Hat 支持的软件包安装系统
多种发行版：Fedora &#x2F; CentOS &#x2F; RHEL
优势
不可变操作系统，面向容器优化的基础设施
只有 /etc 和 /var 可以修改，其它目录均为只读


基于 rpm-ostree 管理系统包
IaC：输 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/12/12/cloud-native-foundation-k8s-service-discovery/" title="Kubernetes - Service Discovery"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/kubernetes-service-discovery.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - Service Discovery"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/12/cloud-native-foundation-k8s-service-discovery/" title="Kubernetes - Service Discovery">Kubernetes - Service Discovery</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-12-11T16:06:25.000Z" title="Created 2022-12-12 00:06:25">2022-12-12</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/kubernetes/">Kubernetes</a></span></div><div class="content">基本概念发展历程


数据包
负载均衡的核心原理 - 修改包头数据



通过浏览器访问某网站的过程（组包在应用层，传包在内核层）


在浏览器输入网站的网址
浏览器本质上是一个 HTTP 客户端，组装成 HTTP 包


做 DNS 解析（递归）
封装 TCP 包（源端口 + 目标端口）
封装 IP 包（源 IP + 目标 IP - 来自于 DNS）

负载均衡
面向连接的负载均衡不一定能保证平均，如 grpc 是基于 http&#x2F;2，会复用 TCP 连接，L4 的负载均衡就无法实现平均

方案集中式
F5（HLB） &#x2F; Nginx（SLB） - 接入集群外部流量



在服务消费者和服务提供者之间有一个独立的 LB
LB 上有所有服务的地址映射表，通常由运维配置注册
当服务消费者调用某个目标服务时，向 LB 发起请求，由 LB 以某种策略做负载均衡后将请求转发到目标服务
LB 一般具备健康检查的能力，能自动摘除不健康的服务实例
服务消费者通过 DNS 发现 LB，运维人员配置一个指向该 LB 的 DNS 域名
优缺点
优点
方案简单，在 LB 上容易实现集中式的访问控制，为业界主流


 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/12/11/go-foundation-design-philosophy/" title="Go - Design Philosophy"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://go-1253868755.cos.ap-guangzhou.myqcloud.com/foundation/go-1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go - Design Philosophy"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/11/go-foundation-design-philosophy/" title="Go - Design Philosophy">Go - Design Philosophy</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-12-10T16:06:25.000Z" title="Created 2022-12-11 00:06:25">2022-12-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/go/">Go</a></span></div><div class="content">简单
语言特性始终保持少且足够的水平，不走语言融合的道路，简单的设计哲学是 Go 生产力的源泉


仅有 25 个关键字，主流编程语言最少
内置 GC，降低开发人员内存管理的心智负担
首字母大小写决定可见性，无需通过额外关键字修饰
变量初始为类型零值，避免以随机值作为初值的问题
内置数组边界检查，极大减少越界访问带来的安全隐患
内置并发支持，简化并发程序设计
内置接口类型，为组合的设计哲学奠定基础
原生提供完善的工具链，开箱即用



显式
Go - 程序员应该明确知道在做什么；C - 信任程序员


Go 不允许不同类型的变量进行混合计算，也不会进行隐式自动转换
Go 采用基于值比较的错误处理方案
函数或方法的错误会通过 return 语句显式地返回，并且调用者通常不能忽略对返回的错误的处理



组合
组合是构建 Go 程序骨架的主要方式，可以大幅度降低程序元素间的耦合，提高程序的可扩展性和灵活性


在 Go 中，找不到经典的 OOP 语法元素、类型体系和继承机制，Go 推崇的是组合的设计哲学
提供正交的语法元素，以供后续组合使用
包之间相对独立，没有子包的概念
没有类型层次体系，各类型之间互相独立，没 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/12/10/cloud-native-foundation-k8s-pod-life-cycle/" title="Kubernetes - Pod Life Cycle"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/pod-life-cycle.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - Pod Life Cycle"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/10/cloud-native-foundation-k8s-pod-life-cycle/" title="Kubernetes - Pod Life Cycle">Kubernetes - Pod Life Cycle</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-12-09T16:06:25.000Z" title="Created 2022-12-10 00:06:25">2022-12-10</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/kubernetes/">Kubernetes</a></span></div><div class="content">生命周期
Pending - 调度尚未成功，ContainerCreating - 完成调度




Pod 状态机
Pod Phase
Pod Phase: Pending &#x2F; Running &#x2F; Succeeded &#x2F; Failed &#x2F; Unknown


k get pod 显示的 STATUS 是由 pod.status.phase 和 pod.status.conditions 计算得出

123$ k get po nginxNAME    READY   STATUS    RESTARTS   AGEnginx   1/1     Running   0          35s


k get po nginx -oyaml

12345678910111213141516171819202122232425262728293031status:  conditions:  - lastProbeTime: null    lastTransitionTime: &quot;2022-08-28T07:00:45Z&quot;    status: & ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/12/09/cloud-native-foundation-k8s-csi/" title="Kubernetes - CSI"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/k8s-csi.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - CSI"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/09/cloud-native-foundation-k8s-csi/" title="Kubernetes - CSI">Kubernetes - CSI</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-12-08T16:06:25.000Z" title="Created 2022-12-09 00:06:25">2022-12-09</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/kubernetes/">Kubernetes</a></span></div><div class="content">运行时存储
运行时存储：镜像只读层 + 容器读写层（写性能不高）



容器启动后，运行时所需文件系统的性能直接影响容器性能
早期 Docker 使用 DeviceMapper 作为容器运行时的存储驱动，因为 OverlayFS 尚未合并进 Linux Kernel
目前 Docker 和 containerd 都默认以 OverlayFS 作为运行时存储驱动
OverlayFS 的性能很好，与操作主机文件的性能几乎一致，比 DeviceMapper 优 20%



CSI分类
以插件的形式来实现对不同存储的支持和扩展




Plugin
Desc



in-tree
代码耦合在 Kubernetes 中，社区不再接受新的 in-tree 存储插件


out-of-tree - FlexVolume - Native Call
Kubernetes 通过调用 Node 的本地可执行文件与存储插件进行交互FlexVolume 插件需要 Node 用 root 权限安装插件驱动执行模式跟 CNI 非常类似


out-of-tree - CSI - RPC
CSI 通过 RPC 与存储驱动进行交互


插 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/12/08/cloud-native-foundation-k8s-cni-v2/" title="Kubernetes - CNI"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/cni-logo-card.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - CNI"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/08/cloud-native-foundation-k8s-cni-v2/" title="Kubernetes - CNI">Kubernetes - CNI</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-12-07T16:06:25.000Z" title="Created 2022-12-08 00:06:25">2022-12-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/kubernetes/">Kubernetes</a></span></div><div class="content">网络分类


Type
Desc



CNI
Pod 到 Pod 的网络，Node 到 Pod 的网络


kube-proxy
通过 Service 访问


Ingress
入站流量




基础原则
所有 Pod 能够不通过 NAT 就能互相访问
所有 Node 能够不通过 NAT 就能互相访问
容器内看到的 IP 地址和外部组件看到的容器 IP 是一样的


补充说明


在 Kubernetes 集群，IP 地址是以 Pod 为单位进行分配的，每个 Pod 拥有一个独立的 IP 地址
一个 Pod 内部的所有容器共享一个网络栈，即宿主上的一个 Network Namespace
Pod 内的所有容器能够通过 localhost:port 来连接对方
在 Kubernetes 中，提供一个轻量的通用容器网络接口 CNI
Container Network Interface，用来设置和删除容器的网络连通性


Container Runtime 通过 CNI 调用网络插件来完成容器的网络设置

插件分类
下面的 Plugin 均由 ContainerNetworking 组维护


IPAM -&g ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/12/07/cloud-native-foundation-k8s-cri/" title="Kubernetes - CRI"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/kubernetes-trends_k8s_container_runtime_popularity.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - CRI"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/07/cloud-native-foundation-k8s-cri/" title="Kubernetes - CRI">Kubernetes - CRI</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-12-06T16:06:25.000Z" title="Created 2022-12-07 00:06:25">2022-12-07</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/kubernetes/">Kubernetes</a></span></div><div class="content">概述
Container Runtime 位于 Node 上，负责容器的整个生命周期，其中 Docker 应用最为广泛





CRI 是 Kubernetes 定义的一组 gRPC 服务



Dockershim 支持 CRI，代码耦合在 kubelet 中
而 Docker 本身是不支持 CRI 的，但 Docker 内部的 containerd 是支持 CRI 的




Kubelet 作为客户端，基于 gRPC 框架，通过 Socket 和 Container Runtime 通信
Container Runtime 提供 gRPC 服务
Image Service - 下载、检查和删除镜像
Runtime Service - 容器生命周期管理 + 与容器交互
区分了 SandBox + Container






Push Image 并不在 CRI 中 – 开发环境用 Docker，生产环境用 containerd



运行时分层




Runtime
Impl



CRI - High-level - gRPC
Dockershim / containerd / CRI-O


 ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/13/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/#content-inner">13</a><span class="page-number current">14</span><a class="page-number" href="/page/15/#content-inner">15</a><span class="space">&hellip;</span><a class="page-number" href="/page/58/#content-inner">58</a><a class="extend next" rel="next" href="/page/15/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">zhongmingmao</div><div class="author-info__description">Focus on Infrastructure.</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">580</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">180</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">74</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Things are always unexpected!</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/09/10/bigdata-distributed-system/" title="Big Data - Distributed System"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/image-20241115122617632.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Big Data - Distributed System"/></a><div class="content"><a class="title" href="/2024/09/10/bigdata-distributed-system/" title="Big Data - Distributed System">Big Data - Distributed System</a><time datetime="2024-09-09T16:06:25.000Z" title="Created 2024-09-10 00:06:25">2024-09-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/09/rag-vector-qdrant/" title="RAG - Qdrant"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://rag-1253868755.cos.ap-guangzhou.myqcloud.com/qdrant.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="RAG - Qdrant"/></a><div class="content"><a class="title" href="/2024/09/09/rag-vector-qdrant/" title="RAG - Qdrant">RAG - Qdrant</a><time datetime="2024-09-08T16:06:25.000Z" title="Created 2024-09-09 00:06:25">2024-09-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/08/python-debug-profile/" title="Python - Debug + Profile"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://python-1253868755.cos.ap-guangzhou.myqcloud.com/python-debugging.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python - Debug + Profile"/></a><div class="content"><a class="title" href="/2024/09/08/python-debug-profile/" title="Python - Debug + Profile">Python - Debug + Profile</a><time datetime="2024-09-07T16:06:25.000Z" title="Created 2024-09-08 00:06:25">2024-09-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/07/python-with/" title="Python - With"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://python-1253868755.cos.ap-guangzhou.myqcloud.com/python-with.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python - With"/></a><div class="content"><a class="title" href="/2024/09/07/python-with/" title="Python - With">Python - With</a><time datetime="2024-09-06T16:06:25.000Z" title="Created 2024-09-07 00:06:25">2024-09-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/06/python-gc/" title="Python - GC"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://python-1253868755.cos.ap-guangzhou.myqcloud.com/image-20241101191222475.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python - GC"/></a><div class="content"><a class="title" href="/2024/09/06/python-gc/" title="Python - GC">Python - GC</a><time datetime="2024-09-05T16:06:25.000Z" title="Created 2024-09-06 00:06:25">2024-09-06</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            <a class="card-more-btn" href="/categories/" title="More">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/"><span class="card-category-list-name">AI</span><span class="card-category-list-count">34</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/llm/"><span class="card-category-list-name">LLM</span><span class="card-category-list-count">16</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/rag/"><span class="card-category-list-name">RAG</span><span class="card-category-list-count">18</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/big-data/"><span class="card-category-list-name">Big Data</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/career/"><span class="card-category-list-name">Career</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/"><span class="card-category-list-name">Cloud Computing</span><span class="card-category-list-count">10</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/iaas/"><span class="card-category-list-name">IaaS</span><span class="card-category-list-count">5</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/paas/"><span class="card-category-list-name">PaaS</span><span class="card-category-list-count">5</span></a></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/big-data/" style="font-size: 1.15em; color: rgb(47, 184, 198)">Big Data</a><a href="/tags/cloud-computing/" style="font-size: 1.22em; color: rgb(182, 129, 21)">Cloud Computing</a><a href="/tags/iaas/" style="font-size: 1.19em; color: rgb(120, 34, 19)">IaaS</a><a href="/tags/paas/" style="font-size: 1.19em; color: rgb(0, 146, 84)">PaaS</a><a href="/tags/cloud-native/" style="font-size: 1.45em; color: rgb(7, 145, 8)">Cloud Native</a><a href="/tags/kubernetes/" style="font-size: 1.43em; color: rgb(77, 41, 44)">Kubernetes</a><a href="/tags/devops/" style="font-size: 1.18em; color: rgb(58, 0, 155)">DevOps</a><a href="/tags/container/" style="font-size: 1.26em; color: rgb(172, 136, 0)">Container</a><a href="/tags/docker/" style="font-size: 1.28em; color: rgb(83, 153, 133)">Docker</a><a href="/tags/go-core/" style="font-size: 1.17em; color: rgb(89, 196, 47)">Go Core</a><a href="/tags/go/" style="font-size: 1.42em; color: rgb(75, 20, 2)">Go</a><a href="/tags/go-engineering/" style="font-size: 1.34em; color: rgb(145, 47, 36)">Go Engineering</a><a href="/tags/swagger/" style="font-size: 1.15em; color: rgb(48, 63, 157)">Swagger</a><a href="/tags/rpc/" style="font-size: 1.16em; color: rgb(157, 6, 176)">RPC</a><a href="/tags/grpc/" style="font-size: 1.16em; color: rgb(96, 175, 123)">gRPC</a><a href="/tags/ci/" style="font-size: 1.15em; color: rgb(99, 118, 144)">CI</a><a href="/tags/makefile/" style="font-size: 1.15em; color: rgb(168, 128, 114)">Makefile</a><a href="/tags/network/" style="font-size: 1.16em; color: rgb(26, 118, 82)">Network</a><a href="/tags/cloud-native-foundation/" style="font-size: 1.33em; color: rgb(102, 168, 36)">Cloud Native Foundation</a><a href="/tags/linux/" style="font-size: 1.27em; color: rgb(72, 61, 127)">Linux</a><a href="/tags/dockerfile/" style="font-size: 1.17em; color: rgb(133, 50, 105)">Dockerfile</a><a href="/tags/service-mesh/" style="font-size: 1.18em; color: rgb(110, 70, 102)">Service Mesh</a><a href="/tags/microservices/" style="font-size: 1.27em; color: rgb(92, 177, 73)">Microservices</a><a href="/tags/spring-cloud/" style="font-size: 1.21em; color: rgb(41, 36, 14)">Spring Cloud</a><a href="/tags/spring/" style="font-size: 1.23em; color: rgb(55, 63, 139)">Spring</a><a href="/tags/java/" style="font-size: 1.44em; color: rgb(187, 9, 64)">Java</a><a href="/tags/service-governance/" style="font-size: 1.17em; color: rgb(30, 150, 47)">Service Governance</a><a href="/tags/opa/" style="font-size: 1.21em; color: rgb(38, 130, 114)">OPA</a><a href="/tags/alibaba/" style="font-size: 1.22em; color: rgb(56, 128, 92)">Alibaba</a><a href="/tags/security/" style="font-size: 1.26em; color: rgb(176, 59, 190)">Security</a><a href="/tags/compliance/" style="font-size: 1.17em; color: rgb(71, 103, 120)">Compliance</a><a href="/tags/infrastructure/" style="font-size: 1.31em; color: rgb(159, 91, 200)">Infrastructure</a><a href="/tags/architecture/" style="font-size: 1.32em; color: rgb(5, 121, 149)">Architecture</a><a href="/tags/serverless/" style="font-size: 1.22em; color: rgb(185, 155, 192)">Serverless</a><a href="/tags/faas/" style="font-size: 1.22em; color: rgb(85, 55, 88)">FaaS</a><a href="/tags/computer-basics/" style="font-size: 1.36em; color: rgb(13, 133, 188)">Computer Basics</a><a href="/tags/computer-organization/" style="font-size: 1.36em; color: rgb(164, 145, 8)">Computer Organization</a><a href="/tags/knowledge-map/" style="font-size: 1.15em; color: rgb(198, 66, 161)">Knowledge Map</a><a href="/tags/tool/" style="font-size: 1.22em; color: rgb(190, 155, 52)">Tool</a><a href="/tags/git/" style="font-size: 1.22em; color: rgb(138, 173, 189)">Git</a><a href="/tags/concurrency/" style="font-size: 1.15em; color: rgb(126, 39, 69)">Concurrency</a><a href="/tags/cloud/" style="font-size: 1.37em; color: rgb(120, 43, 140)">Cloud</a><a href="/tags/native/" style="font-size: 1.37em; color: rgb(103, 87, 6)">Native</a><a href="/tags/authentication/" style="font-size: 1.17em; color: rgb(29, 193, 27)">Authentication</a><a href="/tags/ldap/" style="font-size: 1.15em; color: rgb(91, 17, 138)">LDAP</a><a href="/tags/oauth-2-0/" style="font-size: 1.21em; color: rgb(22, 119, 59)">OAuth 2.0</a><a href="/tags/storage/" style="font-size: 1.4em; color: rgb(155, 174, 4)">Storage</a><a href="/tags/mysql/" style="font-size: 1.41em; color: rgb(92, 198, 179)">MySQL</a><a href="/tags/innodb/" style="font-size: 1.2em; color: rgb(82, 82, 182)">InnoDB</a><a href="/tags/java-concurrent/" style="font-size: 1.38em; color: rgb(150, 185, 70)">Java Concurrent</a><a href="/tags/actor/" style="font-size: 1.15em; color: rgb(166, 86, 32)">Actor</a><a href="/tags/akka/" style="font-size: 1.15em; color: rgb(52, 63, 132)">Akka</a><a href="/tags/coroutine/" style="font-size: 1.16em; color: rgb(116, 60, 142)">Coroutine</a><a href="/tags/csp/" style="font-size: 1.15em; color: rgb(105, 68, 139)">CSP</a><a href="/tags/disruptor/" style="font-size: 1.15em; color: rgb(174, 184, 41)">Disruptor</a><a href="/tags/netty/" style="font-size: 1.15em; color: rgb(183, 127, 142)">Netty</a><a href="/tags/stm/" style="font-size: 1.15em; color: rgb(134, 166, 119)">STM</a><a href="/tags/mvcc/" style="font-size: 1.15em; color: rgb(43, 33, 36)">MVCC</a><a href="/tags/java-core/" style="font-size: 1.21em; color: rgb(83, 146, 112)">Java Core</a><a href="/tags/java-performance/" style="font-size: 1.34em; color: rgb(150, 41, 96)">Java Performance</a><a href="/tags/cas/" style="font-size: 1.15em; color: rgb(121, 179, 48)">CAS</a><a href="/tags/design-pattern/" style="font-size: 1.18em; color: rgb(38, 109, 39)">Design Pattern</a><a href="/tags/consistency/" style="font-size: 1.15em; color: rgb(108, 192, 118)">Consistency</a><a href="/tags/hashtable/" style="font-size: 1.15em; color: rgb(25, 8, 28)">HashTable</a><a href="/tags/concurrenthashmap/" style="font-size: 1.15em; color: rgb(58, 103, 197)">ConcurrentHashMap</a><a href="/tags/concurrentskiplistmap/" style="font-size: 1.15em; color: rgb(134, 18, 190)">ConcurrentSkipListMap</a><a href="/tags/jvm/" style="font-size: 1.38em; color: rgb(32, 173, 133)">JVM</a><a href="/tags/gc/" style="font-size: 1.16em; color: rgb(168, 69, 158)">GC</a><a href="/tags/io/" style="font-size: 1.15em; color: rgb(161, 157, 18)">IO</a><a href="/tags/nio/" style="font-size: 1.16em; color: rgb(127, 92, 36)">NIO</a><a href="/tags/aio/" style="font-size: 1.16em; color: rgb(189, 76, 26)">AIO</a><a href="/tags/epoll/" style="font-size: 1.16em; color: rgb(22, 3, 112)">Epoll</a><a href="/tags/jit/" style="font-size: 1.15em; color: rgb(93, 73, 81)">JIT</a><a href="/tags/hashmap/" style="font-size: 1.15em; color: rgb(76, 132, 107)">HashMap</a><a href="/tags/synchronized/" style="font-size: 1.16em; color: rgb(128, 68, 54)">synchronized</a><a href="/tags/lock/" style="font-size: 1.15em; color: rgb(130, 168, 85)">Lock</a><a href="/tags/reentrantreadwritelock/" style="font-size: 1.15em; color: rgb(66, 120, 102)">ReentrantReadWriteLock</a><a href="/tags/stampedlock/" style="font-size: 1.15em; color: rgb(183, 11, 34)">StampedLock</a><a href="/tags/serialization/" style="font-size: 1.15em; color: rgb(89, 138, 44)">Serialization</a><a href="/tags/protobuf/" style="font-size: 1.15em; color: rgb(77, 58, 46)">ProtoBuf</a><a href="/tags/java-stream/" style="font-size: 1.15em; color: rgb(161, 161, 146)">Java Stream</a><a href="/tags/mark-word/" style="font-size: 1.15em; color: rgb(92, 198, 29)">Mark Word</a><a href="/tags/monitor/" style="font-size: 1.15em; color: rgb(22, 119, 159)">Monitor</a><a href="/tags/context-switch/" style="font-size: 1.15em; color: rgb(84, 167, 161)">Context Switch</a><a href="/tags/thread-pool/" style="font-size: 1.15em; color: rgb(70, 9, 3)">Thread Pool</a><a href="/tags/lambda/" style="font-size: 1.15em; color: rgb(172, 40, 79)">Lambda</a><a href="/tags/bytecode-manipulation/" style="font-size: 1.17em; color: rgb(0, 141, 28)">Bytecode Manipulation</a><a href="/tags/asm/" style="font-size: 1.15em; color: rgb(175, 60, 77)">ASM</a><a href="/tags/jol/" style="font-size: 1.17em; color: rgb(100, 186, 97)">JOL</a><a href="/tags/middleware/" style="font-size: 1.39em; color: rgb(38, 118, 48)">Middleware</a><a href="/tags/mq/" style="font-size: 1.39em; color: rgb(97, 78, 148)">MQ</a><a href="/tags/kafka/" style="font-size: 1.39em; color: rgb(144, 189, 190)">Kafka</a><a href="/tags/stream/" style="font-size: 1.39em; color: rgb(52, 25, 134)">Stream</a><a href="/tags/avro/" style="font-size: 1.18em; color: rgb(48, 45, 167)">Avro</a><a href="/tags/rebalance/" style="font-size: 1.17em; color: rgb(104, 8, 91)">Rebalance</a><a href="/tags/compression/" style="font-size: 1.15em; color: rgb(118, 62, 169)">Compression</a><a href="/tags/consumer-group/" style="font-size: 1.15em; color: rgb(83, 8, 142)">Consumer Group</a><a href="/tags/tcp/" style="font-size: 1.16em; color: rgb(70, 78, 58)">TCP</a><a href="/tags/idempotence/" style="font-size: 1.15em; color: rgb(16, 29, 17)">Idempotence</a><a href="/tags/producer/" style="font-size: 1.15em; color: rgb(182, 176, 143)">Producer</a><a href="/tags/load-balance/" style="font-size: 1.15em; color: rgb(159, 156, 178)">Load Balance</a><a href="/tags/distributed-architecture/" style="font-size: 1.15em; color: rgb(90, 172, 169)">Distributed Architecture</a><a href="/tags/distributed-design-pattern/" style="font-size: 1.17em; color: rgb(166, 125, 77)">Distributed Design Pattern</a><a href="/tags/career/" style="font-size: 1.15em; color: rgb(112, 12, 177)">Career</a><a href="/tags/linux-performance/" style="font-size: 1.17em; color: rgb(75, 59, 86)">Linux Performance</a><a href="/tags/linux-practice/" style="font-size: 1.24em; color: rgb(171, 152, 113)">Linux Practice</a><a href="/tags/ext4/" style="font-size: 1.15em; color: rgb(152, 184, 10)">ext4</a><a href="/tags/file-system/" style="font-size: 1.15em; color: rgb(115, 192, 154)">File System</a><a href="/tags/ai/" style="font-size: 1.35em; color: rgb(30, 127, 109)">AI</a><a href="/tags/llm/" style="font-size: 1.35em; color: rgb(148, 122, 61)">LLM</a><a href="/tags/nlp/" style="font-size: 1.25em; color: rgb(63, 16, 158)">NLP</a><a href="/tags/python/" style="font-size: 1.3em; color: rgb(38, 77, 20)">Python</a><a href="/tags/fastapi/" style="font-size: 1.15em; color: rgb(189, 156, 86)">FastAPI</a><a href="/tags/uvicorn/" style="font-size: 1.15em; color: rgb(155, 75, 171)">Uvicorn</a><a href="/tags/chatgpt/" style="font-size: 1.15em; color: rgb(105, 34, 51)">ChatGPT</a><a href="/tags/machine-learning/" style="font-size: 1.17em; color: rgb(46, 168, 139)">Machine Learning</a><a href="/tags/rnn/" style="font-size: 1.15em; color: rgb(164, 191, 65)">RNN</a><a href="/tags/seq2seq/" style="font-size: 1.16em; color: rgb(177, 20, 161)">Seq2Seq</a><a href="/tags/langchain/" style="font-size: 1.19em; color: rgb(106, 196, 56)">LangChain</a><a href="/tags/ai-agent/" style="font-size: 1.18em; color: rgb(139, 21, 45)">AI Agent</a><a href="/tags/rag/" style="font-size: 1.29em; color: rgb(149, 31, 180)">RAG</a><a href="/tags/word2vec/" style="font-size: 1.15em; color: rgb(138, 15, 120)">Word2Vec</a><a href="/tags/lora/" style="font-size: 1.15em; color: rgb(46, 108, 0)">LoRA</a><a href="/tags/peft/" style="font-size: 1.15em; color: rgb(45, 32, 111)">PEFT</a><a href="/tags/faiss/" style="font-size: 1.15em; color: rgb(137, 129, 48)">Faiss</a><a href="/tags/math/" style="font-size: 1.16em; color: rgb(139, 75, 174)">Math</a><a href="/tags/microservices-governance/" style="font-size: 1.22em; color: rgb(140, 64, 192)">Microservices Governance</a><a href="/tags/config/" style="font-size: 1.17em; color: rgb(191, 91, 199)">Config</a><a href="/tags/configuration-center/" style="font-size: 1.17em; color: rgb(6, 101, 159)">Configuration Center</a><a href="/tags/apollo/" style="font-size: 1.17em; color: rgb(58, 157, 9)">Apollo</a><a href="/tags/oauth2/" style="font-size: 1.2em; color: rgb(67, 14, 156)">Oauth2</a><a href="/tags/spring-security/" style="font-size: 1.19em; color: rgb(183, 123, 95)">Spring Security</a><a href="/tags/spring-security-oauth2/" style="font-size: 1.19em; color: rgb(88, 50, 162)">Spring Security OAuth2</a><a href="/tags/chatops/" style="font-size: 1.15em; color: rgb(170, 174, 7)">ChatOps</a><a href="/tags/chatbot/" style="font-size: 1.15em; color: rgb(124, 75, 154)">Chatbot</a><a href="/tags/rerank/" style="font-size: 1.15em; color: rgb(176, 66, 159)">Rerank</a><a href="/tags/kg-rag/" style="font-size: 1.15em; color: rgb(93, 64, 172)">KG-RAG</a><a href="/tags/graphrag/" style="font-size: 1.15em; color: rgb(155, 92, 4)">GraphRAG</a><a href="/tags/prompting/" style="font-size: 1.15em; color: rgb(15, 1, 180)">Prompting</a><a href="/tags/vim/" style="font-size: 1.2em; color: rgb(15, 52, 195)">Vim</a><a href="/tags/vector/" style="font-size: 1.16em; color: rgb(72, 80, 8)">Vector</a><a href="/tags/web/" style="font-size: 1.21em; color: rgb(51, 100, 183)">Web</a><a href="/tags/javascript/" style="font-size: 1.19em; color: rgb(200, 21, 25)">JavaScript</a><a href="/tags/zookeeper/" style="font-size: 1.16em; color: rgb(171, 9, 19)">Zookeeper</a><a href="/tags/distributed-lock/" style="font-size: 1.15em; color: rgb(60, 43, 180)">Distributed Lock</a><a href="/tags/istio/" style="font-size: 1.17em; color: rgb(17, 193, 169)">Istio</a><a href="/tags/jwt/" style="font-size: 1.15em; color: rgb(44, 156, 62)">JWT</a><a href="/tags/bio/" style="font-size: 1.15em; color: rgb(74, 2, 14)">BIO</a><a href="/tags/tomcat/" style="font-size: 1.15em; color: rgb(149, 59, 132)">Tomcat</a><a href="/tags/select/" style="font-size: 1.15em; color: rgb(5, 42, 110)">Select</a><a href="/tags/poll/" style="font-size: 1.15em; color: rgb(40, 51, 155)">Poll</a><a href="/tags/zero-copy/" style="font-size: 1.15em; color: rgb(52, 166, 111)">Zero Copy</a><a href="/tags/mmap/" style="font-size: 1.15em; color: rgb(54, 186, 129)">mmap</a><a href="/tags/reactor/" style="font-size: 1.15em; color: rgb(161, 126, 183)">Reactor</a><a href="/tags/transformer/" style="font-size: 1.16em; color: rgb(45, 180, 147)">Transformer</a><a href="/tags/svm/" style="font-size: 1.15em; color: rgb(81, 122, 101)">SVM</a><a href="/tags/attention/" style="font-size: 1.15em; color: rgb(193, 156, 34)">Attention</a><a href="/tags/zab/" style="font-size: 1.15em; color: rgb(180, 136, 61)">ZAB</a><a href="/tags/etcd/" style="font-size: 1.15em; color: rgb(84, 127, 105)">etcd</a><a href="/tags/raft/" style="font-size: 1.15em; color: rgb(161, 52, 119)">raft</a><a href="/tags/iac/" style="font-size: 1.15em; color: rgb(37, 4, 187)">IaC</a><a href="/tags/terraform/" style="font-size: 1.15em; color: rgb(125, 36, 120)">Terraform</a><a href="/tags/crossplane/" style="font-size: 1.15em; color: rgb(155, 109, 25)">Crossplane</a><a href="/tags/pulumi/" style="font-size: 1.15em; color: rgb(15, 140, 78)">Pulumi</a><a href="/tags/argo-cd/" style="font-size: 1.15em; color: rgb(62, 122, 38)">Argo CD</a><a href="/tags/vpc/" style="font-size: 1.15em; color: rgb(107, 136, 63)">VPC</a><a href="/tags/helm/" style="font-size: 1.15em; color: rgb(162, 160, 93)">Helm</a><a href="/tags/runc/" style="font-size: 1.15em; color: rgb(129, 192, 26)">runc</a><a href="/tags/kustomize/" style="font-size: 1.15em; color: rgb(128, 30, 175)">Kustomize</a><a href="/tags/oci/" style="font-size: 1.15em; color: rgb(107, 146, 29)">OCI</a><a href="/tags/buildkit/" style="font-size: 1.15em; color: rgb(90, 123, 50)">BuildKit</a><a href="/tags/crane/" style="font-size: 1.15em; color: rgb(96, 101, 140)">crane</a><a href="/tags/oci-image/" style="font-size: 1.15em; color: rgb(34, 78, 136)">OCI Image</a><a href="/tags/oci-runtime/" style="font-size: 1.15em; color: rgb(150, 6, 108)">OCI Runtime</a><a href="/tags/linux-namespace/" style="font-size: 1.15em; color: rgb(175, 169, 114)">Linux Namespace</a><a href="/tags/linux-cgroup/" style="font-size: 1.15em; color: rgb(115, 124, 75)">Linux CGroup</a><a href="/tags/k8s-manifest/" style="font-size: 1.15em; color: rgb(118, 157, 106)">K8S Manifest</a><a href="/tags/performance-tuning/" style="font-size: 1.15em; color: rgb(168, 30, 3)">Performance Tuning</a><a href="/tags/api-gateway/" style="font-size: 1.15em; color: rgb(25, 71, 195)">API Gateway</a><a href="/tags/apisix/" style="font-size: 1.15em; color: rgb(130, 85, 26)">APISIX</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span><a class="card-more-btn" href="/archives/" title="More">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/09/"><span class="card-archive-list-date">September 2024</span><span class="card-archive-list-count">10</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">August 2024</span><span class="card-archive-list-count">31</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">July 2024</span><span class="card-archive-list-count">10</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">June 2024</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">May 2023</span><span class="card-archive-list-count">11</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">April 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/02/"><span class="card-archive-list-date">February 2023</span><span class="card-archive-list-count">15</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/01/"><span class="card-archive-list-date">January 2023</span><span class="card-archive-list-count">31</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">580</div></div><div class="webinfo-item"><div class="item-name">Run time :</div><div class="item-count" id="runtimeshow" data-publishDate="2015-06-30T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Total Count :</div><div class="item-count">1107.9k</div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-11-15T08:02:39.579Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.pixabay.com/photo/2018/08/27/15/17/fishing-3635221_1280.png')"><div id="footer-wrap"><div class="copyright">&copy;2015 - 2024 By zhongmingmao</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Life is like a box of chocolates. You can't know what you'll eat until you open it.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["Stay hungry, stay foolish."])
  } else {
    document.getElementById("subtitle").innerHTML = 'Stay hungry, stay foolish.'
  }
}
typedJSFn.run(subtitleType)</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></body></html>