<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>ByteCoding</title><meta name="author" content="zhongmingmao"><meta name="copyright" content="zhongmingmao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="Focus on Infrastructure">
<meta property="og:type" content="website">
<meta property="og:title" content="ByteCoding">
<meta property="og:url" content="https://blog.zhongmingmao.top/page/46/index.html">
<meta property="og:site_name" content="ByteCoding">
<meta property="og:description" content="Focus on Infrastructure">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png">
<meta property="article:author" content="zhongmingmao">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="shortcut icon" href="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="canonical" href="https://blog.zhongmingmao.top/page/46/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":512,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":256},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":32,"languages":{"author":"Author: zhongmingmao","link":"Link: ","source":"Source: ByteCoding","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ByteCoding',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2025-07-27 16:38:51'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ByteCoding" type="application/atom+xml">
</head><body><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">622</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">189</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">80</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://cdn.pixabay.com/photo/2022/10/16/13/53/early-morning-7525151_1280.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="ByteCoding"><span class="site-name">ByteCoding</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">ByteCoding</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2019/06/29/kafka-distribution/" title="Kafka -- “发行版”"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-20.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kafka -- “发行版”"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/29/kafka-distribution/" title="Kafka -- “发行版”">Kafka -- “发行版”</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-06-29T06:54:22.000Z" title="Created 2019-06-29 14:54:22">2019-06-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/">Middleware</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/middleware/mq/">MQ</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/middleware/mq/kafka/">Kafka</a></span></div><div class="content">Kafka Connect
Kafka Connect, an open source component of Kafka, is a framework for connecting Kafka with external systems such as databases, key-value stores, search indexes, and file systems.


Using Kafka Connect you can use existing connector implementations for common data sources and sinks to move data into and out of Kafka.





Apache Kafka
Apache Kafka是最正宗的Kafka，被称为社区版Kafka，是其他发行版的基础
优点：开发人数最多，版本迭代速度最快，社区响应度高
缺点：仅仅提供最基础的组件，没有提供任何监控框架或工具，缺失高级功能
应用场景：仅仅需要一个消息引擎系统或者简单的流处理应用场景，同时需要对系统有较大的把控度

Confluent  ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/06/26/java-performance-arraylist-linkedlist/" title="Java性能 -- ArrayList + LinkedList"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java性能 -- ArrayList + LinkedList"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/26/java-performance-arraylist-linkedlist/" title="Java性能 -- ArrayList + LinkedList">Java性能 -- ArrayList + LinkedList</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-06-26T01:23:51.000Z" title="Created 2019-06-26 09:23:51">2019-06-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/java/performance/">Performance</a></span></div><div class="content">List接口




ArrayList、Vector、LinkedList继承了AbstractList，AbstractList实现了List，同时继承了AbstractCollection
ArrayList和Vector使用了数组实现，LinkedList使用了双向链表实现

ArrayList常见问题
ArrayList的对象数组elementData使用了transient（表示不会被序列化）修饰，为什么？
ArrayList在大量新增元素的场景下，效率一定会变慢？
如果要循环遍历ArrayList，采用for循环还是迭代循环？

类签名123public class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt;        implements List&lt;E&gt;, RandomAccess, Cloneable, java.io.Serializable &#123;&#125;

ArrayList实现了List接口，继承了AbstractList抽象类，底层是数组实现，并且实现了自增扩容
ArrayList实现了Cloneabl ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2019/06/25/kafka-distributed-streaming-platform/" title="Kafka -- 分布式流处理平台"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-8.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kafka -- 分布式流处理平台"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/25/kafka-distributed-streaming-platform/" title="Kafka -- 分布式流处理平台">Kafka -- 分布式流处理平台</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-06-24T22:25:00.000Z" title="Created 2019-06-25 06:25:00">2019-06-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/">Middleware</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/middleware/mq/">MQ</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/middleware/mq/kafka/">Kafka</a></span></div><div class="content">历史消息引擎系统
Kafka在刚诞生时是以消息引擎系统的面目出现在大众视野中
Kafka在0.10.0.0之前的定位：分布式、分区化且带备份功能的提交日志（Commit Log）服务
Kafka在设计之初的功能特性
提供一套API实现生产者和消费者
降低网络传输和磁盘存储开销
实现高伸缩架构





分布式流处理平台
Kafka于2011年正式进入Apache基金会孵化并于次年10月成为Apache顶级项目
Kafka社区于0.10.0.0版本正式推出流处理组件Kafka Streams，定位变成了分布式流处理平台
同等级的实时流处理平台：Apache Kafka、Apache Storm、Apache Spark、Apache Flink
目前国内对Kafka是流处理平台的认知还不普及，其核心的流处理组件Kafka Streams更是少有大厂在使用

优势端到端的正确性
Kafka更容易实现端到端的正确性（Correctness）
流处理要替代批处理需要具备两个核心优势
实现正确性（正确性是流处理能够匹敌批处理的基石）
提供能够推导时间的工具


正确性一直都是批处理的强项，而实现正确性的基石是要求框架能 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/06/23/java-performance-regex/" title="Java性能 -- 正则表达式"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-19.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java性能 -- 正则表达式"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/23/java-performance-regex/" title="Java性能 -- 正则表达式">Java性能 -- 正则表达式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-06-23T14:02:47.000Z" title="Created 2019-06-23 22:02:47">2019-06-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/java/performance/">Performance</a></span></div><div class="content">元字符


正则表达式使用一些特定的元字符来检索、匹配和替换符合规则的字符串
元字符：普通字符、标准字符、限定字符（量词）、定位字符（边界字符）



正则表达式引擎
正则表达式是一个用正则符号写出来的公式
程序对正则表达式进行语法分析，建立语法分析树
再根据语法分析树结合正则表达式引擎生成执行程序（状态机），用于字符匹配
正则表达式引擎是一套核心算法，用于建立状态机


小结
正则表达式 &#x3D;&gt; 语法分析树
语法分析树 + 正则表达引擎 &#x3D;&gt; 状态机 &#x3D;&gt; 用于字符匹配




目前实现正则表达式引擎的方式有两种
DFA自动机（Deterministic Finite Automaton，确定有限状态自动机）
NFA自动机（Nondeterministic Finite Automaton，非确定有限状态自动机）


DFA自动机的构造代价远大于NFA自动机，但DFA自动机的执行效率高于NFA自动机
假设一个字符串的长度为n，如果采用DFA自动机作为正则表达式引擎，则匹配的时间复杂度为O(n)
如果采用NFA自动机作为正则表达式引擎，NFA自动机在匹配过程中存在 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2019/06/22/kafka-term/" title="Kafka -- 术语"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-10.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kafka -- 术语"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/22/kafka-term/" title="Kafka -- 术语">Kafka -- 术语</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-06-22T11:35:39.000Z" title="Created 2019-06-22 19:35:39">2019-06-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/">Middleware</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/middleware/mq/">MQ</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/middleware/mq/kafka/">Kafka</a></span></div><div class="content">主题 + 客户端
发布订阅的对象是主题（Topic）
向主题发布消息的客户端应用程序称为生产者（Producer），生产者可以持续不断地向多个主题发送消息
订阅这些主题消息的客户端应用程序称为消费者（Consumer），消费者能够同时订阅多个主题的消息
生产者和消费者统称为客户端



服务端
Kafka的服务端由被称为Broker的服务进程构成，一个Kafka集群由多个Broker组成
Broker负责接收和处理客户端发送过来的请求，以及对消息进行持久化
多个Broker进程能够运行在同一台机器上，但更常见的做法是将不同的Broker分散运行在不同的机器上
这样如果集群中某一台机器宕机了，即使在它上面运行的所有Broker进程都挂掉了
其他机器上的Broker也依然能够对外提供服务，这是Kafka提供高可用的手段之一



备份
实现高可用的另一个手段是备份机制（Replication）
备份：把相同的数据拷贝到多台机器上，这些相同的数据拷贝在Kafka中被称为副本（Replica）
副本的数量是可以配置的，Kafka定义了两类副本：领导者副本（Leader Replica）和追随者副本（Follower  ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/06/18/kafka-messaging-system/" title="Kafka -- 消息引擎系统"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-10.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kafka -- 消息引擎系统"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/18/kafka-messaging-system/" title="Kafka -- 消息引擎系统">Kafka -- 消息引擎系统</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-06-18T00:15:26.000Z" title="Created 2019-06-18 08:15:26">2019-06-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/">Middleware</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/middleware/mq/">MQ</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/middleware/mq/kafka/">Kafka</a></span></div><div class="content">术语
Apache Kafka是一款开源的消息引擎系统
消息队列：给人某种暗示，仿佛Kafka是利用队列实现的
消息中间件：过度强调中间件，而不能清晰地表达实际解决的问题



解决的问题
系统A发送消息给消息引擎系统，系统B从消息引擎系统中读取A发送的消息
消息引擎传输的对象是消息
如何传输消息属于消息引擎设计机制的一部分

消息格式
成熟解决方案：CSV、XML、JSON
序列化框架：Google Protocol Buffer、Facebook Thrift
Kafka：纯二进制的字节序列

消息引擎模型
点对点模型
即消息队列模型，系统A发送的消息只能被系统B接收，其他任何系统不能读取A发送的消息


发布订阅模型
主题（Topic）、发布者（Publisher）、订阅者（Subscriber）
多个发布者可以向相同的主题发送消息，多个订阅者可以接收相同主题的消息


Kafka同时支持上面两种消息引擎模型

JMS
JMS：Java Message Service
JMS也支持上面的两种消息引擎模型
JMS并非传输协议，而是一组API
JMS非常出名，很多主流的消息引擎系统都支持JMS规范
Acti ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2019/06/12/java-concurrent-csp/" title="Java并发 -- CSP模型"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-10.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java并发 -- CSP模型"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/12/java-concurrent-csp/" title="Java并发 -- CSP模型">Java并发 -- CSP模型</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-06-12T06:46:47.000Z" title="Created 2019-06-12 14:46:47">2019-06-12</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/java/concurrent/">Concurrent</a></span></div><div class="content">Go
Go是一门号称从语言层面支持并发的编程语言，支持并发也是Go非常重要的特性之一
Go支持协程，协程可以类比Java中的线程，解决并发问题的难点在于线程（协程）之间的协作
Go提供了两种方案
支持协程之间以共享内存的方式通信，Go提供了管程和原子类来对协程进行同步控制，该方案与Java类似
支持协程之间以消息传递的方式通信，本质上是要避免共享，该方案是基于CSP模型实现的，Go推荐该方案





CSP模型
CSP：Communicating Sequential Processes
Do not communicate by sharing memory; instead, share memory by communicating.

累加器12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455package mainimport (    &quot;fmt&quot;    &quot;time&quot;)func main() &#123;    ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/06/09/java-performance-string/" title="Java性能 -- 字符串"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-8.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java性能 -- 字符串"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/09/java-performance-string/" title="Java性能 -- 字符串">Java性能 -- 字符串</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-06-09T12:41:38.000Z" title="Created 2019-06-09 20:41:38">2019-06-09</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/java/performance/">Performance</a></span></div><div class="content">实现




在Java 6以及之前的版本中，String对象是对char数组进行了封装实现的对象
主要四个成员变量：char数组、偏移量offset、字符数量count、哈希值hash
String对象通过offset和count两个属性来定位char数组，获取字符串
这样可以高效快速地共享数组对象，同时节省内存空间，但也有可能会导致内存泄露




Java 7&#x2F;8，String类中不再有offset和count两个变量
这样String对象占用的内存稍微少了一点
另外，String.substring不再共享char[]，从而解决了使用该方法可能导致的内存泄露问题


从Java 9开始，将char[]修改为byte[]，同时维护了一个新的属性coder，它是一个编码格式的标识
一个char字符占用16位，2个字节，用一个char去存储单字节编码的字符会非常浪费
Java 9的String类为了节约内存空间，使用了占用8位，1个字节的byte数组来存放字符串
coder的作用：使用length()或者indexOf()
coder有两个默认值：0代表LATIN1，1代表UTF16





不 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2019/06/08/java-concurrent-coroutine/" title="Java并发 -- 协程"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-14.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java并发 -- 协程"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/08/java-concurrent-coroutine/" title="Java并发 -- 协程">Java并发 -- 协程</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-06-08T10:11:51.000Z" title="Created 2019-06-08 18:11:51">2019-06-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/java/concurrent/">Concurrent</a></span></div><div class="content">协程
协程可以理解为一种轻量级的线程
从操作系统的角度来看，线程是在内核态中调度的，而协程是在用户态调度的，协程的切换成本更低
协程栈比线程栈要小得多，典型的线程栈在1M左右，而协程栈一般在几K或者几十K左右
因此无论在时间维度还是在空间维度，协程都比线程轻量很多
支持协程的语言：Go、Python、Lua、Kotlin
Java OpenSDK的Loom项目的目标是为了支持协程





Go中的协程12345678910func hello(msg string) &#123;    fmt.Println(&quot;Hello &quot; + msg)&#125;func TestCoroutine(t *testing.T) &#123;    // 在新的协程中执行hello方法    go hello(&quot;Go&quot;)    // 等待100毫秒让协程执行结束    time.Sleep(100 * time.Millisecond)&#125;

Java中的线程是一个重量级对象，因此无法很好地实现Thread-Per-Message模式，而协程可以
Thread-Per-Me ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2019/06/06/java-concurrent-stm/" title="Java并发 -- 软件事务内存"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-17.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Java并发 -- 软件事务内存"></a></div><div class="recent-post-info"><a class="article-title" href="/2019/06/06/java-concurrent-stm/" title="Java并发 -- 软件事务内存">Java并发 -- 软件事务内存</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2019-06-06T15:38:37.000Z" title="Created 2019-06-06 23:38:37">2019-06-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/java/concurrent/">Concurrent</a></span></div><div class="content">STM
STM：Software Transactional Memory，软件事务内存，借鉴于数据库的事务管理
传统的数据库事务支持ACID，即原子性（A）、一致性（C）、隔离性（I）和持久性（D）
STM不支持持久化，即只支持ACI



数据库事务数据库保证在并发情况下不会发生死锁，而且还能保证ACID
1234567891011121314Connection conn = null;try&#123;    // 获取数据库连接    conn = DriverManager.getConnection();    // 设置手动提交事务    conn.setAutoCommit(false);    // 执行转账SQL    ...    // 提交事务    conn.commit();&#125; catch (Exception e) &#123;    // 出现异常回滚事务    conn.rollback();&#125;

synchronized转账12345678910111213141516@AllArgsConstructorpublic class UnsafeAcco ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/45/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/45/#content-inner">45</a><span class="page-number current">46</span><a class="page-number" href="/page/47/#content-inner">47</a><span class="space">&hellip;</span><a class="page-number" href="/page/63/#content-inner">63</a><a class="extend next" rel="next" href="/page/47/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">zhongmingmao</div><div class="author-info__description">Focus on Infrastructure.</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">622</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">189</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">80</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Things are always unexpected!</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/01/04/cloud-native-observability-opentelemetry-go/" title="Observability - OpenTelemetry Go"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://observability-1253868755.cos.ap-guangzhou.myqcloud.com/o11y-otel-go.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Observability - OpenTelemetry Go"/></a><div class="content"><a class="title" href="/2025/01/04/cloud-native-observability-opentelemetry-go/" title="Observability - OpenTelemetry Go">Observability - OpenTelemetry Go</a><time datetime="2025-01-03T16:06:25.000Z" title="Created 2025-01-04 00:06:25">2025-01-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/03/cloud-native-observability-opentelemetry-js/" title="Observability - OpenTelemetry Node.js"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://observability-1253868755.cos.ap-guangzhou.myqcloud.com/Nodejs-Instrumentation-OpenTelemetry.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Observability - OpenTelemetry Node.js"/></a><div class="content"><a class="title" href="/2025/01/03/cloud-native-observability-opentelemetry-js/" title="Observability - OpenTelemetry Node.js">Observability - OpenTelemetry Node.js</a><time datetime="2025-01-02T16:06:25.000Z" title="Created 2025-01-03 00:06:25">2025-01-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/02/cloud-native-observability-opentelemetry-doc-v2/" title="Observability - OpenTelemetry Doc V2"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://observability-1253868755.cos.ap-guangzhou.myqcloud.com/otel-beelines.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Observability - OpenTelemetry Doc V2"/></a><div class="content"><a class="title" href="/2025/01/02/cloud-native-observability-opentelemetry-doc-v2/" title="Observability - OpenTelemetry Doc V2">Observability - OpenTelemetry Doc V2</a><time datetime="2025-01-01T16:06:25.000Z" title="Created 2025-01-02 00:06:25">2025-01-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/01/cloud-native-observability-opentelemetry-doc-v1/" title="Observability - OpenTelemetry Doc V1"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://observability-1253868755.cos.ap-guangzhou.myqcloud.com/opentelemetry.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Observability - OpenTelemetry Doc V1"/></a><div class="content"><a class="title" href="/2025/01/01/cloud-native-observability-opentelemetry-doc-v1/" title="Observability - OpenTelemetry Doc V1">Observability - OpenTelemetry Doc V1</a><time datetime="2024-12-31T16:06:25.000Z" title="Created 2025-01-01 00:06:25">2025-01-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/10/18/ebpf-principle/" title="eBPF - Principle"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ebpf-1253868755.cos.ap-guangzhou.myqcloud.com/ebpf-principle.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="eBPF - Principle"/></a><div class="content"><a class="title" href="/2024/10/18/ebpf-principle/" title="eBPF - Principle">eBPF - Principle</a><time datetime="2024-10-17T16:06:25.000Z" title="Created 2024-10-18 00:06:25">2024-10-18</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            <a class="card-more-btn" href="/categories/" title="More">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/"><span class="card-category-list-name">AI</span><span class="card-category-list-count">34</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/llm/"><span class="card-category-list-name">LLM</span><span class="card-category-list-count">16</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/rag/"><span class="card-category-list-name">RAG</span><span class="card-category-list-count">18</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/big-data/"><span class="card-category-list-name">Big Data</span><span class="card-category-list-count">26</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/big-data/beam/"><span class="card-category-list-name">Beam</span><span class="card-category-list-count">13</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/big-data/spark/"><span class="card-category-list-name">Spark</span><span class="card-category-list-count">6</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/career/"><span class="card-category-list-name">Career</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/"><span class="card-category-list-name">Cloud Computing</span><span class="card-category-list-count">10</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/big-data/" style="font-size: 1.32em; color: rgb(143, 173, 4)">Big Data</a><a href="/tags/beam/" style="font-size: 1.25em; color: rgb(116, 171, 9)">Beam</a><a href="/tags/spark/" style="font-size: 1.19em; color: rgb(129, 11, 182)">Spark</a><a href="/tags/flink/" style="font-size: 1.15em; color: rgb(48, 102, 165)">Flink</a><a href="/tags/mapreduce/" style="font-size: 1.15em; color: rgb(49, 8, 89)">MapReduce</a><a href="/tags/rdd/" style="font-size: 1.15em; color: rgb(15, 72, 64)">RDD</a><a href="/tags/cloud-computing/" style="font-size: 1.23em; color: rgb(105, 34, 110)">Cloud Computing</a><a href="/tags/iaas/" style="font-size: 1.19em; color: rgb(187, 152, 195)">IaaS</a><a href="/tags/paas/" style="font-size: 1.19em; color: rgb(155, 192, 44)">PaaS</a><a href="/tags/cloud-native/" style="font-size: 1.45em; color: rgb(42, 70, 197)">Cloud Native</a><a href="/tags/kubernetes/" style="font-size: 1.43em; color: rgb(51, 130, 9)">Kubernetes</a><a href="/tags/devops/" style="font-size: 1.18em; color: rgb(113, 147, 57)">DevOps</a><a href="/tags/container/" style="font-size: 1.26em; color: rgb(68, 0, 37)">Container</a><a href="/tags/docker/" style="font-size: 1.28em; color: rgb(5, 15, 124)">Docker</a><a href="/tags/go-core/" style="font-size: 1.17em; color: rgb(17, 165, 177)">Go Core</a><a href="/tags/go/" style="font-size: 1.42em; color: rgb(130, 173, 14)">Go</a><a href="/tags/cloud-native-foundation/" style="font-size: 1.33em; color: rgb(42, 37, 156)">Cloud Native Foundation</a><a href="/tags/go-engineering/" style="font-size: 1.34em; color: rgb(50, 112, 57)">Go Engineering</a><a href="/tags/swagger/" style="font-size: 1.15em; color: rgb(63, 22, 127)">Swagger</a><a href="/tags/helm/" style="font-size: 1.15em; color: rgb(180, 153, 176)">Helm</a><a href="/tags/runc/" style="font-size: 1.15em; color: rgb(91, 26, 12)">runc</a><a href="/tags/kustomize/" style="font-size: 1.15em; color: rgb(187, 24, 128)">Kustomize</a><a href="/tags/oci/" style="font-size: 1.15em; color: rgb(15, 89, 28)">OCI</a><a href="/tags/buildkit/" style="font-size: 1.15em; color: rgb(103, 119, 74)">BuildKit</a><a href="/tags/crane/" style="font-size: 1.15em; color: rgb(15, 200, 85)">crane</a><a href="/tags/oci-image/" style="font-size: 1.15em; color: rgb(180, 1, 175)">OCI Image</a><a href="/tags/oci-runtime/" style="font-size: 1.15em; color: rgb(73, 142, 77)">OCI Runtime</a><a href="/tags/linux-namespace/" style="font-size: 1.15em; color: rgb(171, 13, 84)">Linux Namespace</a><a href="/tags/linux-cgroup/" style="font-size: 1.15em; color: rgb(84, 43, 96)">Linux CGroup</a><a href="/tags/k8s-manifest/" style="font-size: 1.15em; color: rgb(10, 38, 114)">K8S Manifest</a><a href="/tags/rpc/" style="font-size: 1.16em; color: rgb(141, 162, 195)">RPC</a><a href="/tags/grpc/" style="font-size: 1.16em; color: rgb(182, 109, 30)">gRPC</a><a href="/tags/makefile/" style="font-size: 1.15em; color: rgb(162, 113, 97)">Makefile</a><a href="/tags/ci/" style="font-size: 1.15em; color: rgb(112, 133, 10)">CI</a><a href="/tags/network/" style="font-size: 1.16em; color: rgb(147, 56, 28)">Network</a><a href="/tags/linux/" style="font-size: 1.27em; color: rgb(3, 132, 30)">Linux</a><a href="/tags/dockerfile/" style="font-size: 1.17em; color: rgb(2, 163, 193)">Dockerfile</a><a href="/tags/infrastructure/" style="font-size: 1.31em; color: rgb(200, 118, 23)">Infrastructure</a><a href="/tags/architecture/" style="font-size: 1.32em; color: rgb(178, 117, 123)">Architecture</a><a href="/tags/iac/" style="font-size: 1.15em; color: rgb(138, 76, 145)">IaC</a><a href="/tags/terraform/" style="font-size: 1.15em; color: rgb(59, 139, 23)">Terraform</a><a href="/tags/crossplane/" style="font-size: 1.15em; color: rgb(136, 41, 64)">Crossplane</a><a href="/tags/pulumi/" style="font-size: 1.15em; color: rgb(38, 98, 94)">Pulumi</a><a href="/tags/argo-cd/" style="font-size: 1.15em; color: rgb(57, 122, 195)">Argo CD</a><a href="/tags/vpc/" style="font-size: 1.15em; color: rgb(134, 142, 80)">VPC</a><a href="/tags/service-mesh/" style="font-size: 1.18em; color: rgb(162, 51, 26)">Service Mesh</a><a href="/tags/istio/" style="font-size: 1.17em; color: rgb(165, 152, 16)">Istio</a><a href="/tags/etcd/" style="font-size: 1.15em; color: rgb(46, 137, 77)">etcd</a><a href="/tags/raft/" style="font-size: 1.15em; color: rgb(103, 121, 29)">raft</a><a href="/tags/microservices/" style="font-size: 1.27em; color: rgb(83, 147, 68)">Microservices</a><a href="/tags/spring-cloud/" style="font-size: 1.2em; color: rgb(56, 175, 74)">Spring Cloud</a><a href="/tags/spring/" style="font-size: 1.24em; color: rgb(137, 92, 74)">Spring</a><a href="/tags/java/" style="font-size: 1.44em; color: rgb(171, 9, 132)">Java</a><a href="/tags/service-governance/" style="font-size: 1.17em; color: rgb(18, 161, 36)">Service Governance</a><a href="/tags/opa/" style="font-size: 1.2em; color: rgb(138, 189, 57)">OPA</a><a href="/tags/alibaba/" style="font-size: 1.22em; color: rgb(190, 176, 32)">Alibaba</a><a href="/tags/observability/" style="font-size: 1.21em; color: rgb(72, 191, 5)">Observability</a><a href="/tags/api-gateway/" style="font-size: 1.15em; color: rgb(125, 179, 25)">API Gateway</a><a href="/tags/apisix/" style="font-size: 1.15em; color: rgb(55, 48, 160)">APISIX</a><a href="/tags/opentelemetry/" style="font-size: 1.18em; color: rgb(144, 163, 93)">OpenTelemetry</a><a href="/tags/security/" style="font-size: 1.26em; color: rgb(30, 61, 24)">Security</a><a href="/tags/compliance/" style="font-size: 1.17em; color: rgb(174, 36, 10)">Compliance</a><a href="/tags/serverless/" style="font-size: 1.22em; color: rgb(59, 92, 32)">Serverless</a><a href="/tags/faas/" style="font-size: 1.22em; color: rgb(2, 138, 196)">FaaS</a><a href="/tags/computer-basics/" style="font-size: 1.35em; color: rgb(171, 16, 189)">Computer Basics</a><a href="/tags/computer-organization/" style="font-size: 1.35em; color: rgb(105, 184, 109)">Computer Organization</a><a href="/tags/knowledge-map/" style="font-size: 1.15em; color: rgb(174, 183, 181)">Knowledge Map</a><a href="/tags/ebpf/" style="font-size: 1.16em; color: rgb(75, 162, 161)">eBPF</a><a href="/tags/tool/" style="font-size: 1.23em; color: rgb(70, 161, 176)">Tool</a><a href="/tags/git/" style="font-size: 1.23em; color: rgb(0, 4, 68)">Git</a><a href="/tags/concurrency/" style="font-size: 1.15em; color: rgb(137, 11, 142)">Concurrency</a><a href="/tags/cloud/" style="font-size: 1.36em; color: rgb(127, 100, 65)">Cloud</a><a href="/tags/native/" style="font-size: 1.36em; color: rgb(163, 67, 199)">Native</a><a href="/tags/authentication/" style="font-size: 1.17em; color: rgb(126, 79, 5)">Authentication</a><a href="/tags/ldap/" style="font-size: 1.15em; color: rgb(49, 36, 7)">LDAP</a><a href="/tags/jwt/" style="font-size: 1.15em; color: rgb(185, 172, 138)">JWT</a><a href="/tags/oauth-2-0/" style="font-size: 1.2em; color: rgb(1, 22, 192)">OAuth 2.0</a><a href="/tags/storage/" style="font-size: 1.41em; color: rgb(8, 28, 101)">Storage</a><a href="/tags/mysql/" style="font-size: 1.41em; color: rgb(164, 121, 13)">MySQL</a><a href="/tags/innodb/" style="font-size: 1.19em; color: rgb(94, 53, 106)">InnoDB</a><a href="/tags/java-concurrent/" style="font-size: 1.38em; color: rgb(24, 198, 160)">Java Concurrent</a><a href="/tags/actor/" style="font-size: 1.15em; color: rgb(10, 36, 2)">Actor</a><a href="/tags/akka/" style="font-size: 1.15em; color: rgb(1, 108, 109)">Akka</a><a href="/tags/coroutine/" style="font-size: 1.16em; color: rgb(32, 141, 73)">Coroutine</a><a href="/tags/csp/" style="font-size: 1.15em; color: rgb(81, 18, 192)">CSP</a><a href="/tags/disruptor/" style="font-size: 1.15em; color: rgb(159, 20, 77)">Disruptor</a><a href="/tags/netty/" style="font-size: 1.15em; color: rgb(168, 8, 78)">Netty</a><a href="/tags/stm/" style="font-size: 1.15em; color: rgb(23, 105, 99)">STM</a><a href="/tags/mvcc/" style="font-size: 1.15em; color: rgb(89, 80, 59)">MVCC</a><a href="/tags/java-core/" style="font-size: 1.2em; color: rgb(65, 183, 153)">Java Core</a><a href="/tags/java-feature/" style="font-size: 1.2em; color: rgb(97, 197, 156)">Java Feature</a><a href="/tags/java-performance/" style="font-size: 1.34em; color: rgb(96, 135, 24)">Java Performance</a><a href="/tags/cas/" style="font-size: 1.15em; color: rgb(31, 104, 129)">CAS</a><a href="/tags/hashtable/" style="font-size: 1.15em; color: rgb(104, 115, 178)">HashTable</a><a href="/tags/concurrenthashmap/" style="font-size: 1.15em; color: rgb(53, 77, 171)">ConcurrentHashMap</a><a href="/tags/concurrentskiplistmap/" style="font-size: 1.15em; color: rgb(131, 120, 88)">ConcurrentSkipListMap</a><a href="/tags/consistency/" style="font-size: 1.15em; color: rgb(93, 175, 22)">Consistency</a><a href="/tags/jvm/" style="font-size: 1.37em; color: rgb(158, 96, 112)">JVM</a><a href="/tags/gc/" style="font-size: 1.16em; color: rgb(155, 66, 146)">GC</a><a href="/tags/design-pattern/" style="font-size: 1.18em; color: rgb(126, 81, 44)">Design Pattern</a><a href="/tags/hashmap/" style="font-size: 1.15em; color: rgb(200, 30, 109)">HashMap</a><a href="/tags/io/" style="font-size: 1.15em; color: rgb(48, 176, 89)">IO</a><a href="/tags/nio/" style="font-size: 1.16em; color: rgb(168, 197, 77)">NIO</a><a href="/tags/aio/" style="font-size: 1.16em; color: rgb(16, 43, 92)">AIO</a><a href="/tags/epoll/" style="font-size: 1.16em; color: rgb(171, 55, 19)">Epoll</a><a href="/tags/jit/" style="font-size: 1.15em; color: rgb(71, 86, 79)">JIT</a><a href="/tags/synchronized/" style="font-size: 1.16em; color: rgb(191, 53, 22)">synchronized</a><a href="/tags/lock/" style="font-size: 1.15em; color: rgb(101, 131, 72)">Lock</a><a href="/tags/reentrantreadwritelock/" style="font-size: 1.15em; color: rgb(2, 199, 22)">ReentrantReadWriteLock</a><a href="/tags/stampedlock/" style="font-size: 1.15em; color: rgb(171, 157, 107)">StampedLock</a><a href="/tags/bio/" style="font-size: 1.15em; color: rgb(7, 169, 137)">BIO</a><a href="/tags/tomcat/" style="font-size: 1.15em; color: rgb(42, 4, 29)">Tomcat</a><a href="/tags/select/" style="font-size: 1.15em; color: rgb(138, 3, 112)">Select</a><a href="/tags/poll/" style="font-size: 1.15em; color: rgb(133, 70, 154)">Poll</a><a href="/tags/zero-copy/" style="font-size: 1.15em; color: rgb(162, 100, 62)">Zero Copy</a><a href="/tags/mmap/" style="font-size: 1.15em; color: rgb(32, 113, 62)">mmap</a><a href="/tags/reactor/" style="font-size: 1.15em; color: rgb(92, 41, 161)">Reactor</a><a href="/tags/serialization/" style="font-size: 1.15em; color: rgb(53, 91, 173)">Serialization</a><a href="/tags/protobuf/" style="font-size: 1.15em; color: rgb(184, 169, 105)">ProtoBuf</a><a href="/tags/java-stream/" style="font-size: 1.15em; color: rgb(151, 48, 127)">Java Stream</a><a href="/tags/mark-word/" style="font-size: 1.15em; color: rgb(125, 113, 12)">Mark Word</a><a href="/tags/monitor/" style="font-size: 1.15em; color: rgb(110, 186, 150)">Monitor</a><a href="/tags/thread-pool/" style="font-size: 1.15em; color: rgb(159, 193, 174)">Thread Pool</a><a href="/tags/lambda/" style="font-size: 1.15em; color: rgb(129, 199, 85)">Lambda</a><a href="/tags/context-switch/" style="font-size: 1.15em; color: rgb(4, 33, 164)">Context Switch</a><a href="/tags/bytecode-manipulation/" style="font-size: 1.17em; color: rgb(100, 194, 53)">Bytecode Manipulation</a><a href="/tags/asm/" style="font-size: 1.15em; color: rgb(158, 170, 43)">ASM</a><a href="/tags/jol/" style="font-size: 1.17em; color: rgb(114, 86, 79)">JOL</a><a href="/tags/middleware/" style="font-size: 1.39em; color: rgb(171, 67, 22)">Middleware</a><a href="/tags/mq/" style="font-size: 1.4em; color: rgb(22, 156, 124)">MQ</a><a href="/tags/kafka/" style="font-size: 1.39em; color: rgb(111, 76, 138)">Kafka</a><a href="/tags/stream/" style="font-size: 1.39em; color: rgb(180, 16, 49)">Stream</a><a href="/tags/rebalance/" style="font-size: 1.17em; color: rgb(116, 127, 114)">Rebalance</a><a href="/tags/avro/" style="font-size: 1.18em; color: rgb(163, 168, 11)">Avro</a><a href="/tags/compression/" style="font-size: 1.15em; color: rgb(12, 68, 14)">Compression</a><a href="/tags/consumer-group/" style="font-size: 1.15em; color: rgb(22, 200, 15)">Consumer Group</a><a href="/tags/tcp/" style="font-size: 1.16em; color: rgb(155, 44, 62)">TCP</a><a href="/tags/producer/" style="font-size: 1.15em; color: rgb(133, 36, 104)">Producer</a><a href="/tags/load-balance/" style="font-size: 1.15em; color: rgb(162, 52, 79)">Load Balance</a><a href="/tags/idempotence/" style="font-size: 1.15em; color: rgb(82, 126, 144)">Idempotence</a><a href="/tags/distributed-architecture/" style="font-size: 1.15em; color: rgb(158, 89, 108)">Distributed Architecture</a><a href="/tags/distributed-design-pattern/" style="font-size: 1.17em; color: rgb(149, 131, 100)">Distributed Design Pattern</a><a href="/tags/career/" style="font-size: 1.15em; color: rgb(169, 60, 148)">Career</a><a href="/tags/linux-performance/" style="font-size: 1.17em; color: rgb(112, 118, 14)">Linux Performance</a><a href="/tags/linux-practice/" style="font-size: 1.25em; color: rgb(175, 143, 88)">Linux Practice</a><a href="/tags/ext4/" style="font-size: 1.15em; color: rgb(57, 95, 164)">ext4</a><a href="/tags/file-system/" style="font-size: 1.15em; color: rgb(126, 15, 16)">File System</a><a href="/tags/ai/" style="font-size: 1.34em; color: rgb(86, 25, 56)">AI</a><a href="/tags/llm/" style="font-size: 1.34em; color: rgb(92, 189, 3)">LLM</a><a href="/tags/nlp/" style="font-size: 1.26em; color: rgb(58, 52, 72)">NLP</a><a href="/tags/python/" style="font-size: 1.3em; color: rgb(122, 141, 51)">Python</a><a href="/tags/fastapi/" style="font-size: 1.15em; color: rgb(180, 104, 8)">FastAPI</a><a href="/tags/uvicorn/" style="font-size: 1.15em; color: rgb(19, 67, 8)">Uvicorn</a><a href="/tags/chatgpt/" style="font-size: 1.15em; color: rgb(61, 125, 41)">ChatGPT</a><a href="/tags/machine-learning/" style="font-size: 1.17em; color: rgb(78, 124, 73)">Machine Learning</a><a href="/tags/svm/" style="font-size: 1.15em; color: rgb(64, 170, 9)">SVM</a><a href="/tags/transformer/" style="font-size: 1.16em; color: rgb(119, 184, 106)">Transformer</a><a href="/tags/rnn/" style="font-size: 1.15em; color: rgb(49, 50, 163)">RNN</a><a href="/tags/seq2seq/" style="font-size: 1.16em; color: rgb(10, 9, 133)">Seq2Seq</a><a href="/tags/word2vec/" style="font-size: 1.15em; color: rgb(97, 2, 92)">Word2Vec</a><a href="/tags/langchain/" style="font-size: 1.19em; color: rgb(73, 27, 53)">LangChain</a><a href="/tags/ai-agent/" style="font-size: 1.18em; color: rgb(180, 165, 61)">AI Agent</a><a href="/tags/rag/" style="font-size: 1.29em; color: rgb(78, 158, 174)">RAG</a><a href="/tags/attention/" style="font-size: 1.15em; color: rgb(103, 83, 69)">Attention</a><a href="/tags/lora/" style="font-size: 1.15em; color: rgb(91, 92, 145)">LoRA</a><a href="/tags/peft/" style="font-size: 1.15em; color: rgb(135, 101, 30)">PEFT</a><a href="/tags/faiss/" style="font-size: 1.15em; color: rgb(118, 124, 103)">Faiss</a><a href="/tags/math/" style="font-size: 1.16em; color: rgb(90, 76, 101)">Math</a><a href="/tags/microservices-governance/" style="font-size: 1.22em; color: rgb(58, 47, 160)">Microservices Governance</a><a href="/tags/config/" style="font-size: 1.17em; color: rgb(75, 177, 0)">Config</a><a href="/tags/configuration-center/" style="font-size: 1.17em; color: rgb(165, 181, 75)">Configuration Center</a><a href="/tags/apollo/" style="font-size: 1.17em; color: rgb(178, 151, 95)">Apollo</a><a href="/tags/oauth2/" style="font-size: 1.19em; color: rgb(74, 108, 127)">Oauth2</a><a href="/tags/spring-security/" style="font-size: 1.19em; color: rgb(163, 38, 66)">Spring Security</a><a href="/tags/spring-security-oauth2/" style="font-size: 1.19em; color: rgb(200, 39, 136)">Spring Security OAuth2</a><a href="/tags/performance-tuning/" style="font-size: 1.15em; color: rgb(25, 150, 172)">Performance Tuning</a><a href="/tags/chatops/" style="font-size: 1.15em; color: rgb(126, 198, 24)">ChatOps</a><a href="/tags/chatbot/" style="font-size: 1.15em; color: rgb(138, 110, 133)">Chatbot</a><a href="/tags/graphrag/" style="font-size: 1.15em; color: rgb(26, 169, 124)">GraphRAG</a><a href="/tags/rerank/" style="font-size: 1.15em; color: rgb(120, 15, 171)">Rerank</a><a href="/tags/prompting/" style="font-size: 1.15em; color: rgb(136, 44, 41)">Prompting</a><a href="/tags/kg-rag/" style="font-size: 1.15em; color: rgb(123, 56, 66)">KG-RAG</a><a href="/tags/vector/" style="font-size: 1.16em; color: rgb(162, 35, 152)">Vector</a><a href="/tags/vim/" style="font-size: 1.19em; color: rgb(13, 32, 11)">Vim</a><a href="/tags/web/" style="font-size: 1.2em; color: rgb(144, 81, 90)">Web</a><a href="/tags/javascript/" style="font-size: 1.19em; color: rgb(102, 73, 196)">JavaScript</a><a href="/tags/zookeeper/" style="font-size: 1.16em; color: rgb(11, 86, 32)">Zookeeper</a><a href="/tags/distributed-lock/" style="font-size: 1.15em; color: rgb(53, 129, 197)">Distributed Lock</a><a href="/tags/zab/" style="font-size: 1.15em; color: rgb(184, 190, 18)">ZAB</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span><a class="card-more-btn" href="/archives/" title="More">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/01/"><span class="card-archive-list-date">January 2025</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/10/"><span class="card-archive-list-date">October 2024</span><span class="card-archive-list-count">18</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/09/"><span class="card-archive-list-date">September 2024</span><span class="card-archive-list-count">30</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">August 2024</span><span class="card-archive-list-count">31</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">July 2024</span><span class="card-archive-list-count">10</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">June 2024</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">May 2023</span><span class="card-archive-list-count">11</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">April 2023</span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">622</div></div><div class="webinfo-item"><div class="item-name">Run time :</div><div class="item-count" id="runtimeshow" data-publishDate="2015-06-30T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Total Count :</div><div class="item-count">1191.8k</div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2025-07-27T08:38:49.677Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.pixabay.com/photo/2018/08/27/15/17/fishing-3635221_1280.png')"><div id="footer-wrap"><div class="copyright">&copy;2015 - 2025 By zhongmingmao</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Life is like a box of chocolates. You can't know what you'll eat until you open it.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["Stay hungry, stay foolish."])
  } else {
    document.getElementById("subtitle").innerHTML = 'Stay hungry, stay foolish.'
  }
}
typedJSFn.run(subtitleType)</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></body></html>