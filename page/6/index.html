<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>ByteCoding</title><meta name="author" content="zhongmingmao"><meta name="copyright" content="zhongmingmao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="Focus on Infrastructure">
<meta property="og:type" content="website">
<meta property="og:title" content="ByteCoding">
<meta property="og:url" content="https://blog.zhongmingmao.top/page/6/index.html">
<meta property="og:site_name" content="ByteCoding">
<meta property="og:description" content="Focus on Infrastructure">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png">
<meta property="article:author" content="zhongmingmao">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="shortcut icon" href="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="canonical" href="https://blog.zhongmingmao.top/page/6/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":512,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":256},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":32,"languages":{"author":"Author: zhongmingmao","link":"Link: ","source":"Source: ByteCoding","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ByteCoding',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-04-28 00:49:04'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ByteCoding" type="application/atom+xml">
</head><body><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">392</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">117</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">59</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://cdn.pixabay.com/photo/2022/10/16/13/53/early-morning-7525151_1280.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="ByteCoding"><span class="site-name">ByteCoding</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">ByteCoding</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2022/05/01/cloud-native-foundation-go-engineering-foundation-error-package/" title="Go Engineering - Foundation - Error - Package"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-11.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Foundation - Error - Package"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/01/cloud-native-foundation-go-engineering-foundation-error-package/" title="Go Engineering - Foundation - Error - Package">Go Engineering - Foundation - Error - Package</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-04-30T17:06:25.000Z" title="Created 2022-05-01 01:06:25">2022-05-01</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/go-engineering/">Go Engineering</a></span></div><div class="content">功能需求
支持错误堆栈
支持不同的打印格式，例如 %+v、%v、%s 等
支持 Wrap&#x2F;Unwrap 功能：在已有 error 的基础上，追加一些新的信息
errors.Wrap(err, &quot;open file failed&quot;)
调用 Wrap 时，会生成一个错误堆栈节点


支持 Is 方法：判断某个 error 是否为指定的 error
Go 1.13 之前，并没有 wrapping error
if err == os.ErrNotExist &#123;&#125;


有 wrapping error 后，直接用 == 判断会有问题，因为可能是 wrapping error
func Is(err, target error) bool
err 和 target 是同一个
当 err 是 wrapping error 时，target 包含在这个嵌套 error 链中






支持 As 函数
Go 1.13 之前，并没有 wrapping error，可以使用 type assertion 或者 type switch
if perr, ok := err.(* ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/05/01/cloud-native-foundation-go-engineering-foundation-error-code/" title="Go Engineering - Foundation - Error - Code"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-12.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Foundation - Error - Code"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/01/cloud-native-foundation-go-engineering-foundation-error-code/" title="Go Engineering - Foundation - Error - Code">Go Engineering - Foundation - Error - Code</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-04-30T16:06:25.000Z" title="Created 2022-05-01 00:06:25">2022-05-01</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/go-engineering/">Go Engineering</a></span></div><div class="content">设计方式
场景：用户账号没有找到

200
HTTP Code 通常代表的是 HTTP Transport 层的状态信息；但对性能有一定的影响，因为需要解析 HTTP Body

12345678&#123;  &quot;error&quot;: &#123;    &quot;message&quot;: &quot;Syntax error \&quot;Field picture specified more than once. This is only possible before version 2.1\&quot; at character 23: id,name,picture,picture&quot;,    &quot;type&quot;: &quot;OAuthException&quot;,    &quot;code&quot;: 2500,    &quot;fbtrace_id&quot;: &quot;xxxxxxxxxxx&quot;  &#125;&#125;



4xx + 简单信息
可以让客户端快速感知请求失败，但提供的信息过于简单，不能准确地定位问题

12 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/04/30/cloud-native-foundation-go-engineering-foundation-api-doc/" title="Go Engineering - Foundation - API Doc"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-14.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Foundation - API Doc"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/30/cloud-native-foundation-go-engineering-foundation-api-doc/" title="Go Engineering - Foundation - API Doc">Go Engineering - Foundation - API Doc</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-04-29T18:06:25.000Z" title="Created 2022-04-30 02:06:25">2022-04-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/go-engineering/">Go Engineering</a></span></div><div class="content">Swagger
Swagger 是一套围绕 OpenAPI 规范构建的开源工具，可以设计、构建、编写和使用 REST API
Swagger 工具
Swagger Editor
基于浏览器的编辑器，可以在其中编写 OpenAPI 规范，并实时预览 API 文档


Swagger UI
将 OpenAPI 规范呈现为交互式的 API 文档，并可以在浏览器中尝试 API 调用


Swagger Codegen
根据 OpenAPI 规范，生成服务器存根和客户端代码库







Swagger vs OpenAPI
OpenAPI 是一个 API 规范，前身也叫 Swagger 规范
通过定义一种用来描述 API 格式或者 API 定义的语言，来规范 RESTful 服务开发过程
目前最新的 OpenAPI 规范是 OpenAPI 3.0 （即 Swagger 2.0）


OpenAPI 规范定义了一个 API 必须包含的基本信息
描述、路径和操作、输入输出参数、验证方法等


OpenAPI 是一个 API 规范，而 Swagger 是实现规范的工具

go-swagger特性
基于代码注释自动生成 S ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/04/30/cloud-native-foundation-go-engineering-foundation-linting/" title="Go Engineering - Foundation - Linting"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-1.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Foundation - Linting"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/30/cloud-native-foundation-go-engineering-foundation-linting/" title="Go Engineering - Foundation - Linting">Go Engineering - Foundation - Linting</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-04-29T17:06:25.000Z" title="Created 2022-04-30 01:06:25">2022-04-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/go-engineering/">Go Engineering</a></span></div><div class="content">golangci-lint 优点
速度快
基于 gometalinter 开发，平均速度比 gometalinter 快 5 倍
并行检查代码 + 复用 go build 缓存 + 缓存分析结果


可配置
支持 YAML 格式的配置文件


IDE 集成
VS Code + Goland


Linter 聚合器
集成了很多 Linter，无需单独安装，并且支持自定义 Linter


最小误报数
调整了所集成的 Linter 的默认设置，大幅减少误报


良好的输出
检查出问题的源码文件、行号和错误行内容
不符合检查规则的原因
报错的 Linter


更迭速度快
不断有新的 Linter 被集成进来
使用者：Google、Facebook、Istio、Red Hat OpenShift 等






golangci-lint 命令
cache123456789$ golangci-lint cache statusDir: /Users/zhongmingmao/Library/Caches/golangci-lintSize: 1.9MiB$ golangci-lint cache clean$  ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/04/30/cloud-native-foundation-go-engineering-foundation-rd/" title="Go Engineering - Foundation - RD"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-22.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Foundation - RD"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/30/cloud-native-foundation-go-engineering-foundation-rd/" title="Go Engineering - Foundation - RD">Go Engineering - Foundation - RD</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-04-29T16:06:25.000Z" title="Created 2022-04-30 00:06:25">2022-04-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/go-engineering/">Go Engineering</a></span></div><div class="content">功能需求
为 iamctl 新增 helloworld 命令，该命令向终端打印 hello world

开发阶段代码开发
选择 Git Flow：适用于大型非开源项目




创建分支
基于 develop 分支，新建一个功能分支 feature&#x2F;helloworld

1$ git checkout -b feature/helloworld develop

branch 名要符合 Git Flow 的分支命名规范，会通过 pre-commit 的 githook 来确保分支名符合规范
123$ md5 ./githooks/pre-commit ./.git/hooks/pre-commitMD5 (./githooks/pre-commit) = 3324d20a738461f3b6347f9ce7dae6b6MD5 (./.git/hooks/pre-commit) = 3324d20a738461f3b6347f9ce7dae6b6

./.git/hooks/pre-commit123456789101112131415161718#!/usr/bin/env bashLC_ALL= ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/04/23/cloud-native-foundation-go-engineering-foundation-makefile/" title="Go Engineering - Foundation - Makefile"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-20.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Foundation - Makefile"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/23/cloud-native-foundation-go-engineering-foundation-makefile/" title="Go Engineering - Foundation - Makefile">Go Engineering - Foundation - Makefile</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-04-22T16:06:25.000Z" title="Created 2022-04-23 00:06:25">2022-04-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/go-engineering/">Go Engineering</a></span></div><div class="content">使用
先编写 Makefile 文件，指定整个项目的编译规则，然后通过 Linux make 命令来解析该 Makefile 文件，实现自动化
默认情况下，make 命令会在当前目录下，按照 GNUmakefile、makefile、Makefile（推荐）的顺序查找
make -f golang.mk 或者 make --file golang.mk



规则
规则一般由目标、依赖和命令组成，用来指定源文件编译的先后顺序
Makefile 规则可以自动判断是否需要重新编译某个目标，从而确保目标仅在需要时编译

规则语法
主要包括：target、prerequisites 和 command

1234target ...: prerequisites ...    command      ...      ...




target
可以是一个 object file，也可以是一个执行文件，还可以是一个标签
可以使用通配符，当有多个目标时，使用空格分隔


prerequisites：代表生成该 target 所需要的依赖项，当有多个依赖项时，使用空格分隔
command：代表该 target 要执行 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/04/16/cloud-native-foundation-go-engineering-foundation-api-rpc/" title="Go Engineering - Foundation - API - RPC"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-19.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Foundation - API - RPC"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/16/cloud-native-foundation-go-engineering-foundation-api-rpc/" title="Go Engineering - Foundation - API - RPC">Go Engineering - Foundation - API - RPC</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-04-15T19:06:25.000Z" title="Created 2022-04-16 03:06:25">2022-04-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/go-engineering/">Go Engineering</a></span></div><div class="content">RPC



Client 通过本地调用，调用 Client Stub
Client Stub 将参数打包（Marshalling）成一个消息，然后发送这个消息
Client 所在的 OS 将消息发送给 Server
Server 接收到消息后，将消息传递给 Server Stub（或者 Server Skeleton）
Server Stub 将消息解包（Unmarshalling）后得到消息
Server Stub 调用服务端的子程序，处理完成后，将最终结果按照相反的步骤返回给 Client


gRPC概述
gRPC：google Remote Procedure Call
gRPC 是由 Google 开发的高性能、开源、跨语言的通用 RPC 框架，基于 HTTP 2.0，默认使用 Protocol Buffers 序列化
gRPC 的特点
支持多语言
基于 IDL（Interface Definition Language）文件定义服务
通过 proto3 生成指定语言的数据结构、服务端接口和客户端 Stub


通信协议基于标准的 HTTP&#x2F;2，支持特性：双向流、消息头压缩、单 TCP  ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/04/16/cloud-native-foundation-go-engineering-foundation-api-rest/" title="Go Engineering - Foundation - API - RESTful"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-16.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Foundation - API - RESTful"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/16/cloud-native-foundation-go-engineering-foundation-api-rest/" title="Go Engineering - Foundation - API - RESTful">Go Engineering - Foundation - API - RESTful</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-04-15T18:06:25.000Z" title="Created 2022-04-16 02:06:25">2022-04-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/go-engineering/">Go Engineering</a></span></div><div class="content">概述
REST：Representational state transfer
REST 只是一种软件架构风格，是一组架构约束条件和原则，而不是技术框架
REST 有一系列规范，满足这些规范的 API 均可称为 RESTful API
REST 规范把所有内容都视为资源，对资源的操作对应 HTTP 协议提供的 GET、POST、PUT 和 DELETE 方法
由于 REST 与 HTTP 协议相辅相成，因此 HTTP 协议已经成为 RESTful API 的事实标准




特点
以资源为中心，一切都可以抽象成资源，所有行为都是对资源的 CRUD
资源对应着面向对象范式里面的对象
资源使用 URI 标识，每个资源实例都有一个唯一的 URI 标识


资源是有状态的，使用 JSON&#x2F;XML 等在 HTTP Body 里表征资源的状态
客户端通过 HTTP Method 对资源进行操作，实现 REST
无状态：每个 RESTful API 请求都包含了所有足够完成本次操作的信息，服务器无需保持 Session
无状态对于服务端的弹性扩容是很重要的



设计原则
RESTful API 的核心是规范

 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/04/16/cloud-native-foundation-go-engineering-specification-design-pattern/" title="Go Engineering - Specification - Design Pattern"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-23.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Specification - Design Pattern"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/16/cloud-native-foundation-go-engineering-specification-design-pattern/" title="Go Engineering - Specification - Design Pattern">Go Engineering - Specification - Design Pattern</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-04-15T17:06:25.000Z" title="Created 2022-04-16 01:06:25">2022-04-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/go-engineering/">Go Engineering</a></span></div><div class="content">GoF


创建型模式
提供一种在创建对象的同时隐藏创建逻辑的方式，而不是直接使用 new 运算符直接实例化对象

单例模式
分为饿汉方式（包被加载时创建）和懒汉方式（第一次使用时创建）

饿汉方式1234567891011package hungertype singleton struct &#123;&#125;// 实例是在包被导入时被初始化的var ins *singleton = &amp;singleton&#123;&#125;func GetIns() *singleton &#123;    return ins&#125;

懒汉方式
非并发安全，需要加锁

1234567891011121314151617181920package singletonimport &quot;sync&quot;type singleton struct &#123;&#125;var ins *singletonvar lock sync.Mutexfunc GetIns() *singleton &#123;    if ins == nil &#123;        lock.Lock()   ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/04/16/cloud-native-foundation-go-engineering-specification-design-method/" title="Go Engineering - Specification - Design Method"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-6.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Go Engineering - Specification - Design Method"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/16/cloud-native-foundation-go-engineering-specification-design-method/" title="Go Engineering - Specification - Design Method">Go Engineering - Specification - Design Method</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-04-15T16:06:25.000Z" title="Created 2022-04-16 00:06:25">2022-04-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/go-engineering/">Go Engineering</a></span></div><div class="content">Go 项目
Go 项目是一个偏工程化的概念，包含 Go 应用




Go 应用
代码结构按层拆分
最大的问题：相同功能可能在不同层被使用，而这些功能又分散在不同的层中，容易造成循环引用


12345678910├── controllers│   ├── billing│   ├── order│   └── user├── models│   ├── billing.go│   ├── order.go│   └── user.go└── views    └── layouts

按功能拆分
Go 项目最常用的拆分方法

不同模块，功能单一，可以实现高内聚低耦合的设计哲学
所有功能只实现一遍，引用逻辑清晰，大大减少循环引用的概率



12345pkg├── billing├── order│   └── order.go└── user

代码规范编码规范
Uber Go 语言编码规范
静态代码检查工具：golangci-lint

最佳实践
Effective Go
Go Code Review Comments
Style guideline for Go packages

代码质量编写可测试 ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/5/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/#content-inner">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/#content-inner">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/40/#content-inner">40</a><a class="extend next" rel="next" href="/page/7/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">zhongmingmao</div><div class="author-info__description">Focus on Infrastructure.</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">392</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">117</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">59</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Things are always unexpected!</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/10/04/web-js-object/" title="JavaScript - Object"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://web-1253868755.cos.ap-guangzhou.myqcloud.com/js/1_BPSx-c--z6r7tY29L19ukQ.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JavaScript - Object"/></a><div class="content"><a class="title" href="/2022/10/04/web-js-object/" title="JavaScript - Object">JavaScript - Object</a><time datetime="2022-10-03T16:06:25.000Z" title="Created 2022-10-04 00:06:25">2022-10-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/03/web-js-type/" title="JavaScript - Type"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://web-1253868755.cos.ap-guangzhou.myqcloud.com/js/javascript_banner_sxve2l.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JavaScript - Type"/></a><div class="content"><a class="title" href="/2022/10/03/web-js-type/" title="JavaScript - Type">JavaScript - Type</a><time datetime="2022-10-02T16:06:25.000Z" title="Created 2022-10-03 00:06:25">2022-10-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/02/cloud-native-foundation-go-feature/" title="Cloud Native Foundation - Go Feature"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/go/go-music.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Cloud Native Foundation - Go Feature"/></a><div class="content"><a class="title" href="/2022/10/02/cloud-native-foundation-go-feature/" title="Cloud Native Foundation - Go Feature">Cloud Native Foundation - Go Feature</a><time datetime="2022-10-01T16:06:25.000Z" title="Created 2022-10-02 00:06:25">2022-10-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/01/kubernetes-container-interconnection/" title="Kubernetes - Container Interconnection"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://kubernetes-1253868755.cos.ap-guangzhou.myqcloud.com/docker/docker-04.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - Container Interconnection"/></a><div class="content"><a class="title" href="/2022/10/01/kubernetes-container-interconnection/" title="Kubernetes - Container Interconnection">Kubernetes - Container Interconnection</a><time datetime="2022-09-30T16:06:25.000Z" title="Created 2022-10-01 00:06:25">2022-10-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/09/26/kubernetes-docker-hub/" title="Kubernetes - Docker Hub"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://kubernetes-1253868755.cos.ap-guangzhou.myqcloud.com/docker/docker-hub.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - Docker Hub"/></a><div class="content"><a class="title" href="/2022/09/26/kubernetes-docker-hub/" title="Kubernetes - Docker Hub">Kubernetes - Docker Hub</a><time datetime="2022-09-25T16:06:25.000Z" title="Created 2022-09-26 00:06:25">2022-09-26</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            <a class="card-more-btn" href="/categories/" title="More">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/career/"><span class="card-category-list-name">Career</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/"><span class="card-category-list-name">Cloud Native</span><span class="card-category-list-count">75</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/cloud-native-foundation/"><span class="card-category-list-name">Cloud Native Foundation</span><span class="card-category-list-count">49</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/cloud-native-foundation/container/"><span class="card-category-list-name">Container</span><span class="card-category-list-count">2</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/cloud-native-foundation/container/docker/"><span class="card-category-list-name">Docker</span><span class="card-category-list-count">2</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/cloud-native-foundation/go/"><span class="card-category-list-name">Go</span><span class="card-category-list-count">6</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/cloud-native-foundation/go-core/"><span class="card-category-list-name">Go Core</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/cloud-native-foundation/go-engineering/"><span class="card-category-list-name">Go Engineering</span><span class="card-category-list-count">19</span></a></li></ul></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/cloud-native/" style="font-size: 1.44em; color: rgb(12, 42, 80)">Cloud Native</a><a href="/tags/container/" style="font-size: 1.29em; color: rgb(55, 191, 69)">Container</a><a href="/tags/docker/" style="font-size: 1.3em; color: rgb(138, 190, 159)">Docker</a><a href="/tags/go-core/" style="font-size: 1.17em; color: rgb(34, 114, 80)">Go Core</a><a href="/tags/go/" style="font-size: 1.34em; color: rgb(11, 88, 113)">Go</a><a href="/tags/go-engineering/" style="font-size: 1.32em; color: rgb(134, 0, 188)">Go Engineering</a><a href="/tags/rpc/" style="font-size: 1.16em; color: rgb(2, 154, 86)">RPC</a><a href="/tags/grpc/" style="font-size: 1.15em; color: rgb(187, 9, 164)">gRPC</a><a href="/tags/kubernetes/" style="font-size: 1.36em; color: rgb(88, 9, 197)">Kubernetes</a><a href="/tags/dockerfile/" style="font-size: 1.17em; color: rgb(46, 45, 81)">Dockerfile</a><a href="/tags/microservices/" style="font-size: 1.31em; color: rgb(0, 152, 150)">Microservices</a><a href="/tags/spring-cloud/" style="font-size: 1.22em; color: rgb(53, 111, 198)">Spring Cloud</a><a href="/tags/spring/" style="font-size: 1.26em; color: rgb(152, 134, 74)">Spring</a><a href="/tags/java/" style="font-size: 1.45em; color: rgb(83, 130, 100)">Java</a><a href="/tags/service-governance/" style="font-size: 1.17em; color: rgb(9, 38, 74)">Service Governance</a><a href="/tags/alibaba/" style="font-size: 1.24em; color: rgb(35, 48, 184)">Alibaba</a><a href="/tags/security/" style="font-size: 1.3em; color: rgb(181, 49, 55)">Security</a><a href="/tags/compliance/" style="font-size: 1.17em; color: rgb(156, 62, 50)">Compliance</a><a href="/tags/opa/" style="font-size: 1.17em; color: rgb(31, 137, 99)">OPA</a><a href="/tags/computer-basics/" style="font-size: 1.35em; color: rgb(121, 5, 142)">Computer Basics</a><a href="/tags/computer-organization/" style="font-size: 1.35em; color: rgb(100, 65, 174)">Computer Organization</a><a href="/tags/knowledge-map/" style="font-size: 1.15em; color: rgb(29, 150, 184)">Knowledge Map</a><a href="/tags/architecture/" style="font-size: 1.3em; color: rgb(113, 66, 183)">Architecture</a><a href="/tags/devops/" style="font-size: 1.15em; color: rgb(106, 7, 10)">DevOps</a><a href="/tags/tool/" style="font-size: 1.25em; color: rgb(72, 71, 103)">Tool</a><a href="/tags/git/" style="font-size: 1.25em; color: rgb(45, 41, 103)">Git</a><a href="/tags/infrastructure/" style="font-size: 1.26em; color: rgb(11, 86, 41)">Infrastructure</a><a href="/tags/authentication/" style="font-size: 1.17em; color: rgb(171, 116, 88)">Authentication</a><a href="/tags/jwt/" style="font-size: 1.15em; color: rgb(18, 48, 120)">JWT</a><a href="/tags/ldap/" style="font-size: 1.15em; color: rgb(82, 175, 83)">LDAP</a><a href="/tags/oauth-2-0/" style="font-size: 1.22em; color: rgb(140, 190, 182)">OAuth 2.0</a><a href="/tags/storage/" style="font-size: 1.41em; color: rgb(78, 3, 38)">Storage</a><a href="/tags/mysql/" style="font-size: 1.42em; color: rgb(67, 45, 65)">MySQL</a><a href="/tags/innodb/" style="font-size: 1.21em; color: rgb(172, 67, 52)">InnoDB</a><a href="/tags/java-concurrent/" style="font-size: 1.39em; color: rgb(184, 124, 183)">Java Concurrent</a><a href="/tags/actor/" style="font-size: 1.15em; color: rgb(175, 120, 138)">Actor</a><a href="/tags/akka/" style="font-size: 1.15em; color: rgb(183, 165, 100)">Akka</a><a href="/tags/coroutine/" style="font-size: 1.16em; color: rgb(31, 47, 121)">Coroutine</a><a href="/tags/csp/" style="font-size: 1.15em; color: rgb(183, 138, 118)">CSP</a><a href="/tags/disruptor/" style="font-size: 1.15em; color: rgb(16, 1, 180)">Disruptor</a><a href="/tags/netty/" style="font-size: 1.15em; color: rgb(61, 59, 27)">Netty</a><a href="/tags/stm/" style="font-size: 1.15em; color: rgb(62, 14, 189)">STM</a><a href="/tags/mvcc/" style="font-size: 1.15em; color: rgb(40, 135, 67)">MVCC</a><a href="/tags/java-core/" style="font-size: 1.22em; color: rgb(72, 173, 13)">Java Core</a><a href="/tags/java-performance/" style="font-size: 1.34em; color: rgb(126, 85, 6)">Java Performance</a><a href="/tags/cas/" style="font-size: 1.15em; color: rgb(21, 55, 31)">CAS</a><a href="/tags/hashtable/" style="font-size: 1.15em; color: rgb(155, 137, 185)">HashTable</a><a href="/tags/concurrenthashmap/" style="font-size: 1.15em; color: rgb(150, 174, 195)">ConcurrentHashMap</a><a href="/tags/concurrentskiplistmap/" style="font-size: 1.15em; color: rgb(114, 63, 164)">ConcurrentSkipListMap</a><a href="/tags/design-pattern/" style="font-size: 1.19em; color: rgb(19, 8, 129)">Design Pattern</a><a href="/tags/consistency/" style="font-size: 1.15em; color: rgb(54, 42, 137)">Consistency</a><a href="/tags/hashmap/" style="font-size: 1.15em; color: rgb(66, 97, 109)">HashMap</a><a href="/tags/io/" style="font-size: 1.15em; color: rgb(126, 130, 88)">IO</a><a href="/tags/nio/" style="font-size: 1.16em; color: rgb(8, 60, 16)">NIO</a><a href="/tags/aio/" style="font-size: 1.16em; color: rgb(55, 49, 133)">AIO</a><a href="/tags/epoll/" style="font-size: 1.16em; color: rgb(150, 179, 194)">Epoll</a><a href="/tags/jvm/" style="font-size: 1.38em; color: rgb(105, 90, 157)">JVM</a><a href="/tags/jit/" style="font-size: 1.15em; color: rgb(97, 175, 199)">JIT</a><a href="/tags/gc/" style="font-size: 1.16em; color: rgb(105, 39, 80)">GC</a><a href="/tags/synchronized/" style="font-size: 1.16em; color: rgb(19, 91, 111)">synchronized</a><a href="/tags/lock/" style="font-size: 1.15em; color: rgb(79, 5, 74)">Lock</a><a href="/tags/reentrantreadwritelock/" style="font-size: 1.15em; color: rgb(2, 23, 154)">ReentrantReadWriteLock</a><a href="/tags/stampedlock/" style="font-size: 1.15em; color: rgb(88, 12, 50)">StampedLock</a><a href="/tags/serialization/" style="font-size: 1.15em; color: rgb(164, 61, 104)">Serialization</a><a href="/tags/protobuf/" style="font-size: 1.15em; color: rgb(162, 28, 38)">ProtoBuf</a><a href="/tags/bio/" style="font-size: 1.15em; color: rgb(68, 194, 168)">BIO</a><a href="/tags/tomcat/" style="font-size: 1.15em; color: rgb(110, 145, 29)">Tomcat</a><a href="/tags/select/" style="font-size: 1.15em; color: rgb(121, 7, 116)">Select</a><a href="/tags/poll/" style="font-size: 1.15em; color: rgb(198, 114, 118)">Poll</a><a href="/tags/zero-copy/" style="font-size: 1.15em; color: rgb(23, 151, 10)">Zero Copy</a><a href="/tags/mmap/" style="font-size: 1.15em; color: rgb(113, 24, 135)">mmap</a><a href="/tags/reactor/" style="font-size: 1.15em; color: rgb(135, 6, 95)">Reactor</a><a href="/tags/network/" style="font-size: 1.15em; color: rgb(49, 80, 158)">Network</a><a href="/tags/java-stream/" style="font-size: 1.15em; color: rgb(131, 97, 3)">Java Stream</a><a href="/tags/mark-word/" style="font-size: 1.15em; color: rgb(199, 146, 20)">Mark Word</a><a href="/tags/monitor/" style="font-size: 1.15em; color: rgb(169, 56, 83)">Monitor</a><a href="/tags/context-switch/" style="font-size: 1.15em; color: rgb(56, 117, 169)">Context Switch</a><a href="/tags/thread-pool/" style="font-size: 1.15em; color: rgb(129, 103, 31)">Thread Pool</a><a href="/tags/lambda/" style="font-size: 1.15em; color: rgb(58, 90, 152)">Lambda</a><a href="/tags/bytecode-manipulation/" style="font-size: 1.17em; color: rgb(88, 134, 200)">Bytecode Manipulation</a><a href="/tags/asm/" style="font-size: 1.15em; color: rgb(46, 46, 137)">ASM</a><a href="/tags/jol/" style="font-size: 1.17em; color: rgb(150, 81, 165)">JOL</a><a href="/tags/middleware/" style="font-size: 1.4em; color: rgb(73, 71, 192)">Middleware</a><a href="/tags/mq/" style="font-size: 1.4em; color: rgb(30, 128, 170)">MQ</a><a href="/tags/kafka/" style="font-size: 1.4em; color: rgb(126, 70, 47)">Kafka</a><a href="/tags/stream/" style="font-size: 1.4em; color: rgb(102, 32, 149)">Stream</a><a href="/tags/rebalance/" style="font-size: 1.17em; color: rgb(153, 105, 21)">Rebalance</a><a href="/tags/avro/" style="font-size: 1.19em; color: rgb(73, 194, 7)">Avro</a><a href="/tags/compression/" style="font-size: 1.15em; color: rgb(20, 157, 142)">Compression</a><a href="/tags/consumer-group/" style="font-size: 1.15em; color: rgb(175, 51, 38)">Consumer Group</a><a href="/tags/tcp/" style="font-size: 1.16em; color: rgb(77, 165, 21)">TCP</a><a href="/tags/idempotence/" style="font-size: 1.15em; color: rgb(90, 53, 144)">Idempotence</a><a href="/tags/producer/" style="font-size: 1.15em; color: rgb(94, 172, 141)">Producer</a><a href="/tags/load-balance/" style="font-size: 1.15em; color: rgb(160, 83, 48)">Load Balance</a><a href="/tags/distributed-design-pattern/" style="font-size: 1.17em; color: rgb(138, 162, 178)">Distributed Design Pattern</a><a href="/tags/distributed-architecture/" style="font-size: 1.15em; color: rgb(42, 96, 180)">Distributed Architecture</a><a href="/tags/linux/" style="font-size: 1.3em; color: rgb(60, 39, 156)">Linux</a><a href="/tags/linux-performance/" style="font-size: 1.17em; color: rgb(50, 27, 51)">Linux Performance</a><a href="/tags/career/" style="font-size: 1.15em; color: rgb(84, 92, 37)">Career</a><a href="/tags/linux-practice/" style="font-size: 1.27em; color: rgb(166, 8, 167)">Linux Practice</a><a href="/tags/ext4/" style="font-size: 1.15em; color: rgb(32, 172, 60)">ext4</a><a href="/tags/file-system/" style="font-size: 1.15em; color: rgb(55, 122, 119)">File System</a><a href="/tags/math/" style="font-size: 1.16em; color: rgb(116, 181, 77)">Math</a><a href="/tags/microservices-governance/" style="font-size: 1.24em; color: rgb(131, 8, 82)">Microservices Governance</a><a href="/tags/config/" style="font-size: 1.17em; color: rgb(83, 57, 182)">Config</a><a href="/tags/configuration-center/" style="font-size: 1.17em; color: rgb(176, 118, 170)">Configuration Center</a><a href="/tags/apollo/" style="font-size: 1.17em; color: rgb(123, 168, 1)">Apollo</a><a href="/tags/oauth2/" style="font-size: 1.21em; color: rgb(118, 64, 63)">Oauth2</a><a href="/tags/spring-security/" style="font-size: 1.2em; color: rgb(62, 49, 69)">Spring Security</a><a href="/tags/spring-security-oauth2/" style="font-size: 1.2em; color: rgb(7, 30, 11)">Spring Security OAuth2</a><a href="/tags/performance-tuning/" style="font-size: 1.15em; color: rgb(55, 62, 181)">Performance Tuning</a><a href="/tags/vim/" style="font-size: 1.21em; color: rgb(40, 51, 65)">Vim</a><a href="/tags/web/" style="font-size: 1.19em; color: rgb(168, 150, 138)">Web</a><a href="/tags/javascript/" style="font-size: 1.16em; color: rgb(57, 172, 161)">JavaScript</a><a href="/tags/zookeeper/" style="font-size: 1.16em; color: rgb(41, 19, 79)">Zookeeper</a><a href="/tags/distributed-lock/" style="font-size: 1.15em; color: rgb(69, 78, 16)">Distributed Lock</a><a href="/tags/zab/" style="font-size: 1.15em; color: rgb(194, 119, 165)">ZAB</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span><a class="card-more-btn" href="/archives/" title="More">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/10/"><span class="card-archive-list-date">October 2022</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/09/"><span class="card-archive-list-date">September 2022</span><span class="card-archive-list-count">15</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/07/"><span class="card-archive-list-date">July 2022</span><span class="card-archive-list-count">18</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/05/"><span class="card-archive-list-date">May 2022</span><span class="card-archive-list-count">15</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">April 2022</span><span class="card-archive-list-count">9</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">March 2022</span><span class="card-archive-list-count">13</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/02/"><span class="card-archive-list-date">February 2022</span><span class="card-archive-list-count">8</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/01/"><span class="card-archive-list-date">January 2022</span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">392</div></div><div class="webinfo-item"><div class="item-name">Run time :</div><div class="item-count" id="runtimeshow" data-publishDate="2015-06-30T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Total Count :</div><div class="item-count">583.9k</div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-04-27T16:49:02.441Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.pixabay.com/photo/2018/08/27/15/17/fishing-3635221_1280.png')"><div id="footer-wrap"><div class="copyright">&copy;2015 - 2023 By zhongmingmao</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Life is like a box of chocolates. You can't know what you'll eat until you open it.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["Stay hungry, stay foolish."])
  } else {
    document.getElementById("subtitle").innerHTML = 'Stay hungry, stay foolish.'
  }
}
typedJSFn.run(subtitleType)</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></body></html>