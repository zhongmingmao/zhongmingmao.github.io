<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>ByteCoding</title><meta name="author" content="zhongmingmao"><meta name="copyright" content="zhongmingmao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="Focus on Infrastructure">
<meta property="og:type" content="website">
<meta property="og:title" content="ByteCoding">
<meta property="og:url" content="https://blog.zhongmingmao.top/page/64/index.html">
<meta property="og:site_name" content="ByteCoding">
<meta property="og:description" content="Focus on Infrastructure">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png">
<meta property="article:author" content="zhongmingmao">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><script type="application/ld+json"></script><link rel="shortcut icon" href="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="canonical" href="https://blog.zhongmingmao.top/page/64/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":32,"languages":{"author":"Author: zhongmingmao","link":"Link: ","source":"Source: ByteCoding","info":"Copyright belongs to the author. For commercial use, please contact the author for authorization. For non-commercial use, please indicate the source."}},
  lightbox: 'null',
  Snackbar: {"chs_to_cht":"You have switched to Traditional Chinese","cht_to_chs":"You have switched to Simplified Chinese","day_to_night":"You have switched to Dark Mode","night_to_day":"You have switched to Light Mode","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: true,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ByteCoding',
  isHighlightShrink: false,
  isToc: false,
  pageType: 'home'
}</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ByteCoding" type="application/atom+xml">
</head><body><script>window.paceOptions = {
  restartOnPushState: false
}

btf.addGlobalFn('pjaxSend', () => {
  Pace.restart()
}, 'pace_restart')

</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg" style="background-image: url(/url(https:/cdn.pixabay.com/photo/2021/07/20/03/39/fisherman-6479663_1280.jpg));"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">640</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">191</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">83</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url(https://cdn.pixabay.com/photo/2022/10/16/13/53/early-morning-7525151_1280.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">ByteCoding</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="site-info"><h1 id="site-title">ByteCoding</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts nc" id="recent-posts"><div class="recent-post-items"><div class="recent-post-item"><div class="post_cover left"><a href="/2016/07/02/jvm-jol-tutorial-1/" title="JVM基础 -- JOL使用教程 1"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JVM基础 -- JOL使用教程 1"></a></div><div class="recent-post-info"><a class="article-title" href="/2016/07/02/jvm-jol-tutorial-1/" title="JVM基础 -- JOL使用教程 1">JVM基础 -- JOL使用教程 1</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2016-07-01T16:06:25.000Z" title="Created 2016-07-02 00:06:25">2016-07-02</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/jvm/">JVM</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/jvm/baisc/">Baisc</a></span></div><div class="content"> 本文将通过JOL分析Java对象的内存布局，包括基本使用、字节对齐、实例域重排序、继承、继承栅栏、继承对齐等内容代码托管在https://github.com/zhongmingmao/java_object_layout    Maven依赖12345&lt;dependency&gt;  &lt;groupId&gt;org.openjdk.jol&lt;/groupId&gt;  &lt;artifactId&gt;jol-core&lt;/artifactId&gt;  &lt;version&gt;0.8&lt;/version&gt;&lt;/dependency&gt;  基本使用代码123456789101112// JVM Args : -Djol.tryWithSudo=truepublic class JOLSample_01_Basic &#123;    public static void main(String[] args) throws Exception &#123;        out.println(VM.current().details());      ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2016/06/29/jvm-object-layout-2/" title="JVM基础 -- Instrumentation + sa-jdi 实例分析"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-6.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JVM基础 -- Instrumentation + sa-jdi 实例分析"></a></div><div class="recent-post-info"><a class="article-title" href="/2016/06/29/jvm-object-layout-2/" title="JVM基础 -- Instrumentation + sa-jdi 实例分析">JVM基础 -- Instrumentation + sa-jdi 实例分析</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2016-06-28T16:06:25.000Z" title="Created 2016-06-29 00:06:25">2016-06-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/jvm/">JVM</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/jvm/baisc/">Baisc</a></span></div><div class="content"> 本文将通过Instrumentation + sa-jdi来分析几个实例的内存对象布局    关键概念 Java对象的内存布局：对象头(Header) + 实例数据（Instance Data） + 对其填充（Padding） Header具体内容 Mark Word：存储对象hashCode、锁信息等 Class MetaData Address：存储对象类型数据的指针 Array Length：数组的长度（如果当前对象是数组，否则没有这一内容）   HotSpot JVM中对象的对齐方式：8字节对齐 实例域重排序：为了节省内存空间，实例域将按（double/long，int/float，short/char，boolean/byte，reference）进行重排序 非静态内部类：有一个隐藏的对外部类的引用 指针压缩：影响对象的内存布局，JVM参数：-XX:+UseCompressedOops  指针压缩的影响    是否开启压缩 Mark Word Class MetaData Address Reference    否 8 8 8   是 8 4 4   指针压缩代码123456public ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2016/06/27/jvm-object-layout-1/" title="JVM基础 -- Instrumentation + sa-jdi 工具构建"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-21.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JVM基础 -- Instrumentation + sa-jdi 工具构建"></a></div><div class="recent-post-info"><a class="article-title" href="/2016/06/27/jvm-object-layout-1/" title="JVM基础 -- Instrumentation + sa-jdi 工具构建">JVM基础 -- Instrumentation + sa-jdi 工具构建</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2016-06-26T16:06:25.000Z" title="Created 2016-06-27 00:06:25">2016-06-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/jvm/">JVM</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/jvm/baisc/">Baisc</a></span></div><div class="content"> 本文首先介绍测量对象内存布局的其中一种方法，Instrumentation + sa-jdi    核心代码 代码托管在：https://github.com/zhongmingmao/java_object_layout 采用Instrumentation + sa-jdi的方式需要自己编写代码，比较繁琐，OpenJDK提供的JOL (Java Object Layout) 工具则是开箱即用，非常方便，后续博文会进一步介绍JOL的使用  测量对象大小通过Instrumentation测量对象占用的空间大小 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293/** * 对象占用字节大小工具类&lt;br/&gt; * see http://yueyemaitian.iteye.com/blog/2033...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2016/06/25/jvm-virtualmachineerror/" title="JVM基础 -- VirtualMachineError实例"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-22.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="JVM基础 -- VirtualMachineError实例"></a></div><div class="recent-post-info"><a class="article-title" href="/2016/06/25/jvm-virtualmachineerror/" title="JVM基础 -- VirtualMachineError实例">JVM基础 -- VirtualMachineError实例</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2016-06-24T16:06:25.000Z" title="Created 2016-06-25 00:06:25">2016-06-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/">Java</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/jvm/">JVM</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/java/jvm/baisc/">Baisc</a></span></div><div class="content"> VirtualMachineError有两个常见的实现类：StackOverflowError、OutOfMemoryError，本文将用代码分析几种情况的VirtualMachineError    JVM参数   内存区域 虚拟机栈VM Stack 堆Heap 方法区Method Area    共享&#x2F;隔离 线程隔离 线程共享 线程共享   存放的数据 栈帧 Stack Frame 对象实例&#x2F;数组 类信息、常量、静态变量等数据   异常情况 StackOverflowErrorOutOfMemoryError OutOfMemoryError OutOfMemoryError   JVM参数 -Xss -Xms-Xmx -XX:PermSize-XX:MaxPermSize-XX:MetaspaceSize-XX:MaxMetaspaceSize    注：在JDK8之前，Hotspot JVM采用永生代（Permanent Generation）来实现方法区（Method Area），从JDK8开始，已经移除了永生代，使用Metaspace进行替代，相关连接请参考：  htt...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2015/11/12/vim-file/" title="Vim -- 文件"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-16.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vim -- 文件"></a></div><div class="recent-post-info"><a class="article-title" href="/2015/11/12/vim-file/" title="Vim -- 文件">Vim -- 文件</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2015-11-11T16:06:25.000Z" title="Created 2015-11-12 00:06:25">2015-11-12</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/tool/">Tool</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/tool/vim/">Vim</a></span></div><div class="content"> 本文将介绍Vim中的文件    基础文件、缓冲区和编辑会话文件：存储在磁盘上缓冲区：存在于内存中编辑会话：执行一次vim命令，默认显示第一个文件的缓冲区，其他文件的缓冲区为后台缓冲区 缓冲区列表一次编辑会话可以在多个缓冲区上工作，这多个缓冲区就是缓冲区列表 123456789101112131415161718192021222324252627# 展示缓冲区列表:ls：列出所有被载入到内存中的缓冲区列表    -：非活动的缓冲区    a：激活的缓冲区    h：隐藏的缓冲区    =：只读的缓冲区    +：已经修改但尚未写入磁盘的缓冲区    #：轮换缓冲区，通过&lt;C-^&gt;切换成当前缓冲区    %：当前缓冲区，通过&lt;C-^&gt;把当前缓冲区切换成轮换缓冲区    &lt;C-^&gt;：#与%切换# 遍历缓冲区列表bp[rev]：上一个缓冲区bn[ext]：下一个缓冲区bf[irst]：第一个缓冲区bl[ast]：最后一个缓冲区b[uffer] &#123;N&#125;：直接跳转到第&#123;N&#125;个缓冲区，例如:b 3b[uffer] &#123;buffer...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2015/11/10/vim-commandlinemode/" title="Vim -- 命令行模式"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-14.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vim -- 命令行模式"></a></div><div class="recent-post-info"><a class="article-title" href="/2015/11/10/vim-commandlinemode/" title="Vim -- 命令行模式">Vim -- 命令行模式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2015-11-09T16:06:25.000Z" title="Created 2015-11-10 00:06:25">2015-11-10</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/tool/">Tool</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/tool/vim/">Vim</a></span></div><div class="content"> 本文将介绍Vim中的命令行模式    基础8种模式 普通模式：Vim的自然放松状态，也是Vim的默认模式；操作符和动作命令结合在一起；操作 &#x3D; 操作符 + 动作命令 插入模式：与Sublime Text默认模式类似 插入-普通模式：这是普通模式的一个特例，让我们从插入模式执行一次普通模式命令，然后回归插入模式，按键为&lt;C-o&gt; 替换模式：与插入模式的区别：在替换模式中输入会替换文档中的已有文本 虚拟替换模式（推荐）：制表符当成一组空格进行处理，假设制表符列宽为8，输入的前7个字符时，每个字符会被插入到制表符之前，当输入第8个字符时，该字符会替换制表符 可视模式：允许我们选中一块文本区域并在其上进行操作；面向字符（v）、面向行（SHIFT+v）、面向列（&lt;C-v&gt;） 选择模式：与Word和Sublime Text的操作模式类似，当选中一段文本后，再输入任何可见字符，选择的文本会被删除 命令行模式：行编辑器ex是vi的先祖，vim支持Ex命令  模式切换  常用Ex命令操作缓冲区文本的常用Ex命令（完整列表:h ex-cmd-index）[range]：连续的行 1234...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2015/11/07/vim-visualmode/" title="Vim -- 可视模式"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-23.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vim -- 可视模式"></a></div><div class="recent-post-info"><a class="article-title" href="/2015/11/07/vim-visualmode/" title="Vim -- 可视模式">Vim -- 可视模式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2015-11-06T16:06:25.000Z" title="Created 2015-11-07 00:06:25">2015-11-07</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/tool/">Tool</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/tool/vim/">Vim</a></span></div><div class="content"> 本文将介绍Vim中的可视模式    基础可视模式Vim的可视模式允许我们选中一块文本区域并在其上进行操作 语法规则与普通模式的语法规则次序颠倒普通模式的语法规则：&#123;operator&#125;&#123;motion&#125;可视模式的语法规则：先选中选区，再触发可视命令；类似于典型文本编辑器的操作模式 选择模式典型文本编辑器的操作模式：当选中一段文本后，再输入任何可见字符，选择的文本会被删除可视模式和选择模式相互切换：&lt;C-g&gt; 123456:help Select-mode8. Select mode                                          *Select* *Select-mode*Select mode looks like Visual mode, but the commands accepted are quite different.  This resembles the selection mode in Microsoft Windows.When the &#x27;showmode&#x27; option i...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2015/11/05/vim-insertmode/" title="Vim -- 插入模式"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-24.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vim -- 插入模式"></a></div><div class="recent-post-info"><a class="article-title" href="/2015/11/05/vim-insertmode/" title="Vim -- 插入模式">Vim -- 插入模式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2015-11-04T16:06:25.000Z" title="Created 2015-11-05 00:06:25">2015-11-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/tool/">Tool</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/tool/vim/">Vim</a></span></div><div class="content"> 本文将介绍Vim中的插入模式    基础插入模式i：在当前字符的左边插入I：在当前行首插入a：在当前字符的右边插入A：在当前行尾插入o：在当前行下面插入一个新行O：在当前行上面插入一个新行c&#123;motion&#125;：删除 motion 命令跨过的字符，并且进入插入模式    c$：删除从光标位置到行尾的字符并且进入插入模式    ct!：删除从光标位置到下一个叹号（但不包括）cc：剪切当前行并且进入插入模式C：等同于c$s：删除光标处字符，并进入插入模式S：删除当前行并进入插入模式，等同于cc 插入-普通模式这是普通模式的一个特例，让我们从插入模式执行一次普通模式命令，然后回归插入模式，按键为&lt;C-o&gt; 替换模式与插入模式的区别：在替换模式中输入会替换文档中的已有文本触发命令：r，R 虚拟替换模式（推荐）把制表符当成一组空格进行处理假设制表符列宽为8，输入的前7个字符时，每个字符会被插入到制表符之前，当输入第8个字符时，该字符会替换制表符触发命令：gr，gR 使用样例插入模式中撤销修改&lt;C-h&gt;：删除前一个字符&lt;C-w&gt;：删除前一个单词&lt;C-u&g...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2015/11/04/vim-commonmode/" title="Vim -- 普通模式"><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-21.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vim -- 普通模式"></a></div><div class="recent-post-info"><a class="article-title" href="/2015/11/04/vim-commonmode/" title="Vim -- 普通模式">Vim -- 普通模式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2015-11-03T16:06:25.000Z" title="Created 2015-11-04 00:06:25">2015-11-04</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/tool/">Tool</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/tool/vim/">Vim</a></span></div><div class="content"> 本文将介绍Vim中的普通模式    基础概念普通模式（normal mode）是Vim的自然放松状态，也是Vim的默认模式其他文本编辑器大部分时间都处于类似Vim插入模式的状态中普通模式之所以强大，主要由于它可以把操作符和动作命令结合在一起：**操作 = 操作符 + 动作命令** 12345:h operatorThe motion commands can be used after an operator command,to have the command operate on the text that was moved over.That is the text between the cursor position before and after the motion.Operators are generally used to delete or change text.  语法规则&#123;operator&#125;&#123;motion&#125;&#123;operator&#125;&#123;operator&#125;（motion默认为当前行） 操作符待决模式...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2015/11/02/vim-commandpoint/" title="Vim -- 命令."><img class="post-bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/go-3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vim -- 命令."></a></div><div class="recent-post-info"><a class="article-title" href="/2015/11/02/vim-commandpoint/" title="Vim -- 命令.">Vim -- 命令.</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2015-11-01T16:06:25.000Z" title="Created 2015-11-02 00:06:25">2015-11-02</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/tool/">Tool</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/tool/vim/">Vim</a></span></div><div class="content"> 本文将介绍Vim中的命令.    基础Vim启动命令12# 不加载配置文件，且不启用vi兼容模式$ vim -u NONE -N  Vim手册1234567$ man vim-u &#123;vimrc&#125;      Use the commands in the file &#123;vimrc&#125; for initializations.                  All the other initializations are skipped.  Use this to edit a special  kind  of  files.                It can also be used to skip all initializations by giving the name &quot;NONE&quot;.                See &quot;:help initialization&quot; within vim for more details.-N              No-compatible mode.  Rese...</div></div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/63/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/63/#content-inner">63</a><span class="page-number current">64</span></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">zhongmingmao</div><div class="author-info-description">Focus on Infrastructure.</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">640</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">191</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">83</div></a></div><div class="card-info-social-icons"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Things are always unexpected!</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/01/22/cloud-native-observability-prometheus-introduction/" title="Observability - Prometheus Introduction"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://observability-1253868755.cos.ap-guangzhou.myqcloud.com/prometheus.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Observability - Prometheus Introduction"/></a><div class="content"><a class="title" href="/2025/01/22/cloud-native-observability-prometheus-introduction/" title="Observability - Prometheus Introduction">Observability - Prometheus Introduction</a><time datetime="2025-01-21T16:06:25.000Z" title="Created 2025-01-22 00:06:25">2025-01-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/21/cloud-native-observability-opentelemetry-java-zero-code/" title="Observability - OpenTelemetry Java Zero Code"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://observability-1253868755.cos.ap-guangzhou.myqcloud.com/otel-java-agent.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Observability - OpenTelemetry Java Zero Code"/></a><div class="content"><a class="title" href="/2025/01/21/cloud-native-observability-opentelemetry-java-zero-code/" title="Observability - OpenTelemetry Java Zero Code">Observability - OpenTelemetry Java Zero Code</a><time datetime="2025-01-20T16:06:25.000Z" title="Created 2025-01-21 00:06:25">2025-01-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/20/cloud-native-observability-opentelemetry-java/" title="Observability - OpenTelemetry Java"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://observability-1253868755.cos.ap-guangzhou.myqcloud.com/otel-java.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Observability - OpenTelemetry Java"/></a><div class="content"><a class="title" href="/2025/01/20/cloud-native-observability-opentelemetry-java/" title="Observability - OpenTelemetry Java">Observability - OpenTelemetry Java</a><time datetime="2025-01-19T16:06:25.000Z" title="Created 2025-01-20 00:06:25">2025-01-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/19/ai-agent-overview-mcp/" title="AI Agent - MCP Overview"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ai-agent-1253868755.cos.ap-guangzhou.myqcloud.com/mcp.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AI Agent - MCP Overview"/></a><div class="content"><a class="title" href="/2025/01/19/ai-agent-overview-mcp/" title="AI Agent - MCP Overview">AI Agent - MCP Overview</a><time datetime="2025-01-18T16:06:25.000Z" title="Created 2025-01-19 00:06:25">2025-01-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/01/18/ai-agent-overview/" title="AI Agent - Overview"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://ai-agent-1253868755.cos.ap-guangzhou.myqcloud.com/ai-agent.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="AI Agent - Overview"/></a><div class="content"><a class="title" href="/2025/01/18/ai-agent-overview/" title="AI Agent - Overview">AI Agent - Overview</a><time datetime="2025-01-17T16:06:25.000Z" title="Created 2025-01-18 00:06:25">2025-01-18</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            <a class="card-more-btn" href="/categories/" title="View More">
      <i class="fas fa-angle-right"></i></a>
          </div>
          <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/"><span class="card-category-list-name">AI</span><span class="card-category-list-count">34</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/llm/"><span class="card-category-list-name">LLM</span><span class="card-category-list-count">16</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/rag/"><span class="card-category-list-name">RAG</span><span class="card-category-list-count">18</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai-agent/"><span class="card-category-list-name">AI Agent</span><span class="card-category-list-count">2</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai-agent/mcp/"><span class="card-category-list-name">MCP</span><span class="card-category-list-count">2</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai-agent/mcp/a2a/"><span class="card-category-list-name">A2A</span><span class="card-category-list-count">2</span></a></li></ul></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/big-data/"><span class="card-category-list-name">Big Data</span><span class="card-category-list-count">26</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/big-data/beam/"><span class="card-category-list-name">Beam</span><span class="card-category-list-count">13</span></a></li></ul></li>
          </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/mcp/" style="font-size: 1.17em; color: rgb(113, 58, 158);">MCP</a><a href="/tags/a2a/" style="font-size: 1.17em; color: rgb(111, 91, 55);">A2A</a><a href="/tags/big-data/" style="font-size: 1.36em; color: rgb(50, 57, 162);">Big Data</a><a href="/tags/beam/" style="font-size: 1.28em; color: rgb(50, 68, 187);">Beam</a><a href="/tags/spark/" style="font-size: 1.24em; color: rgb(185, 89, 104);">Spark</a><a href="/tags/flink/" style="font-size: 1.15em; color: rgb(161, 73, 111);">Flink</a><a href="/tags/mapreduce/" style="font-size: 1.15em; color: rgb(94, 144, 50);">MapReduce</a><a href="/tags/rdd/" style="font-size: 1.15em; color: rgb(132, 50, 50);">RDD</a><a href="/tags/cloud-computing/" style="font-size: 1.26em; color: rgb(109, 66, 186);">Cloud Computing</a><a href="/tags/iaas/" style="font-size: 1.22em; color: rgb(52, 100, 50);">IaaS</a><a href="/tags/paas/" style="font-size: 1.22em; color: rgb(50, 90, 50);">PaaS</a><a href="/tags/cloud-native/" style="font-size: 1.45em; color: rgb(130, 124, 86);">Cloud Native</a><a href="/tags/kubernetes/" style="font-size: 1.43em; color: rgb(50, 199, 135);">Kubernetes</a><a href="/tags/devops/" style="font-size: 1.21em; color: rgb(163, 186, 102);">DevOps</a><a href="/tags/container/" style="font-size: 1.3em; color: rgb(50, 50, 173);">Container</a><a href="/tags/docker/" style="font-size: 1.32em; color: rgb(50, 61, 50);">Docker</a><a href="/tags/helm/" style="font-size: 1.15em; color: rgb(101, 50, 82);">Helm</a><a href="/tags/runc/" style="font-size: 1.15em; color: rgb(50, 103, 50);">runc</a><a href="/tags/kustomize/" style="font-size: 1.15em; color: rgb(50, 97, 77);">Kustomize</a><a href="/tags/oci/" style="font-size: 1.15em; color: rgb(71, 108, 50);">OCI</a><a href="/tags/buildkit/" style="font-size: 1.15em; color: rgb(128, 180, 83);">BuildKit</a><a href="/tags/crane/" style="font-size: 1.15em; color: rgb(86, 94, 131);">crane</a><a href="/tags/oci-image/" style="font-size: 1.15em; color: rgb(170, 50, 54);">OCI Image</a><a href="/tags/oci-runtime/" style="font-size: 1.15em; color: rgb(87, 196, 116);">OCI Runtime</a><a href="/tags/linux-namespace/" style="font-size: 1.15em; color: rgb(161, 62, 50);">Linux Namespace</a><a href="/tags/linux-cgroup/" style="font-size: 1.15em; color: rgb(192, 125, 193);">Linux CGroup</a><a href="/tags/k8s-manifest/" style="font-size: 1.15em; color: rgb(69, 128, 95);">K8S Manifest</a><a href="/tags/infrastructure/" style="font-size: 1.34em; color: rgb(116, 118, 110);">Infrastructure</a><a href="/tags/architecture/" style="font-size: 1.36em; color: rgb(173, 60, 50);">Architecture</a><a href="/tags/iac/" style="font-size: 1.15em; color: rgb(166, 126, 53);">IaC</a><a href="/tags/terraform/" style="font-size: 1.15em; color: rgb(157, 168, 78);">Terraform</a><a href="/tags/crossplane/" style="font-size: 1.15em; color: rgb(50, 86, 50);">Crossplane</a><a href="/tags/pulumi/" style="font-size: 1.15em; color: rgb(137, 121, 150);">Pulumi</a><a href="/tags/argo-cd/" style="font-size: 1.15em; color: rgb(68, 91, 50);">Argo CD</a><a href="/tags/vpc/" style="font-size: 1.15em; color: rgb(157, 184, 196);">VPC</a><a href="/tags/go-core/" style="font-size: 1.19em; color: rgb(154, 50, 57);">Go Core</a><a href="/tags/go/" style="font-size: 1.41em; color: rgb(176, 112, 69);">Go</a><a href="/tags/cloud-native-foundation/" style="font-size: 1.38em; color: rgb(172, 80, 50);">Cloud Native Foundation</a><a href="/tags/go-engineering/" style="font-size: 1.39em; color: rgb(77, 111, 70);">Go Engineering</a><a href="/tags/swagger/" style="font-size: 1.15em; color: rgb(98, 185, 115);">Swagger</a></div></div><div class="card-widget card-archives">
    <div class="item-headline">
      <i class="fas fa-archive"></i>
      <span>Archives</span>
      <a class="card-more-btn" href="/archives/"
            title="View More">
            <i class="fas fa-angle-right"></i>
          </a>
    </div>
  
    <ul class="card-archive-list">
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2025/01/">
            <span class="card-archive-list-date">
              January 2025
            </span>
            <span class="card-archive-list-count">22</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2024/10/">
            <span class="card-archive-list-date">
              October 2024
            </span>
            <span class="card-archive-list-count">18</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2024/09/">
            <span class="card-archive-list-date">
              September 2024
            </span>
            <span class="card-archive-list-count">30</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2024/08/">
            <span class="card-archive-list-date">
              August 2024
            </span>
            <span class="card-archive-list-count">31</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2024/07/">
            <span class="card-archive-list-date">
              July 2024
            </span>
            <span class="card-archive-list-count">10</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2024/06/">
            <span class="card-archive-list-date">
              June 2024
            </span>
            <span class="card-archive-list-count">6</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2023/05/">
            <span class="card-archive-list-date">
              May 2023
            </span>
            <span class="card-archive-list-count">11</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2023/04/">
            <span class="card-archive-list-date">
              April 2023
            </span>
            <span class="card-archive-list-count">1</span>
          </a>
        </li>
      
    </ul>
  </div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Website Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article Count :</div><div class="item-count">640</div></div><div class="webinfo-item"><div class="item-name">Total Word Count :</div><div class="item-count">1248.4k</div></div><div class="webinfo-item"><div class="item-name">Last Update :</div><div class="item-count" id="last-push-date" data-lastPushDate="2025-11-08T09:37:54.968Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2015 - 2025 By zhongmingmao</span></div><div class="footer_custom_text">Life is like a box of chocolates. You can't know what you'll eat until you open it.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="Toggle Between Traditional and Simplified Chinese">繁</button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><div class="js-pjax"><script>window.typedJSFn = {
  init: str => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: subtitleType => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        btf.getScript('https://cdn.jsdelivr.net/npm/typed.js/dist/typed.umd.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  },
  processSubtitle: (content, extraContents = []) => {
    if (true) {
      const sub = ["Stay hungry, stay foolish."].slice()

      if (extraContents.length > 0) {
        sub.unshift(...extraContents)
      }

      if (typeof content === 'string') {
        sub.unshift(content)
      } else if (Array.isArray(content)) {
        sub.unshift(...content)
      }

      sub.length > 0 && typedJSFn.init(sub)
    } else {
      document.getElementById('subtitle').textContent = typeof content === 'string' ? content :
        (Array.isArray(content) && content.length > 0 ? content[0] : '')
    }
  }
}
btf.addGlobalFn('pjaxSendOnce', () => { typed.destroy() }, 'typedDestroy')
</script><script>function subtitleType () {
  typedJSFn.processSubtitle(["Stay hungry, stay foolish."])
}
typedJSFn.run(subtitleType)</script><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = `%%{init:{ 'theme':'${theme}'}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (false) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script></div></body></html>