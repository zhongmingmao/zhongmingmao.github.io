<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>ByteCoding</title><meta name="author" content="zhongmingmao"><meta name="copyright" content="zhongmingmao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="Focus on Infrastructure">
<meta property="og:type" content="website">
<meta property="og:title" content="ByteCoding">
<meta property="og:url" content="https://blog.zhongmingmao.top/index.html">
<meta property="og:site_name" content="ByteCoding">
<meta property="og:description" content="Focus on Infrastructure">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png">
<meta property="article:author" content="zhongmingmao">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="shortcut icon" href="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="canonical" href="https://blog.zhongmingmao.top/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":512,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":256},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":32,"languages":{"author":"Author: zhongmingmao","link":"Link: ","source":"Source: ByteCoding","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ByteCoding',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-06-17 23:40:39'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ByteCoding" type="application/atom+xml">
</head><body><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">415</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">123</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">63</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://cdn.pixabay.com/photo/2022/10/16/13/53/early-morning-7525151_1280.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="ByteCoding"><span class="site-name">ByteCoding</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">ByteCoding</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2022/12/02/cloud-native-foundation-k8s-etcd/" title="Kubernetes - etcd"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/etcd-5874937.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - etcd"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/02/cloud-native-foundation-k8s-etcd/" title="Kubernetes - etcd">Kubernetes - etcd</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-12-01T16:06:25.000Z" title="Created 2022-12-02 00:06:25">2022-12-02</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/kubernetes/">Kubernetes</a></span></div><div class="content">概述
CoreOS 基于 Raft 开发的分布式 KV 存储，可用于服务发现、共享配置和一致性保障（Leader 选举、分布式锁）


A distributed, reliable key-value store for the most critical data of a distributed system




Key
Desc



KV 存储
将数据存储在分层组织的目录中，类似于标准的文件系统


监测变更
监测特定的 Key 或者目录以进行变更，并对值的更改做出反应


简单
curl: HTTP + JSON


安全
TLS 客户端证书认证，有一套完备的授权认证体系，但 Kubernetes 并没有使用


快速
单实例：1000 TPS、2000 QPS


可靠
使用 Raft 算法保证分布式一致性





主要功能


基本的 KV 存储 - Kubernetes 使用最多
监听机制
Key 的过期和续约机制，用于监控和服务发现
原生支持 Compare And Swap 和 Compare And Delete，用于 Leader 选举和分布式锁


KV 存储


KV 存储 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/12/01/cloud-native-foundation-k8s-architectural-principles/" title="Kubernetes - Architectural principles"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/BLOG-Kubernets-1024x536.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - Architectural principles"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/01/cloud-native-foundation-k8s-architectural-principles/" title="Kubernetes - Architectural principles">Kubernetes - Architectural principles</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-11-30T16:06:25.000Z" title="Created 2022-12-01 00:06:25">2022-12-01</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/kubernetes/">Kubernetes</a></span></div><div class="content">主要功能



基于容器的应用部署、维护和滚动升级
服务发现和负载均衡
跨机器和跨地区的集群调度
自动伸缩
无状态服务和有状态服务
插件机制保证扩展性

命令式 vs 声明式
YAML


命令式关注：如何做
声明式关注：做什么

核心对象
Kubernetes 的所有管理能力是构建在对象抽象的基础上




对象
描述



Node
计算节点的抽象


Namespace
资源隔离的基本单位


Pod
用来描述应用实例，最为核心的对象


Service
如何将应用发布为服务，本质上是负载均衡和域名服务的声明


核心架构
核心组件
Scheduler关注没有与 Node 绑定的 Pod，完成调度后，会将信息写入 etcd，而 kubelet 会监听到


Master


组件
描述



API Server
API 网关


Cluster Data Store
etcd：分布式 kv 存储，K8S 将所有 API 对象持久存储在 etcd


Controller Manager
处理集群日常任务的控制器：节点控制器、副本控制器等


Scheduler
监控新建的 Pods 并将其分配给 No ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/10/25/cloud-native-foundation-k8s-deployment/" title="Kubernetes - Deployment"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/Kubernetes-Deployments-Rolling-Update-Configuration.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - Deployment"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/25/cloud-native-foundation-k8s-deployment/" title="Kubernetes - Deployment">Kubernetes - Deployment</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-10-24T16:06:25.000Z" title="Created 2022-10-25 00:06:25">2022-10-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/kubernetes/">Kubernetes</a></span></div><div class="content">API1234567$ k api-resources --api-group=appsNAME                  SHORTNAMES   APIVERSION   NAMESPACED   KINDcontrollerrevisions                apps/v1      true         ControllerRevisiondaemonsets            ds           apps/v1      true         DaemonSetdeployments           deploy       apps/v1      true         Deploymentreplicasets           rs           apps/v1      true         ReplicaSetstatefulsets          sts          apps/v1      true         StatefulSet



YAML12345678910111213141516171819202 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/10/24/cloud-native-foundation-k8s-kubeadm/" title="Kubernetes - Kubeadm"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/7f93bb49-1080x675.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - Kubeadm"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/24/cloud-native-foundation-k8s-kubeadm/" title="Kubernetes - Kubeadm">Kubernetes - Kubeadm</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-10-23T16:06:25.000Z" title="Created 2022-10-24 00:06:25">2022-10-24</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/kubernetes/">Kubernetes</a></span></div><div class="content">架构


准备
修改主机名，Kubernetes 使用主机名来区分集群中的节点，不能重名





hostname
ip



master
mac-master
192.168.191.144


worker
mac-worker
192.168.191.146


123456789101112131415161718192021$ ip a1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00    inet 127.0.0.1/8 scope host lo       valid_lft forever preferred_lft forever    inet6 ::1/128 scope host       valid_lft forever preferred_lft forever2: ens160: &lt;BROADCAST,MUL ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/10/23/cloud-native-foundation-k8s-wp/" title="Kubernetes - An example"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/1604578891313.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - An example"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/23/cloud-native-foundation-k8s-wp/" title="Kubernetes - An example">Kubernetes - An example</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-10-22T16:06:25.000Z" title="Created 2022-10-23 00:06:25">2022-10-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/kubernetes/">Kubernetes</a></span></div><div class="content">架构


常见 API 对象
ConfigMap 和 Secret 只接受字符串类型


部署
MariaDBmaria-cm.yml12345678910apiVersion: v1kind: ConfigMapmetadata:  name: maria-cmdata:  DATABASE: &#x27;db&#x27;  USER: &#x27;wp&#x27;  PASSWORD: &#x27;123&#x27;  ROOT_PASSWORD: &#x27;123&#x27;


envFrom - 更简洁

maria-pod.yml12345678910111213141516171819apiVersion: v1kind: Podmetadata:  name: maria-pod  labels:    app: wordpress    role: databasespec:  containers:  - name: maria    image: mariadb:10    imagePullPolicy: IfNotPresent    ports:    - containerPo ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/10/22/cloud-native-foundation-k8s-cm-secret/" title="Kubernetes - ConfigMap + Secret"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/liwxn86e6gpynt9jk6fy.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - ConfigMap + Secret"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/22/cloud-native-foundation-k8s-cm-secret/" title="Kubernetes - ConfigMap + Secret">Kubernetes - ConfigMap + Secret</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-10-21T16:06:25.000Z" title="Created 2022-10-22 00:06:25">2022-10-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/kubernetes/">Kubernetes</a></span></div><div class="content">定义ConfigMap
明文配置

12345678$ k create cm info --from-literal=name=zhongmingmao --dry-run=client -oyamlapiVersion: v1data:  name: zhongmingmaokind: ConfigMapmetadata:  creationTimestamp: null  name: info


ConfigMap 没有 spec，因为 ConfigMap 存储的是配置数据，并不是容器，因此没有运行时规格




ConfigMap 里的数据都是 Key-Value 结构

cm.yml12345678910apiVersion: v1kind: ConfigMapmetadata:  name: infodata:  name: zhongmingmao  city: guangzhou  greeting: |    hello kubernetes!

123456789101112131415161718192021222324252627282930$ k apply -f cm.ymlco ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/10/21/cloud-computing-serverless/" title="Cloud Computing - Serverless"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cloud-computing-1253868755.cos.ap-guangzhou.myqcloud.com/serverless.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Cloud Computing - Serverless"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/21/cloud-computing-serverless/" title="Cloud Computing - Serverless">Cloud Computing - Serverless</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-10-20T16:06:25.000Z" title="Created 2022-10-21 00:06:25">2022-10-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-computing/">Cloud Computing</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-computing/paas/">PaaS</a></span></div><div class="content">Serverless vs Container
Serverless 是云计算中资源抽象的极致体现：用户专注于业务逻辑，而无需关注基础设施


Container
给予了用户很大的定制空间，按需对应用进行拆分和封装


Serverless
完全屏蔽了计算资源，引导用户不再关注基础设施，只需遵循标准的方式编写业务代码即可
更细的拆分粒度
FaaS：将每一个具有独立功能的函数，作为一个单独的服务进行部署和运行







计费机制
底层没有固化的资源，一般会按照调用次数和调用时长来计费，可以精确到毫秒
从成本上，非常适合那些偶尔触发、短时间运行的工作负载

事件模型
事件模型是 Serverless 的核心编程模型和运行逻辑，非常适合基于事件驱动的开发场景


上游：触发器
Serverless 一般都会提供多种触发器：API 触发器、OSS 触发器、MQ 触发器、定时触发器等


下游
在函数内访问其他云服务（如 RDS、MQ 等外部存储）
Serverless Computing 本身是无状态的，所有持久化需求都需要借助外部存储来实现


架构范式
FaaS + MQ：关注数据流，是数据的传递和流向
当  ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/10/20/cloud-computing-container/" title="Cloud Computing - Container"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cloud-computing-1253868755.cos.ap-guangzhou.myqcloud.com/Xoriant-Modern-Container-Orchestration-Platform.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Cloud Computing - Container"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/20/cloud-computing-container/" title="Cloud Computing - Container">Cloud Computing - Container</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-10-19T16:06:25.000Z" title="Created 2022-10-20 00:06:25">2022-10-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-computing/">Cloud Computing</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-computing/paas/">PaaS</a></span></div><div class="content">历史
相辅相成：云承载着容器的运行，容器生态驱动着云的发展


初期的首要目标：Docker 容器在云上能够顺畅运行
帮助用户创建底层虚拟机集群，免去用户自己手动管理虚拟机的麻烦


随着容器应用的复杂化，容器编排成为了用户最迫切的需求
Kubernetes 赢得了编排框架大战，成为了事实标准





自建 vs 托管
由于云端的多租户特性，云平台会统一提供和托管 Master 节点，降低运维成本
只需要创建 Worker 节点，并为之付费即可


Kubernetes 的抽象设计非常出色，能够支持大量灵活的扩展
云厂商会让尽量多的 IaaS 和 PaaS 功能组件，渗透到 Kubernetes 的体系中
Cloud Service Operator
通过云服务来扩展 Kubernetes 的能力，并反过来使用 Kubernetes 来管理这些云服务
成熟：容器和云一体化架构




多集群
降低了建立 Kubernetes 集群的门槛，如果业务关联较小，可以为不同的业务创建单独的 Kubernetes 集群



全托管
容器服务实例，无需关心底层基础设施


适合场景：只有一个容器镜像，且为无状态，只想 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/10/19/cloud-computing-cloud-database/" title="Cloud Computing - Cloud database"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cloud-computing-1253868755.cos.ap-guangzhou.myqcloud.com/Cloud-Database-vs-Traditional-Database.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Cloud Computing - Cloud database"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/19/cloud-computing-cloud-database/" title="Cloud Computing - Cloud database">Cloud Computing - Cloud database</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-10-18T16:06:25.000Z" title="Created 2022-10-19 00:06:25">2022-10-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-computing/">Cloud Computing</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-computing/paas/">PaaS</a></span></div><div class="content">RDS
Relational Database Service


一般针对每个数据库引擎，都会有对应的服务：RDS for MySQL、RDS for PostgreSQL
同一个数据库按照不同的版本，会有比较严格的分支选项，在创建时指定




RDS vs 传统关系型数据库


编程接口 + 使用体验：几乎完全一致
云厂商会把功能、内部机制完整地保留下来，获得最大程度的兼容性


运维（开箱即用）：智能化 + 自动化
读写分离
自动调优：自动发现性能热点，智能给出调整建议



云原生数据库
完全为云设计、充分发挥云的特点和优势


出于生态发展和降低学习难度的需要，绝大多数的云原生数据库仍然保留了 SQL 接口
不同领域的云原生数据库：关系型、键值型、文档型、图数据库、分析型
优势
更强的可扩展性
计算：可以利用云快速进行水平扩展
存储：基于原生设计的计算存储分离架构，可以支撑更大规模的数据量


更高的可用性和可靠性
原生机制：默认多副本高可用
基于原生数据同步机制的底层设计，可以方便地支持跨区域的实例复制（增强冗余 + 就近服务用户）


支持多种数据模型
兼容关系型数据库后，针对不同场景，推出不 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/10/18/cloud-computing-object-storage/" title="Cloud Computing - Object storage"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cloud-computing-1253868755.cos.ap-guangzhou.myqcloud.com/image-20230602173229918.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Cloud Computing - Object storage"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/18/cloud-computing-object-storage/" title="Cloud Computing - Object storage">Cloud Computing - Object storage</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-10-17T16:06:25.000Z" title="Created 2022-10-18 00:06:25">2022-10-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-computing/">Cloud Computing</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-computing/paas/">PaaS</a></span></div><div class="content">概述
对象：任意二进制文件，包括结构化和非结构化的数据，可随时执行：上传、下载、修改、删除



对象存储 vs 云硬盘
访问接口和形式


云硬盘是挂载到虚拟机的虚拟硬盘，是通过实现 OS 的底层接口，作为虚拟机的块存储设备而存在
必须连接到相关的虚拟机，才能访问到云硬盘里面的数据


对象存储，本质上是一个网络化的服务，调用方主要通过高层的 API 或者 SDK 来和它进行交互
提供类似 HTTP 的网络接口来实现，独立性很强
S3FS 和 OSSFS 等工具可以通过模拟磁盘（基于对象存储的 API ）并挂载到虚拟机
并没有改变对象存储是网络化服务的本质




云硬盘位于 IaaS 层，而对象存储位于 PaaS 层


KV 系统  vs 文件系统


Key 为存储对象的路径，Value 为存储对象的二进制文件
文件系统保存了更多的元数据（如：实现目录结构和目录操作），KV 系统的目录是通过共享前缀路径来模拟的
KV 系统的优劣
简化了对象存储的逻辑和设计，云厂商可以更聚焦于对象存储的分布式架构和服务高可用上
但对象存储中的&quot;目录&quot;操作的代价变高了
目录删除&#x2F;重命名：需要 ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/42/#content-inner">42</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">zhongmingmao</div><div class="author-info__description">Focus on Infrastructure.</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">415</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">123</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">63</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Things are always unexpected!</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/12/02/cloud-native-foundation-k8s-etcd/" title="Kubernetes - etcd"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/etcd-5874937.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - etcd"/></a><div class="content"><a class="title" href="/2022/12/02/cloud-native-foundation-k8s-etcd/" title="Kubernetes - etcd">Kubernetes - etcd</a><time datetime="2022-12-01T16:06:25.000Z" title="Created 2022-12-02 00:06:25">2022-12-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/12/01/cloud-native-foundation-k8s-architectural-principles/" title="Kubernetes - Architectural principles"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/BLOG-Kubernets-1024x536.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - Architectural principles"/></a><div class="content"><a class="title" href="/2022/12/01/cloud-native-foundation-k8s-architectural-principles/" title="Kubernetes - Architectural principles">Kubernetes - Architectural principles</a><time datetime="2022-11-30T16:06:25.000Z" title="Created 2022-12-01 00:06:25">2022-12-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/25/cloud-native-foundation-k8s-deployment/" title="Kubernetes - Deployment"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/Kubernetes-Deployments-Rolling-Update-Configuration.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - Deployment"/></a><div class="content"><a class="title" href="/2022/10/25/cloud-native-foundation-k8s-deployment/" title="Kubernetes - Deployment">Kubernetes - Deployment</a><time datetime="2022-10-24T16:06:25.000Z" title="Created 2022-10-25 00:06:25">2022-10-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/24/cloud-native-foundation-k8s-kubeadm/" title="Kubernetes - Kubeadm"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/7f93bb49-1080x675.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - Kubeadm"/></a><div class="content"><a class="title" href="/2022/10/24/cloud-native-foundation-k8s-kubeadm/" title="Kubernetes - Kubeadm">Kubernetes - Kubeadm</a><time datetime="2022-10-23T16:06:25.000Z" title="Created 2022-10-24 00:06:25">2022-10-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/23/cloud-native-foundation-k8s-wp/" title="Kubernetes - An example"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/1604578891313.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - An example"/></a><div class="content"><a class="title" href="/2022/10/23/cloud-native-foundation-k8s-wp/" title="Kubernetes - An example">Kubernetes - An example</a><time datetime="2022-10-22T16:06:25.000Z" title="Created 2022-10-23 00:06:25">2022-10-23</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            <a class="card-more-btn" href="/categories/" title="More">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/career/"><span class="card-category-list-name">Career</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/"><span class="card-category-list-name">Cloud Computing</span><span class="card-category-list-count">10</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/iaas/"><span class="card-category-list-name">IaaS</span><span class="card-category-list-count">5</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/paas/"><span class="card-category-list-name">PaaS</span><span class="card-category-list-count">5</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/"><span class="card-category-list-name">Cloud Native</span><span class="card-category-list-count">85</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/cloud-native-foundation/"><span class="card-category-list-name">Cloud Native Foundation</span><span class="card-category-list-count">59</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/cloud-native-foundation/container/"><span class="card-category-list-name">Container</span><span class="card-category-list-count">2</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/cloud-native-foundation/container/docker/"><span class="card-category-list-name">Docker</span><span class="card-category-list-count">2</span></a></li></ul></li></ul></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/cloud-computing/" style="font-size: 1.25em; color: rgb(76, 123, 16)">Cloud Computing</a><a href="/tags/paas/" style="font-size: 1.2em; color: rgb(180, 108, 186)">PaaS</a><a href="/tags/iaas/" style="font-size: 1.2em; color: rgb(147, 105, 192)">IaaS</a><a href="/tags/cloud-native/" style="font-size: 1.44em; color: rgb(70, 153, 53)">Cloud Native</a><a href="/tags/container/" style="font-size: 1.28em; color: rgb(196, 54, 186)">Container</a><a href="/tags/docker/" style="font-size: 1.31em; color: rgb(158, 22, 92)">Docker</a><a href="/tags/go-core/" style="font-size: 1.17em; color: rgb(171, 141, 198)">Go Core</a><a href="/tags/go/" style="font-size: 1.34em; color: rgb(40, 129, 85)">Go</a><a href="/tags/go-engineering/" style="font-size: 1.32em; color: rgb(116, 68, 87)">Go Engineering</a><a href="/tags/rpc/" style="font-size: 1.16em; color: rgb(31, 43, 58)">RPC</a><a href="/tags/grpc/" style="font-size: 1.15em; color: rgb(42, 38, 89)">gRPC</a><a href="/tags/network/" style="font-size: 1.16em; color: rgb(12, 75, 166)">Network</a><a href="/tags/kubernetes/" style="font-size: 1.4em; color: rgb(20, 32, 180)">Kubernetes</a><a href="/tags/dockerfile/" style="font-size: 1.17em; color: rgb(154, 149, 12)">Dockerfile</a><a href="/tags/microservices/" style="font-size: 1.31em; color: rgb(18, 138, 32)">Microservices</a><a href="/tags/spring-cloud/" style="font-size: 1.22em; color: rgb(74, 106, 195)">Spring Cloud</a><a href="/tags/spring/" style="font-size: 1.26em; color: rgb(87, 46, 129)">Spring</a><a href="/tags/java/" style="font-size: 1.45em; color: rgb(83, 104, 169)">Java</a><a href="/tags/service-governance/" style="font-size: 1.17em; color: rgb(190, 128, 143)">Service Governance</a><a href="/tags/alibaba/" style="font-size: 1.23em; color: rgb(159, 141, 176)">Alibaba</a><a href="/tags/security/" style="font-size: 1.29em; color: rgb(72, 35, 188)">Security</a><a href="/tags/compliance/" style="font-size: 1.17em; color: rgb(146, 184, 111)">Compliance</a><a href="/tags/opa/" style="font-size: 1.17em; color: rgb(74, 149, 46)">OPA</a><a href="/tags/computer-basics/" style="font-size: 1.35em; color: rgb(95, 193, 40)">Computer Basics</a><a href="/tags/computer-organization/" style="font-size: 1.35em; color: rgb(168, 67, 159)">Computer Organization</a><a href="/tags/knowledge-map/" style="font-size: 1.15em; color: rgb(79, 183, 85)">Knowledge Map</a><a href="/tags/architecture/" style="font-size: 1.29em; color: rgb(165, 48, 126)">Architecture</a><a href="/tags/devops/" style="font-size: 1.15em; color: rgb(34, 57, 161)">DevOps</a><a href="/tags/tool/" style="font-size: 1.25em; color: rgb(147, 31, 84)">Tool</a><a href="/tags/git/" style="font-size: 1.25em; color: rgb(131, 33, 185)">Git</a><a href="/tags/infrastructure/" style="font-size: 1.28em; color: rgb(148, 157, 26)">Infrastructure</a><a href="/tags/authentication/" style="font-size: 1.17em; color: rgb(103, 143, 180)">Authentication</a><a href="/tags/ldap/" style="font-size: 1.15em; color: rgb(107, 159, 148)">LDAP</a><a href="/tags/oauth-2-0/" style="font-size: 1.22em; color: rgb(18, 164, 67)">OAuth 2.0</a><a href="/tags/storage/" style="font-size: 1.41em; color: rgb(63, 163, 45)">Storage</a><a href="/tags/mysql/" style="font-size: 1.43em; color: rgb(65, 180, 33)">MySQL</a><a href="/tags/innodb/" style="font-size: 1.21em; color: rgb(18, 136, 60)">InnoDB</a><a href="/tags/java-concurrent/" style="font-size: 1.38em; color: rgb(43, 35, 157)">Java Concurrent</a><a href="/tags/actor/" style="font-size: 1.15em; color: rgb(100, 164, 162)">Actor</a><a href="/tags/akka/" style="font-size: 1.15em; color: rgb(100, 19, 84)">Akka</a><a href="/tags/coroutine/" style="font-size: 1.16em; color: rgb(166, 91, 4)">Coroutine</a><a href="/tags/csp/" style="font-size: 1.15em; color: rgb(75, 110, 83)">CSP</a><a href="/tags/disruptor/" style="font-size: 1.15em; color: rgb(103, 188, 18)">Disruptor</a><a href="/tags/netty/" style="font-size: 1.15em; color: rgb(105, 15, 28)">Netty</a><a href="/tags/stm/" style="font-size: 1.15em; color: rgb(110, 96, 23)">STM</a><a href="/tags/mvcc/" style="font-size: 1.15em; color: rgb(80, 13, 36)">MVCC</a><a href="/tags/java-core/" style="font-size: 1.22em; color: rgb(17, 40, 74)">Java Core</a><a href="/tags/java-performance/" style="font-size: 1.33em; color: rgb(60, 180, 168)">Java Performance</a><a href="/tags/cas/" style="font-size: 1.15em; color: rgb(143, 147, 151)">CAS</a><a href="/tags/hashtable/" style="font-size: 1.15em; color: rgb(156, 116, 175)">HashTable</a><a href="/tags/concurrenthashmap/" style="font-size: 1.15em; color: rgb(18, 134, 108)">ConcurrentHashMap</a><a href="/tags/concurrentskiplistmap/" style="font-size: 1.15em; color: rgb(140, 100, 147)">ConcurrentSkipListMap</a><a href="/tags/design-pattern/" style="font-size: 1.19em; color: rgb(74, 125, 17)">Design Pattern</a><a href="/tags/consistency/" style="font-size: 1.15em; color: rgb(112, 4, 56)">Consistency</a><a href="/tags/jvm/" style="font-size: 1.37em; color: rgb(101, 30, 198)">JVM</a><a href="/tags/gc/" style="font-size: 1.16em; color: rgb(45, 92, 66)">GC</a><a href="/tags/hashmap/" style="font-size: 1.15em; color: rgb(108, 26, 161)">HashMap</a><a href="/tags/io/" style="font-size: 1.15em; color: rgb(49, 16, 13)">IO</a><a href="/tags/nio/" style="font-size: 1.16em; color: rgb(16, 20, 136)">NIO</a><a href="/tags/aio/" style="font-size: 1.16em; color: rgb(40, 48, 149)">AIO</a><a href="/tags/epoll/" style="font-size: 1.16em; color: rgb(108, 11, 84)">Epoll</a><a href="/tags/jit/" style="font-size: 1.15em; color: rgb(87, 111, 160)">JIT</a><a href="/tags/synchronized/" style="font-size: 1.16em; color: rgb(198, 133, 82)">synchronized</a><a href="/tags/lock/" style="font-size: 1.15em; color: rgb(81, 46, 197)">Lock</a><a href="/tags/reentrantreadwritelock/" style="font-size: 1.15em; color: rgb(187, 88, 139)">ReentrantReadWriteLock</a><a href="/tags/stampedlock/" style="font-size: 1.15em; color: rgb(132, 39, 95)">StampedLock</a><a href="/tags/serialization/" style="font-size: 1.15em; color: rgb(135, 135, 76)">Serialization</a><a href="/tags/protobuf/" style="font-size: 1.15em; color: rgb(65, 192, 117)">ProtoBuf</a><a href="/tags/mark-word/" style="font-size: 1.15em; color: rgb(112, 123, 149)">Mark Word</a><a href="/tags/monitor/" style="font-size: 1.15em; color: rgb(159, 67, 190)">Monitor</a><a href="/tags/context-switch/" style="font-size: 1.15em; color: rgb(86, 160, 72)">Context Switch</a><a href="/tags/java-stream/" style="font-size: 1.15em; color: rgb(111, 76, 89)">Java Stream</a><a href="/tags/thread-pool/" style="font-size: 1.15em; color: rgb(116, 30, 151)">Thread Pool</a><a href="/tags/lambda/" style="font-size: 1.15em; color: rgb(182, 125, 2)">Lambda</a><a href="/tags/bytecode-manipulation/" style="font-size: 1.17em; color: rgb(144, 107, 167)">Bytecode Manipulation</a><a href="/tags/asm/" style="font-size: 1.15em; color: rgb(167, 12, 92)">ASM</a><a href="/tags/jol/" style="font-size: 1.17em; color: rgb(4, 87, 101)">JOL</a><a href="/tags/middleware/" style="font-size: 1.39em; color: rgb(110, 160, 17)">Middleware</a><a href="/tags/mq/" style="font-size: 1.39em; color: rgb(59, 184, 131)">MQ</a><a href="/tags/kafka/" style="font-size: 1.39em; color: rgb(75, 63, 7)">Kafka</a><a href="/tags/stream/" style="font-size: 1.39em; color: rgb(70, 55, 74)">Stream</a><a href="/tags/rebalance/" style="font-size: 1.17em; color: rgb(115, 27, 117)">Rebalance</a><a href="/tags/avro/" style="font-size: 1.19em; color: rgb(27, 41, 189)">Avro</a><a href="/tags/compression/" style="font-size: 1.15em; color: rgb(76, 98, 163)">Compression</a><a href="/tags/consumer-group/" style="font-size: 1.15em; color: rgb(113, 85, 69)">Consumer Group</a><a href="/tags/tcp/" style="font-size: 1.16em; color: rgb(124, 176, 83)">TCP</a><a href="/tags/idempotence/" style="font-size: 1.15em; color: rgb(50, 38, 188)">Idempotence</a><a href="/tags/producer/" style="font-size: 1.15em; color: rgb(104, 175, 25)">Producer</a><a href="/tags/load-balance/" style="font-size: 1.15em; color: rgb(98, 148, 16)">Load Balance</a><a href="/tags/distributed-architecture/" style="font-size: 1.15em; color: rgb(130, 114, 28)">Distributed Architecture</a><a href="/tags/distributed-design-pattern/" style="font-size: 1.17em; color: rgb(27, 89, 118)">Distributed Design Pattern</a><a href="/tags/career/" style="font-size: 1.15em; color: rgb(188, 26, 186)">Career</a><a href="/tags/linux/" style="font-size: 1.29em; color: rgb(19, 93, 26)">Linux</a><a href="/tags/linux-performance/" style="font-size: 1.17em; color: rgb(175, 114, 0)">Linux Performance</a><a href="/tags/linux-practice/" style="font-size: 1.27em; color: rgb(177, 111, 163)">Linux Practice</a><a href="/tags/ext4/" style="font-size: 1.15em; color: rgb(157, 189, 145)">ext4</a><a href="/tags/file-system/" style="font-size: 1.15em; color: rgb(6, 63, 4)">File System</a><a href="/tags/math/" style="font-size: 1.16em; color: rgb(168, 174, 153)">Math</a><a href="/tags/microservices-governance/" style="font-size: 1.23em; color: rgb(177, 94, 26)">Microservices Governance</a><a href="/tags/config/" style="font-size: 1.17em; color: rgb(109, 58, 103)">Config</a><a href="/tags/configuration-center/" style="font-size: 1.17em; color: rgb(11, 111, 34)">Configuration Center</a><a href="/tags/apollo/" style="font-size: 1.17em; color: rgb(172, 38, 191)">Apollo</a><a href="/tags/oauth2/" style="font-size: 1.21em; color: rgb(190, 3, 175)">Oauth2</a><a href="/tags/spring-security/" style="font-size: 1.2em; color: rgb(110, 101, 198)">Spring Security</a><a href="/tags/spring-security-oauth2/" style="font-size: 1.2em; color: rgb(9, 65, 114)">Spring Security OAuth2</a><a href="/tags/vim/" style="font-size: 1.21em; color: rgb(10, 86, 180)">Vim</a><a href="/tags/web/" style="font-size: 1.22em; color: rgb(62, 20, 67)">Web</a><a href="/tags/javascript/" style="font-size: 1.2em; color: rgb(154, 24, 56)">JavaScript</a><a href="/tags/zookeeper/" style="font-size: 1.16em; color: rgb(156, 176, 49)">Zookeeper</a><a href="/tags/distributed-lock/" style="font-size: 1.15em; color: rgb(145, 149, 65)">Distributed Lock</a><a href="/tags/jwt/" style="font-size: 1.15em; color: rgb(160, 79, 77)">JWT</a><a href="/tags/bio/" style="font-size: 1.15em; color: rgb(32, 22, 140)">BIO</a><a href="/tags/tomcat/" style="font-size: 1.15em; color: rgb(2, 128, 150)">Tomcat</a><a href="/tags/select/" style="font-size: 1.15em; color: rgb(193, 81, 48)">Select</a><a href="/tags/poll/" style="font-size: 1.15em; color: rgb(11, 53, 74)">Poll</a><a href="/tags/zero-copy/" style="font-size: 1.15em; color: rgb(111, 53, 168)">Zero Copy</a><a href="/tags/mmap/" style="font-size: 1.15em; color: rgb(7, 129, 34)">mmap</a><a href="/tags/reactor/" style="font-size: 1.15em; color: rgb(108, 176, 56)">Reactor</a><a href="/tags/zab/" style="font-size: 1.15em; color: rgb(127, 52, 142)">ZAB</a><a href="/tags/cloud-native-foundation/" style="font-size: 1.17em; color: rgb(110, 136, 46)">Cloud Native Foundation</a><a href="/tags/etcd/" style="font-size: 1.15em; color: rgb(180, 74, 7)">etcd</a><a href="/tags/raft/" style="font-size: 1.15em; color: rgb(134, 116, 26)">raft</a><a href="/tags/performance-tuning/" style="font-size: 1.15em; color: rgb(156, 29, 44)">Performance Tuning</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span><a class="card-more-btn" href="/archives/" title="More">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/12/"><span class="card-archive-list-date">December 2022</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/10/"><span class="card-archive-list-date">October 2022</span><span class="card-archive-list-count">25</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/09/"><span class="card-archive-list-date">September 2022</span><span class="card-archive-list-count">15</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/07/"><span class="card-archive-list-date">July 2022</span><span class="card-archive-list-count">18</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/05/"><span class="card-archive-list-date">May 2022</span><span class="card-archive-list-count">15</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">April 2022</span><span class="card-archive-list-count">9</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">March 2022</span><span class="card-archive-list-count">13</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/02/"><span class="card-archive-list-date">February 2022</span><span class="card-archive-list-count">8</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">415</div></div><div class="webinfo-item"><div class="item-name">Run time :</div><div class="item-count" id="runtimeshow" data-publishDate="2015-06-30T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Total Count :</div><div class="item-count">632.5k</div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-06-17T15:40:37.017Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.pixabay.com/photo/2018/08/27/15/17/fishing-3635221_1280.png')"><div id="footer-wrap"><div class="copyright">&copy;2015 - 2023 By zhongmingmao</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Life is like a box of chocolates. You can't know what you'll eat until you open it.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["Stay hungry, stay foolish."])
  } else {
    document.getElementById("subtitle").innerHTML = 'Stay hungry, stay foolish.'
  }
}
typedJSFn.run(subtitleType)</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></body></html>