<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>ByteCoding</title><meta name="author" content="zhongmingmao"><meta name="copyright" content="zhongmingmao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="Focus on Infrastructure">
<meta property="og:type" content="website">
<meta property="og:title" content="ByteCoding">
<meta property="og:url" content="https://blog.zhongmingmao.top/index.html">
<meta property="og:site_name" content="ByteCoding">
<meta property="og:description" content="Focus on Infrastructure">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png">
<meta property="article:author" content="zhongmingmao">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="shortcut icon" href="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="canonical" href="https://blog.zhongmingmao.top/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":512,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":256},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":32,"languages":{"author":"Author: zhongmingmao","link":"Link: ","source":"Source: ByteCoding","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ByteCoding',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-06-16 23:38:37'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ByteCoding" type="application/atom+xml">
</head><body><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">412</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">123</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">63</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://cdn.pixabay.com/photo/2022/10/16/13/53/early-morning-7525151_1280.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="ByteCoding"><span class="site-name">ByteCoding</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">ByteCoding</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2022/12/02/cloud-native-foundation-k8s-etcd/" title="Kubernetes - etcd"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/etcd-5874937.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - etcd"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/02/cloud-native-foundation-k8s-etcd/" title="Kubernetes - etcd">Kubernetes - etcd</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-12-01T16:06:25.000Z" title="Created 2022-12-02 00:06:25">2022-12-02</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/kubernetes/">Kubernetes</a></span></div><div class="content">概述
CoreOS 基于 Raft 开发的分布式 KV 存储，可用于服务发现、共享配置和一致性保障（Leader 选举、分布式锁）


A distributed, reliable key-value store for the most critical data of a distributed system




Key
Desc



KV 存储
将数据存储在分层组织的目录中，类似于标准的文件系统


监测变更
监测特定的 Key 或者目录以进行变更，并对值的更改做出反应


简单
curl: HTTP + JSON


安全
TLS 客户端证书认证，有一套完备的授权认证体系，但 Kubernetes 并没有使用


快速
单实例：1000 TPS、2000 QPS


可靠
使用 Raft 算法保证分布式一致性





主要功能


基本的 KV 存储 - Kubernetes 使用最多
监听机制
Key 的过期和续约机制，用于监控和服务发现
原生支持 Compare And Swap 和 Compare And Delete，用于 Leader 选举和分布式锁


KV 存储


KV 存储 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/12/01/cloud-native-foundation-k8s-architectural-principles/" title="Kubernetes - Architectural principles"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/BLOG-Kubernets-1024x536.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - Architectural principles"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/12/01/cloud-native-foundation-k8s-architectural-principles/" title="Kubernetes - Architectural principles">Kubernetes - Architectural principles</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-11-30T16:06:25.000Z" title="Created 2022-12-01 00:06:25">2022-12-01</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/kubernetes/">Kubernetes</a></span></div><div class="content">主要功能



基于容器的应用部署、维护和滚动升级
服务发现和负载均衡
跨机器和跨地区的集群调度
自动伸缩
无状态服务和有状态服务
插件机制保证扩展性

命令式 vs 声明式
YAML


命令式关注：如何做
声明式关注：做什么

核心对象
Kubernetes 的所有管理能力是构建在对象抽象的基础上




对象
描述



Node
计算节点的抽象


Namespace
资源隔离的基本单位


Pod
用来描述应用实例，最为核心的对象


Service
如何将应用发布为服务，本质上是负载均衡和域名服务的声明


核心架构
核心组件
Scheduler关注没有与 Node 绑定的 Pod，完成调度后，会将信息写入 etcd，而 kubelet 会监听到


Master


组件
描述



API Server
API 网关


Cluster Data Store
etcd：分布式 kv 存储，K8S 将所有 API 对象持久存储在 etcd


Controller Manager
处理集群日常任务的控制器：节点控制器、副本控制器等


Scheduler
监控新建的 Pods 并将其分配给 No ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/10/22/cloud-native-foundation-k8s-cm-secret/" title="Kubernetes - ConfigMap + Secret"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/liwxn86e6gpynt9jk6fy.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - ConfigMap + Secret"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/22/cloud-native-foundation-k8s-cm-secret/" title="Kubernetes - ConfigMap + Secret">Kubernetes - ConfigMap + Secret</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-10-21T16:06:25.000Z" title="Created 2022-10-22 00:06:25">2022-10-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/kubernetes/">Kubernetes</a></span></div><div class="content">定义ConfigMap
明文配置

12345678$ k create cm info --from-literal=name=zhongmingmao --dry-run=client -oyamlapiVersion: v1data:  name: zhongmingmaokind: ConfigMapmetadata:  creationTimestamp: null  name: info


ConfigMap 没有 spec，因为 ConfigMap 存储的是配置数据，并不是容器，因此没有运行时规格




ConfigMap 里的数据都是 Key-Value 结构

cm.yml12345678910apiVersion: v1kind: ConfigMapmetadata:  name: infodata:  name: zhongmingmao  city: guangzhou  greeting: |    hello kubernetes!

123456789101112131415161718192021222324252627282930$ k apply -f cm.ymlco ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/10/21/cloud-computing-serverless/" title="Cloud Computing - Serverless"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cloud-computing-1253868755.cos.ap-guangzhou.myqcloud.com/serverless.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Cloud Computing - Serverless"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/21/cloud-computing-serverless/" title="Cloud Computing - Serverless">Cloud Computing - Serverless</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-10-20T16:06:25.000Z" title="Created 2022-10-21 00:06:25">2022-10-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-computing/">Cloud Computing</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-computing/paas/">PaaS</a></span></div><div class="content">Serverless vs Container
Serverless 是云计算中资源抽象的极致体现：用户专注于业务逻辑，而无需关注基础设施


Container
给予了用户很大的定制空间，按需对应用进行拆分和封装


Serverless
完全屏蔽了计算资源，引导用户不再关注基础设施，只需遵循标准的方式编写业务代码即可
更细的拆分粒度
FaaS：将每一个具有独立功能的函数，作为一个单独的服务进行部署和运行







计费机制
底层没有固化的资源，一般会按照调用次数和调用时长来计费，可以精确到毫秒
从成本上，非常适合那些偶尔触发、短时间运行的工作负载

事件模型
事件模型是 Serverless 的核心编程模型和运行逻辑，非常适合基于事件驱动的开发场景


上游：触发器
Serverless 一般都会提供多种触发器：API 触发器、OSS 触发器、MQ 触发器、定时触发器等


下游
在函数内访问其他云服务（如 RDS、MQ 等外部存储）
Serverless Computing 本身是无状态的，所有持久化需求都需要借助外部存储来实现


架构范式
FaaS + MQ：关注数据流，是数据的传递和流向
当  ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/10/20/cloud-computing-container/" title="Cloud Computing - Container"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cloud-computing-1253868755.cos.ap-guangzhou.myqcloud.com/Xoriant-Modern-Container-Orchestration-Platform.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Cloud Computing - Container"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/20/cloud-computing-container/" title="Cloud Computing - Container">Cloud Computing - Container</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-10-19T16:06:25.000Z" title="Created 2022-10-20 00:06:25">2022-10-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-computing/">Cloud Computing</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-computing/paas/">PaaS</a></span></div><div class="content">历史
相辅相成：云承载着容器的运行，容器生态驱动着云的发展


初期的首要目标：Docker 容器在云上能够顺畅运行
帮助用户创建底层虚拟机集群，免去用户自己手动管理虚拟机的麻烦


随着容器应用的复杂化，容器编排成为了用户最迫切的需求
Kubernetes 赢得了编排框架大战，成为了事实标准





自建 vs 托管
由于云端的多租户特性，云平台会统一提供和托管 Master 节点，降低运维成本
只需要创建 Worker 节点，并为之付费即可


Kubernetes 的抽象设计非常出色，能够支持大量灵活的扩展
云厂商会让尽量多的 IaaS 和 PaaS 功能组件，渗透到 Kubernetes 的体系中
Cloud Service Operator
通过云服务来扩展 Kubernetes 的能力，并反过来使用 Kubernetes 来管理这些云服务
成熟：容器和云一体化架构




多集群
降低了建立 Kubernetes 集群的门槛，如果业务关联较小，可以为不同的业务创建单独的 Kubernetes 集群



全托管
容器服务实例，无需关心底层基础设施


适合场景：只有一个容器镜像，且为无状态，只想 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/10/19/cloud-computing-cloud-database/" title="Cloud Computing - Cloud database"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cloud-computing-1253868755.cos.ap-guangzhou.myqcloud.com/Cloud-Database-vs-Traditional-Database.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Cloud Computing - Cloud database"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/19/cloud-computing-cloud-database/" title="Cloud Computing - Cloud database">Cloud Computing - Cloud database</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-10-18T16:06:25.000Z" title="Created 2022-10-19 00:06:25">2022-10-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-computing/">Cloud Computing</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-computing/paas/">PaaS</a></span></div><div class="content">RDS
Relational Database Service


一般针对每个数据库引擎，都会有对应的服务：RDS for MySQL、RDS for PostgreSQL
同一个数据库按照不同的版本，会有比较严格的分支选项，在创建时指定




RDS vs 传统关系型数据库


编程接口 + 使用体验：几乎完全一致
云厂商会把功能、内部机制完整地保留下来，获得最大程度的兼容性


运维（开箱即用）：智能化 + 自动化
读写分离
自动调优：自动发现性能热点，智能给出调整建议



云原生数据库
完全为云设计、充分发挥云的特点和优势


出于生态发展和降低学习难度的需要，绝大多数的云原生数据库仍然保留了 SQL 接口
不同领域的云原生数据库：关系型、键值型、文档型、图数据库、分析型
优势
更强的可扩展性
计算：可以利用云快速进行水平扩展
存储：基于原生设计的计算存储分离架构，可以支撑更大规模的数据量


更高的可用性和可靠性
原生机制：默认多副本高可用
基于原生数据同步机制的底层设计，可以方便地支持跨区域的实例复制（增强冗余 + 就近服务用户）


支持多种数据模型
兼容关系型数据库后，针对不同场景，推出不 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/10/18/cloud-computing-object-storage/" title="Cloud Computing - Object storage"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cloud-computing-1253868755.cos.ap-guangzhou.myqcloud.com/image-20230602173229918.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Cloud Computing - Object storage"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/18/cloud-computing-object-storage/" title="Cloud Computing - Object storage">Cloud Computing - Object storage</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-10-17T16:06:25.000Z" title="Created 2022-10-18 00:06:25">2022-10-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-computing/">Cloud Computing</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-computing/paas/">PaaS</a></span></div><div class="content">概述
对象：任意二进制文件，包括结构化和非结构化的数据，可随时执行：上传、下载、修改、删除



对象存储 vs 云硬盘
访问接口和形式


云硬盘是挂载到虚拟机的虚拟硬盘，是通过实现 OS 的底层接口，作为虚拟机的块存储设备而存在
必须连接到相关的虚拟机，才能访问到云硬盘里面的数据


对象存储，本质上是一个网络化的服务，调用方主要通过高层的 API 或者 SDK 来和它进行交互
提供类似 HTTP 的网络接口来实现，独立性很强
S3FS 和 OSSFS 等工具可以通过模拟磁盘（基于对象存储的 API ）并挂载到虚拟机
并没有改变对象存储是网络化服务的本质




云硬盘位于 IaaS 层，而对象存储位于 PaaS 层


KV 系统  vs 文件系统


Key 为存储对象的路径，Value 为存储对象的二进制文件
文件系统保存了更多的元数据（如：实现目录结构和目录操作），KV 系统的目录是通过共享前缀路径来模拟的
KV 系统的优劣
简化了对象存储的逻辑和设计，云厂商可以更聚焦于对象存储的分布式架构和服务高可用上
但对象存储中的&quot;目录&quot;操作的代价变高了
目录删除&#x2F;重命名：需要 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/10/17/cloud-computing-paas/" title="Cloud Computing - PaaS"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cloud-computing-1253868755.cos.ap-guangzhou.myqcloud.com/PAAS-cover-min.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Cloud Computing - PaaS"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/17/cloud-computing-paas/" title="Cloud Computing - PaaS">Cloud Computing - PaaS</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-10-16T16:06:25.000Z" title="Created 2022-10-17 00:06:25">2022-10-17</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-computing/">Cloud Computing</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-computing/paas/">PaaS</a></span></div><div class="content">概述
PaaS 在 IaaS 的基础上，构建了很多关键抽象和可复用的单元，让用户更聚焦业务



优势
PaaS 更符合云的初衷，代表了一种完全托管的理想主义，代表对研发生产力的极致追求
核心优势：生产力（搭建 + 运维）

维度
PaaS 服务是否带有内生的运行环境（Web 服务带有编程语言运行时、数据库服务带有 SQL 执行引擎）
PaaS 存在的位置和范围，以及开放给用户的控制粒度 – Region &#x2F; Availability zone &#x2F; VPC
PaaS 服务是否有状态（数据属性）
PaaS 服务的虚拟机是否对外暴露
暴露虚拟机的 PaaS 服务，拥有更高的开放程度，与 IaaS 的结合也更加紧密，成本更低
不暴露虚拟机的 PaaS 服务，拥有更好的独立性和封装性 – 数据库服务



权衡
PaaS 的核心理念在于封装：封装提升了效率，但牺牲了灵活性

</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/10/16/cloud-native-foundation-docker/" title="Cloud Native Foundation - Docker"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/docker/Docker-build.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Cloud Native Foundation - Docker"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/16/cloud-native-foundation-docker/" title="Cloud Native Foundation - Docker">Cloud Native Foundation - Docker</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-10-15T16:06:25.000Z" title="Created 2022-10-16 00:06:25">2022-10-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-native/">Cloud Native</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/">Cloud Native Foundation</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-native/cloud-native-foundation/docker/">Docker</a></span></div><div class="content">历史
基于 Linux 的 Namespace 、Cgroup和 Union FS，对进程进行封装隔离，属于 OS 层的虚拟化技术
Docker 最初的实现是基于 LXC
从 0.7 以后开始移除 LXC，而使用自研的 Libcontainer
从 1.11 开始，使用 runC 和 Containerd


Docker 在容器的基础上，进行进一步的封装，极大地简化容器的创建和维护



Docker vs VM



特性
Docker
VM



启动
秒级
分钟级


磁盘
MB
GB


性能
接近原生
弱于


数量
单机上千个容器
几十个


容器标准
OCI - Open Container Initiative




Key
Value



Image Specification
如何打包


Runtime Specification
如何解压应用包并运行


Distribution Specification
如何分发镜像


主要特性
隔离性（Namespace）、可配额（CGroup）、便携性（Union FS）、安全性

Namespace
Linux Namespace 是 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/10/15/cloud-computing-auto-scaling/" title="Cloud Computing - Auto scaling"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cloud-computing-1253868755.cos.ap-guangzhou.myqcloud.com/AutoScalingGraphic.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Cloud Computing - Auto scaling"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/10/15/cloud-computing-auto-scaling/" title="Cloud Computing - Auto scaling">Cloud Computing - Auto scaling</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2022-10-14T16:06:25.000Z" title="Created 2022-10-15 00:06:25">2022-10-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/cloud-computing/">Cloud Computing</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/cloud-computing/iaas/">IaaS</a></span></div><div class="content">Design for Failure
核心思路：冗余 + 快速切换


宿主机
保证多个虚拟机不在同一个宿主机上，甚至不处于同一个机架上
提供物理分散分布的能力：AWS（Placement Group）、Azure（Availability Set）、阿里云（部署集）


可用区 - IDC
多可用区的实例部署（VPC 支持跨可用区）


区域
多区架构层面的相关预案
互联网业务：通过 DNS 导流，将域名解析到另一个区域的备用服务，底层数据依赖日常的跨区域的实时同步


多云 - 避免厂商锁定



Auto scaling
应对工作负载洪峰 + 在低谷期显著降低成本

虚拟机编组
将功能相同的多个虚拟机，作为一个单位来创建、管理和伸缩


弹性伸缩服务
根据指定的数量和扩缩容的规则，动态地创建和销毁虚拟机实例，协调虚拟机的生命周期


负载均衡器 - SLB
将流量均匀地、或者按照一定权重或规则，分发到多台虚拟机上




弹性伸缩服务 + 负载均衡器：适合处理无状态类的计算需求

</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/42/#content-inner">42</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">zhongmingmao</div><div class="author-info__description">Focus on Infrastructure.</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">412</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">123</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">63</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Things are always unexpected!</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/12/02/cloud-native-foundation-k8s-etcd/" title="Kubernetes - etcd"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/etcd-5874937.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - etcd"/></a><div class="content"><a class="title" href="/2022/12/02/cloud-native-foundation-k8s-etcd/" title="Kubernetes - etcd">Kubernetes - etcd</a><time datetime="2022-12-01T16:06:25.000Z" title="Created 2022-12-02 00:06:25">2022-12-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/12/01/cloud-native-foundation-k8s-architectural-principles/" title="Kubernetes - Architectural principles"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/BLOG-Kubernets-1024x536.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - Architectural principles"/></a><div class="content"><a class="title" href="/2022/12/01/cloud-native-foundation-k8s-architectural-principles/" title="Kubernetes - Architectural principles">Kubernetes - Architectural principles</a><time datetime="2022-11-30T16:06:25.000Z" title="Created 2022-12-01 00:06:25">2022-12-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/22/cloud-native-foundation-k8s-cm-secret/" title="Kubernetes - ConfigMap + Secret"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cnf-1253868755.cos.ap-guangzhou.myqcloud.com/k8s/liwxn86e6gpynt9jk6fy.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes - ConfigMap + Secret"/></a><div class="content"><a class="title" href="/2022/10/22/cloud-native-foundation-k8s-cm-secret/" title="Kubernetes - ConfigMap + Secret">Kubernetes - ConfigMap + Secret</a><time datetime="2022-10-21T16:06:25.000Z" title="Created 2022-10-22 00:06:25">2022-10-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/21/cloud-computing-serverless/" title="Cloud Computing - Serverless"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cloud-computing-1253868755.cos.ap-guangzhou.myqcloud.com/serverless.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Cloud Computing - Serverless"/></a><div class="content"><a class="title" href="/2022/10/21/cloud-computing-serverless/" title="Cloud Computing - Serverless">Cloud Computing - Serverless</a><time datetime="2022-10-20T16:06:25.000Z" title="Created 2022-10-21 00:06:25">2022-10-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/20/cloud-computing-container/" title="Cloud Computing - Container"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cloud-computing-1253868755.cos.ap-guangzhou.myqcloud.com/Xoriant-Modern-Container-Orchestration-Platform.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Cloud Computing - Container"/></a><div class="content"><a class="title" href="/2022/10/20/cloud-computing-container/" title="Cloud Computing - Container">Cloud Computing - Container</a><time datetime="2022-10-19T16:06:25.000Z" title="Created 2022-10-20 00:06:25">2022-10-20</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            <a class="card-more-btn" href="/categories/" title="More">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/career/"><span class="card-category-list-name">Career</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/"><span class="card-category-list-name">Cloud Computing</span><span class="card-category-list-count">10</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/iaas/"><span class="card-category-list-name">IaaS</span><span class="card-category-list-count">5</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/paas/"><span class="card-category-list-name">PaaS</span><span class="card-category-list-count">5</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/"><span class="card-category-list-name">Cloud Native</span><span class="card-category-list-count">82</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/cloud-native-foundation/"><span class="card-category-list-name">Cloud Native Foundation</span><span class="card-category-list-count">56</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/cloud-native-foundation/container/"><span class="card-category-list-name">Container</span><span class="card-category-list-count">2</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-native/cloud-native-foundation/container/docker/"><span class="card-category-list-name">Docker</span><span class="card-category-list-count">2</span></a></li></ul></li></ul></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/cloud-computing/" style="font-size: 1.25em; color: rgb(74, 73, 19)">Cloud Computing</a><a href="/tags/iaas/" style="font-size: 1.2em; color: rgb(16, 126, 20)">IaaS</a><a href="/tags/paas/" style="font-size: 1.2em; color: rgb(66, 117, 12)">PaaS</a><a href="/tags/cloud-native/" style="font-size: 1.44em; color: rgb(1, 95, 43)">Cloud Native</a><a href="/tags/container/" style="font-size: 1.29em; color: rgb(34, 138, 62)">Container</a><a href="/tags/docker/" style="font-size: 1.31em; color: rgb(111, 155, 45)">Docker</a><a href="/tags/go-core/" style="font-size: 1.17em; color: rgb(188, 116, 15)">Go Core</a><a href="/tags/go/" style="font-size: 1.35em; color: rgb(50, 116, 176)">Go</a><a href="/tags/go-engineering/" style="font-size: 1.32em; color: rgb(62, 24, 165)">Go Engineering</a><a href="/tags/rpc/" style="font-size: 1.16em; color: rgb(74, 155, 77)">RPC</a><a href="/tags/grpc/" style="font-size: 1.15em; color: rgb(44, 88, 143)">gRPC</a><a href="/tags/network/" style="font-size: 1.16em; color: rgb(60, 92, 112)">Network</a><a href="/tags/kubernetes/" style="font-size: 1.39em; color: rgb(163, 183, 40)">Kubernetes</a><a href="/tags/dockerfile/" style="font-size: 1.17em; color: rgb(51, 198, 89)">Dockerfile</a><a href="/tags/microservices/" style="font-size: 1.31em; color: rgb(171, 131, 197)">Microservices</a><a href="/tags/spring-cloud/" style="font-size: 1.22em; color: rgb(146, 22, 13)">Spring Cloud</a><a href="/tags/spring/" style="font-size: 1.26em; color: rgb(56, 106, 130)">Spring</a><a href="/tags/java/" style="font-size: 1.45em; color: rgb(174, 197, 99)">Java</a><a href="/tags/service-governance/" style="font-size: 1.17em; color: rgb(6, 14, 137)">Service Governance</a><a href="/tags/alibaba/" style="font-size: 1.24em; color: rgb(128, 79, 91)">Alibaba</a><a href="/tags/security/" style="font-size: 1.3em; color: rgb(157, 181, 67)">Security</a><a href="/tags/compliance/" style="font-size: 1.17em; color: rgb(127, 101, 151)">Compliance</a><a href="/tags/opa/" style="font-size: 1.17em; color: rgb(50, 168, 183)">OPA</a><a href="/tags/computer-basics/" style="font-size: 1.36em; color: rgb(97, 197, 87)">Computer Basics</a><a href="/tags/computer-organization/" style="font-size: 1.36em; color: rgb(167, 60, 2)">Computer Organization</a><a href="/tags/knowledge-map/" style="font-size: 1.15em; color: rgb(195, 12, 141)">Knowledge Map</a><a href="/tags/architecture/" style="font-size: 1.3em; color: rgb(55, 177, 13)">Architecture</a><a href="/tags/devops/" style="font-size: 1.15em; color: rgb(172, 73, 5)">DevOps</a><a href="/tags/tool/" style="font-size: 1.25em; color: rgb(167, 180, 89)">Tool</a><a href="/tags/git/" style="font-size: 1.25em; color: rgb(39, 170, 94)">Git</a><a href="/tags/infrastructure/" style="font-size: 1.29em; color: rgb(20, 159, 156)">Infrastructure</a><a href="/tags/authentication/" style="font-size: 1.17em; color: rgb(28, 195, 137)">Authentication</a><a href="/tags/ldap/" style="font-size: 1.15em; color: rgb(96, 39, 140)">LDAP</a><a href="/tags/oauth-2-0/" style="font-size: 1.22em; color: rgb(186, 126, 119)">OAuth 2.0</a><a href="/tags/storage/" style="font-size: 1.41em; color: rgb(80, 138, 145)">Storage</a><a href="/tags/mysql/" style="font-size: 1.42em; color: rgb(192, 189, 139)">MySQL</a><a href="/tags/innodb/" style="font-size: 1.21em; color: rgb(1, 145, 50)">InnoDB</a><a href="/tags/java-concurrent/" style="font-size: 1.39em; color: rgb(180, 53, 110)">Java Concurrent</a><a href="/tags/actor/" style="font-size: 1.15em; color: rgb(149, 169, 131)">Actor</a><a href="/tags/akka/" style="font-size: 1.15em; color: rgb(49, 104, 99)">Akka</a><a href="/tags/coroutine/" style="font-size: 1.16em; color: rgb(51, 105, 120)">Coroutine</a><a href="/tags/csp/" style="font-size: 1.15em; color: rgb(91, 169, 75)">CSP</a><a href="/tags/disruptor/" style="font-size: 1.15em; color: rgb(70, 90, 82)">Disruptor</a><a href="/tags/netty/" style="font-size: 1.15em; color: rgb(123, 59, 115)">Netty</a><a href="/tags/stm/" style="font-size: 1.15em; color: rgb(12, 141, 163)">STM</a><a href="/tags/mvcc/" style="font-size: 1.15em; color: rgb(84, 153, 91)">MVCC</a><a href="/tags/java-core/" style="font-size: 1.22em; color: rgb(178, 156, 186)">Java Core</a><a href="/tags/java-performance/" style="font-size: 1.34em; color: rgb(58, 57, 161)">Java Performance</a><a href="/tags/cas/" style="font-size: 1.15em; color: rgb(63, 196, 154)">CAS</a><a href="/tags/hashtable/" style="font-size: 1.15em; color: rgb(80, 189, 166)">HashTable</a><a href="/tags/concurrenthashmap/" style="font-size: 1.15em; color: rgb(22, 117, 186)">ConcurrentHashMap</a><a href="/tags/concurrentskiplistmap/" style="font-size: 1.15em; color: rgb(43, 197, 179)">ConcurrentSkipListMap</a><a href="/tags/consistency/" style="font-size: 1.15em; color: rgb(50, 115, 194)">Consistency</a><a href="/tags/design-pattern/" style="font-size: 1.19em; color: rgb(168, 25, 150)">Design Pattern</a><a href="/tags/hashmap/" style="font-size: 1.15em; color: rgb(143, 47, 187)">HashMap</a><a href="/tags/jvm/" style="font-size: 1.38em; color: rgb(185, 148, 189)">JVM</a><a href="/tags/gc/" style="font-size: 1.16em; color: rgb(77, 76, 195)">GC</a><a href="/tags/jit/" style="font-size: 1.15em; color: rgb(123, 75, 44)">JIT</a><a href="/tags/io/" style="font-size: 1.15em; color: rgb(163, 81, 89)">IO</a><a href="/tags/nio/" style="font-size: 1.16em; color: rgb(144, 131, 161)">NIO</a><a href="/tags/aio/" style="font-size: 1.16em; color: rgb(9, 95, 28)">AIO</a><a href="/tags/epoll/" style="font-size: 1.16em; color: rgb(39, 161, 185)">Epoll</a><a href="/tags/synchronized/" style="font-size: 1.16em; color: rgb(141, 4, 40)">synchronized</a><a href="/tags/lock/" style="font-size: 1.15em; color: rgb(51, 116, 138)">Lock</a><a href="/tags/reentrantreadwritelock/" style="font-size: 1.15em; color: rgb(193, 26, 20)">ReentrantReadWriteLock</a><a href="/tags/stampedlock/" style="font-size: 1.15em; color: rgb(157, 52, 33)">StampedLock</a><a href="/tags/java-stream/" style="font-size: 1.15em; color: rgb(167, 10, 58)">Java Stream</a><a href="/tags/mark-word/" style="font-size: 1.15em; color: rgb(112, 142, 64)">Mark Word</a><a href="/tags/monitor/" style="font-size: 1.15em; color: rgb(8, 186, 158)">Monitor</a><a href="/tags/context-switch/" style="font-size: 1.15em; color: rgb(26, 35, 83)">Context Switch</a><a href="/tags/lambda/" style="font-size: 1.15em; color: rgb(28, 37, 78)">Lambda</a><a href="/tags/thread-pool/" style="font-size: 1.15em; color: rgb(195, 6, 167)">Thread Pool</a><a href="/tags/serialization/" style="font-size: 1.15em; color: rgb(162, 22, 140)">Serialization</a><a href="/tags/protobuf/" style="font-size: 1.15em; color: rgb(7, 177, 69)">ProtoBuf</a><a href="/tags/bytecode-manipulation/" style="font-size: 1.17em; color: rgb(198, 166, 98)">Bytecode Manipulation</a><a href="/tags/asm/" style="font-size: 1.15em; color: rgb(70, 20, 200)">ASM</a><a href="/tags/jol/" style="font-size: 1.17em; color: rgb(134, 62, 143)">JOL</a><a href="/tags/middleware/" style="font-size: 1.4em; color: rgb(147, 95, 125)">Middleware</a><a href="/tags/mq/" style="font-size: 1.4em; color: rgb(14, 115, 135)">MQ</a><a href="/tags/kafka/" style="font-size: 1.4em; color: rgb(122, 140, 129)">Kafka</a><a href="/tags/stream/" style="font-size: 1.4em; color: rgb(13, 75, 72)">Stream</a><a href="/tags/avro/" style="font-size: 1.19em; color: rgb(50, 101, 31)">Avro</a><a href="/tags/rebalance/" style="font-size: 1.17em; color: rgb(0, 54, 128)">Rebalance</a><a href="/tags/consumer-group/" style="font-size: 1.15em; color: rgb(120, 16, 197)">Consumer Group</a><a href="/tags/tcp/" style="font-size: 1.16em; color: rgb(98, 66, 196)">TCP</a><a href="/tags/compression/" style="font-size: 1.15em; color: rgb(189, 130, 69)">Compression</a><a href="/tags/idempotence/" style="font-size: 1.15em; color: rgb(175, 31, 101)">Idempotence</a><a href="/tags/producer/" style="font-size: 1.15em; color: rgb(58, 133, 8)">Producer</a><a href="/tags/load-balance/" style="font-size: 1.15em; color: rgb(86, 70, 87)">Load Balance</a><a href="/tags/distributed-design-pattern/" style="font-size: 1.17em; color: rgb(149, 99, 128)">Distributed Design Pattern</a><a href="/tags/distributed-architecture/" style="font-size: 1.15em; color: rgb(34, 159, 156)">Distributed Architecture</a><a href="/tags/career/" style="font-size: 1.15em; color: rgb(188, 145, 143)">Career</a><a href="/tags/linux/" style="font-size: 1.3em; color: rgb(7, 16, 87)">Linux</a><a href="/tags/linux-performance/" style="font-size: 1.17em; color: rgb(84, 43, 193)">Linux Performance</a><a href="/tags/linux-practice/" style="font-size: 1.27em; color: rgb(93, 54, 185)">Linux Practice</a><a href="/tags/ext4/" style="font-size: 1.15em; color: rgb(189, 124, 97)">ext4</a><a href="/tags/file-system/" style="font-size: 1.15em; color: rgb(74, 161, 112)">File System</a><a href="/tags/microservices-governance/" style="font-size: 1.24em; color: rgb(179, 91, 114)">Microservices Governance</a><a href="/tags/config/" style="font-size: 1.17em; color: rgb(153, 159, 85)">Config</a><a href="/tags/configuration-center/" style="font-size: 1.17em; color: rgb(139, 47, 140)">Configuration Center</a><a href="/tags/apollo/" style="font-size: 1.17em; color: rgb(106, 18, 54)">Apollo</a><a href="/tags/math/" style="font-size: 1.16em; color: rgb(19, 23, 130)">Math</a><a href="/tags/oauth2/" style="font-size: 1.21em; color: rgb(84, 105, 154)">Oauth2</a><a href="/tags/spring-security/" style="font-size: 1.2em; color: rgb(99, 128, 12)">Spring Security</a><a href="/tags/spring-security-oauth2/" style="font-size: 1.2em; color: rgb(148, 118, 116)">Spring Security OAuth2</a><a href="/tags/vim/" style="font-size: 1.21em; color: rgb(100, 176, 200)">Vim</a><a href="/tags/web/" style="font-size: 1.22em; color: rgb(157, 143, 156)">Web</a><a href="/tags/javascript/" style="font-size: 1.2em; color: rgb(20, 2, 148)">JavaScript</a><a href="/tags/zookeeper/" style="font-size: 1.16em; color: rgb(28, 147, 182)">Zookeeper</a><a href="/tags/distributed-lock/" style="font-size: 1.15em; color: rgb(196, 8, 46)">Distributed Lock</a><a href="/tags/jwt/" style="font-size: 1.15em; color: rgb(19, 158, 74)">JWT</a><a href="/tags/bio/" style="font-size: 1.15em; color: rgb(179, 70, 67)">BIO</a><a href="/tags/tomcat/" style="font-size: 1.15em; color: rgb(162, 43, 124)">Tomcat</a><a href="/tags/select/" style="font-size: 1.15em; color: rgb(168, 177, 127)">Select</a><a href="/tags/poll/" style="font-size: 1.15em; color: rgb(166, 78, 197)">Poll</a><a href="/tags/zero-copy/" style="font-size: 1.15em; color: rgb(111, 11, 140)">Zero Copy</a><a href="/tags/mmap/" style="font-size: 1.15em; color: rgb(113, 117, 76)">mmap</a><a href="/tags/reactor/" style="font-size: 1.15em; color: rgb(70, 40, 197)">Reactor</a><a href="/tags/zab/" style="font-size: 1.15em; color: rgb(21, 149, 127)">ZAB</a><a href="/tags/cloud-native-foundation/" style="font-size: 1.17em; color: rgb(152, 180, 119)">Cloud Native Foundation</a><a href="/tags/etcd/" style="font-size: 1.15em; color: rgb(190, 114, 155)">etcd</a><a href="/tags/raft/" style="font-size: 1.15em; color: rgb(117, 187, 171)">raft</a><a href="/tags/performance-tuning/" style="font-size: 1.15em; color: rgb(84, 146, 28)">Performance Tuning</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span><a class="card-more-btn" href="/archives/" title="More">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/12/"><span class="card-archive-list-date">December 2022</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/10/"><span class="card-archive-list-date">October 2022</span><span class="card-archive-list-count">22</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/09/"><span class="card-archive-list-date">September 2022</span><span class="card-archive-list-count">15</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/07/"><span class="card-archive-list-date">July 2022</span><span class="card-archive-list-count">18</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/05/"><span class="card-archive-list-date">May 2022</span><span class="card-archive-list-count">15</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">April 2022</span><span class="card-archive-list-count">9</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">March 2022</span><span class="card-archive-list-count">13</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/02/"><span class="card-archive-list-date">February 2022</span><span class="card-archive-list-count">8</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">412</div></div><div class="webinfo-item"><div class="item-name">Run time :</div><div class="item-count" id="runtimeshow" data-publishDate="2015-06-30T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Total Count :</div><div class="item-count">626.1k</div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-06-16T15:38:35.009Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.pixabay.com/photo/2018/08/27/15/17/fishing-3635221_1280.png')"><div id="footer-wrap"><div class="copyright">&copy;2015 - 2023 By zhongmingmao</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Life is like a box of chocolates. You can't know what you'll eat until you open it.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["Stay hungry, stay foolish."])
  } else {
    document.getElementById("subtitle").innerHTML = 'Stay hungry, stay foolish.'
  }
}
typedJSFn.run(subtitleType)</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></body></html>