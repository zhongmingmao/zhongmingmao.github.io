<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>ByteCoding</title><meta name="author" content="zhongmingmao"><meta name="copyright" content="zhongmingmao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="Focus on Infrastructure">
<meta property="og:type" content="website">
<meta property="og:title" content="ByteCoding">
<meta property="og:url" content="https://blog.zhongmingmao.top/index.html">
<meta property="og:site_name" content="ByteCoding">
<meta property="og:description" content="Focus on Infrastructure">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png">
<meta property="article:author" content="zhongmingmao">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="shortcut icon" href="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="canonical" href="https://blog.zhongmingmao.top/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":512,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":256},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":32,"languages":{"author":"Author: zhongmingmao","link":"Link: ","source":"Source: ByteCoding","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ByteCoding',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-11-19 00:36:49'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ByteCoding" type="application/atom+xml">
</head><body><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">592</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">184</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">75</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://cdn.pixabay.com/photo/2022/10/16/13/53/early-morning-7525151_1280.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="ByteCoding"><span class="site-name">ByteCoding</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">ByteCoding</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2024/09/22/bigdata-spark-flink/" title="Big Data - Spark + Flink"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-spark-flink.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Big Data - Spark + Flink"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/22/bigdata-spark-flink/" title="Big Data - Spark + Flink">Big Data - Spark + Flink</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-21T16:06:25.000Z" title="Created 2024-09-22 00:06:25">2024-09-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/big-data/">Big Data</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/big-data/spark/">Spark</a></span></div><div class="content">Spark 实时性
无论是 Spark Streaming 还是 Structured Streaming，Spark 流处理的实时性还不够
无法应对实时性要求很高的流处理场景


Spark 的流处理是基于微批处理的思想
把流处理看做批处理的一种特殊形式，没接收到一个时间间隔的数据才会去处理


虽然在 Spark 2.3 中提出连续处理模型，但只支持有限的功能，并不能在大项目中使用
要在流处理的实时性提升，就不能继续用微批处理的模式，而是有数据数据就立即处理，不做等待
Apache Flink 采用了基于操作符（Operator）的连续流模型，可以做到微秒级别的延迟





Flink模型
Flink 中最核心的数据结构是 Stream，代表一个运行在多个分区上的并行流
在 Stream 上可以进行各种转换（Transformation）操作
与 Spark RDD 不同的是，Stream 代表一个数据流而不是静态数据的集合
Stream 所包含的数据随着时间增长而变化的
而且 Stream 上的转换操作都是逐条进行的 - 每当有新数据进入，整个流程都会被执行并更新结果
Flink 比 Spark St ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/09/21/bigdata-spark-structured-streaming/" title="Spark - Structured Streaming"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-spark-structured-streaming.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spark - Structured Streaming"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/21/bigdata-spark-structured-streaming/" title="Spark - Structured Streaming">Spark - Structured Streaming</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-20T16:06:25.000Z" title="Created 2024-09-21 00:06:25">2024-09-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/big-data/">Big Data</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/big-data/spark/">Spark</a></span></div><div class="content">背景
Spark Streaming 将无边界的流数据抽象成 DStream
按特定的时间间隔，把数据流分割成一个个 RDD 进行批处理
DStream API 与 RDD API 高度相似，拥有 RDD 的各种性质


DataSet&#x2F;DataFrame
DataSet&#x2F;DataFrame 是高级 API，提供类似于 SQL 的查询接口，方便熟悉关系型数据库的开发人员使用
Spark SQL 执行引擎会自动优化 DataSet&#x2F;DataFrame 程序
用 RDD API 开发的程序本质上需要开发人员手工构造 RDD 的 DAG 执行图，依赖于手工优化




如果拥有 DataSet&#x2F;DataFrame API 的流处理模块
无需去用相对底层的 DStream API 去处理无边界数据，大大提升开发效率


在 2016 年，Spark 2.0 中推出结构化流处理的模块 - Structured Streaming
Structured Streaming 基于 Spark SQL 引擎实现
在开发视角，流数据和静态数据没有区别，可以像批处理静态数据那样处理流数据
 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/09/20/bigdata-spark-streaming/" title="Spark - Streaming"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-spark-streaming.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spark - Streaming"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/20/bigdata-spark-streaming/" title="Spark - Streaming">Spark - Streaming</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-19T16:06:25.000Z" title="Created 2024-09-20 00:06:25">2024-09-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/big-data/">Big Data</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/big-data/spark/">Spark</a></span></div><div class="content">流处理
Spark SQL 中的 DataFrame API 和 DataSet API 都是基于批处理模式对静态数据进行处理
在 2013，Spark 的流处理组件 Spark Streaming 发布，现在的 Spark Streaming 已经非常成熟，应用非常广泛



原理
Spark Streaming 的原理与微积分的思想很类似
微分是无限细分，而积分是对无限细分的每一段进行求和
本质 - 将一个连续的问题转换成了无限个离散的问题


流处理的数据是一系列连续不断变化，且无边界的，永远无法预测下一秒的数据
Spark Streaming 用时间片拆分了无限的数据流
然后对每个数据片用类似于批处理的方法进行处理，输出的数据也是分块的





Spark Streaming 提供一个对于流数据的抽象 DStream
DStream 可以由 Kafka、Flume 或者 HDFS 的流数据生成，也可以由别的 DStream 经过各种转换操作得到
底层 DStream 由多个序列化的 RDD 构成，按时间片（如一秒）切分成的每个数据单位都是一个 RDD
Spark 核心引擎将对 DStream 的 T ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/09/19/bigdata-spark-sql/" title="Spark - SQL"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-spark-sql.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spark - SQL"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/19/bigdata-spark-sql/" title="Spark - SQL">Spark - SQL</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-18T16:06:25.000Z" title="Created 2024-09-19 00:06:25">2024-09-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/big-data/">Big Data</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/big-data/spark/">Spark</a></span></div><div class="content">历史Hive
一开始，Hadoop&#x2F;MapReduce 在企业生产中大量使用，在 HDFS 上积累了大量数据
MapReduce 对于开发者而言使用难度较大，大部分开发人员最熟悉的还是传统的关系型数据库
为了方便大多数开发人员使用 Hadoop，诞生了 Hive
Hive 提供类似 SQL 的编程接口，HQL 经过语法解析、逻辑计划、物理计划转化成 MapReduce 程序执行
使得开发人员很容易对 HDFS 上存储的数据进行查询和分析





Shark
在 Spark 刚问世时，Spark 团队开发了 Shark 来支持用 SQL 来查询 Spark 的数据
Shark 的本质是 Hive，Shark 修改了 Hive 的内存管理模块，大幅优化了运行速度
Shark 依赖于 Hive，严重影响了 Spark 的发展，Spark 要定义一个统一的技术栈和完整的生态
依赖于 Hive 还会制约 Spark 各个组件的相互集成，Spark 无法利用 Spark 的特性进行深度优化
2014 年 7 月 1 日，Spark 团队将 Shark 交给 Hive 进行管理，即 Hive on Spark， ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/09/18/bigdata-spark-rdd/" title="Spark - RDD"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-spark-rdd.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spark - RDD"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/18/bigdata-spark-rdd/" title="Spark - RDD">Spark - RDD</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-17T16:06:25.000Z" title="Created 2024-09-18 00:06:25">2024-09-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/big-data/">Big Data</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/big-data/spark/">Spark</a></span></div><div class="content">分布式内存
传统的 MapReduce 框架运行缓慢，主要原因是 DAG 的中间计算结果需要写入硬盘来防止运行结果丢失
每次调用中间计算结果都需要进行一次硬盘的读取
反复对硬盘进行读写操作以及潜在的数据复制和序列化操作会大大地提高了计算延迟


新的分布式存储方案 - 保持之前系统的稳定性、错误恢复和可扩展性，并尽可能地减少硬盘 IO 操作
RDD 是基于分布式内存的数据抽象，不仅支持基于工作集的应用，同时具有数据流模型的特点





定义分区
分区代表同一个 RDD 包含的数据被存储在系统的不同节点上，这是可以被并行处理的前提
在逻辑上，可以认为 RDD 是一个大数组，数组中的每个元素代表一个分区（Partition）
在物理存储中，每个分区指向一个存放在内存或者硬盘中的数据块（Block）
Block 是独立的，可以被存放在分布式系统中的不同节点


RDD 只是抽象意义的数据集合，分区内部并不会存储具体的数据



RDD 中的每个分区都有它在该 RDD 中的 Index
通过 RDD_ID 和 Partition_Index 可以唯一确定对应 Block 的编号
从而通过底层存储层的接口中提取到数据 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/09/17/bigdata-spark-overview/" title="Spark - Overview"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-spark.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spark - Overview"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/17/bigdata-spark-overview/" title="Spark - Overview">Spark - Overview</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-16T16:06:25.000Z" title="Created 2024-09-17 00:06:25">2024-09-17</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/big-data/">Big Data</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/big-data/spark/">Spark</a></span></div><div class="content">MapReduce概述
MapReduce 通过简单的 Map 和 Reduce 的抽象提供了一个编程模型
可以在一个由上百台机器组成的集群上并发处理大量的数据集，而把计算细节隐藏起来


各种各样的复杂数据处理都可以分解为 Map 和 Reduce 的基本元素
复杂的数据处理可以分解成由多个 Job（包含一个 Mapper 和一个 Reducer）组成的 DAG
然后，将每个 Mapper 和 Reducer 放到 Hadoop 集群上执行，得到最终结果





不足
高昂的维护成本
时间性能不达标
MapReduce 模型的抽象层次低
大量的底层逻辑需要开发者手工完成 - 用汇编语言开发游戏


只提供 Map 和 Reduce 操作
很多现实的数据处理场景并不适合用这个模型来描述
实现复杂的操作需要技巧，让整个工程变得庞大且难以维护
维护一个多任务协调的状态机成本很高，且扩展性很差


在 Hadoop 中，每个 Job 的计算结果都会存储在 HDFS 文件存储系统中
每一步计算都要进行硬盘的读取和写入，大大增加了系统的延迟


MapReduce 对于迭代算法的处理性能很差，而且非常耗资源
因为迭代 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/09/16/bigdata-kappa/" title="Big Data - Kappa"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-kappa.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Big Data - Kappa"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/16/bigdata-kappa/" title="Big Data - Kappa">Big Data - Kappa</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-15T16:06:25.000Z" title="Created 2024-09-16 00:06:25">2024-09-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/big-data/">Big Data</a></span></div><div class="content">Lambda概述



Lambda 架构结合了批处理和流处理的架构思想
将进入系统的大规模数据同时送入两套架构层中，即 Batch Layer 和 Speed Layer
同时产生两套数据结果并存入 Serving Layer 中

优点
Batch Layer 有很好的容错性，同时由于保存着所有的历史记录，使得产生的数据具有很好的准确性
Speed Layer 可以及时处理流入的数据，具有低延迟性
最终 Serving Layer 将两套数据结合，并生成一个完整的数据视图提供给用户
Lambda 架构也具有很好的灵活性，可以将不同开源组件嵌入到该架构中

不足
使用 Lambda 架构，需要维护两个复杂的分布式系统，并保证它们逻辑上产生相同的结果输出到 Serving Layer
在分布式框架中进行编程是非常复杂的，尤其需要对不同的框架进行专门的优化 – 高昂的维护成本
维护 Lambda 架构的复杂性 – 同时维护两套系统架构
方向 - 改进其中一层的架构，让其具有另一层架构的特性



Kappa架构
Apache Kafka 具有永久保存数据日志的功能，基于该特性，可以让 Speed Layer 重 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/09/15/bigdata-lambda/" title="Big Data - Lambda"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-lambda.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Big Data - Lambda"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/15/bigdata-lambda/" title="Big Data - Lambda">Big Data - Lambda</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-14T16:06:25.000Z" title="Created 2024-09-15 00:06:25">2024-09-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/big-data/">Big Data</a></span></div><div class="content">Architecture


Batch Layer
Batch Layer 存储管理主数据集（不可变数据集）和预先批处理好计算好的视图
Batch Layer 使用可处理大量数据的分布式处理系统预先计算结果
通过处理所有的已有历史数据来实现数据的准确性
基于完整的数据集来重新计算，能够修复任何错误，然后更新现有的数据视图
输出通常存储在只读数据库中，更新则完全取代现有的预先计算好的视图



Speed Layer
Speed Layer 会实时处理新来的大数据
Speed Layer 通过提供最新数据的实时视图来最小化延迟
Speed Layer 生成的数据视图可能不如 Batch Layer 最终生成的视图那么准确和完整
在收到数据后立即可用，而当同样的数据被 Batch Layer 处理完成后，在 Speed Layer 的数据可以被替换掉


本质上，Speed Layer 弥补了 Batch Layer 所导致的数据视图滞后

Serving Layer
所有在 Batch Layer 和 Speed Layer 处理完的结果都输出存储在 Serving Layer 中
Serving Layer ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/09/14/bigdata-cap/" title="Big Data - CAP"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-cap.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Big Data - CAP"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/14/bigdata-cap/" title="Big Data - CAP">Big Data - CAP</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-13T16:06:25.000Z" title="Created 2024-09-14 00:06:25">2024-09-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/big-data/">Big Data</a></span></div><div class="content">CAP
在任意的分布式系统中，最多只能同时满足两个：Consistency、Availability、Partition-tolerance




Consistency

Consistency 指的是 Linearizability Consistency
在 Linearizability Consistency 的保证下，所有分布式环境下的操作都像在单机上一样
所有节点的状态一直是一致的

Availability

在分布式系统中，任意非故障的节点都必须对客户的请求产生响应
当系统满足 Availability 时，除非所有节点全部崩溃，不然都能返回消息 - Netflix Eureka

Partition Tolerance

在一个分布式系统中，如果出现了一些故障，可能会使得部分节点之间无法连通
由于故障节点无法连通，造成整个网络会被分成几块区域
从而使数据分散在这些无法连通的区域中的情况，从而发生了分区错误


如上图，如果需要的数据只在 Sever A 中，当出现分区错误时，无法获取到数据
如果能分区容错，既即便出现这种情况，分布式系统也能容忍，并能返回消息


Partition-to ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/09/13/bigdata-pub-sub/" title="Big Data - Pub + Sub"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-pub-sub.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Big Data - Pub + Sub"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/13/bigdata-pub-sub/" title="Big Data - Pub + Sub">Big Data - Pub + Sub</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-12T16:06:25.000Z" title="Created 2024-09-13 00:06:25">2024-09-13</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/big-data/">Big Data</a></span></div><div class="content">ConceptMessage



在分布式架构中，各个组件（数据库、浏览器、服务端）需要相互沟通
各个组件依靠通过发送消息相互通信


消息可以是任意格式

Message Queue

消息队列在发布订阅模式中起到一个持久化缓冲（Durable Buffer）的作用

消息的发送方可以发送任意消息到消息队列

消息队列在接收到消息后将消息保存好

直到消息的接收方确认已经从队列消费该消息，才会将该消息从消息队列中删除

某些消息队列支持自定义消息的保留时间 - Apache Kafka




Pub-Sub概述

消息的发送方可以将消息异步地发送给一个系统中的不同组件，而无需知道接收方是谁
发送方被称为 Publisher，而接收方被称为 Subscriber
可以有任意多个 Publisher，也可以有任意多个 Subscriber

优点
松耦合
高伸缩性 - 消息队列可以作为独立的数据存储中心而存在
组件通信更简洁

缺点
无法保证 Publisher 发布的消息一定会送达 Subscriber

Apache Kafka

消息的发送方被称为 Producer，而消息的接收方被称为 Consum ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/60/#content-inner">60</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">zhongmingmao</div><div class="author-info__description">Focus on Infrastructure.</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">592</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">184</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">75</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Things are always unexpected!</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/09/22/bigdata-spark-flink/" title="Big Data - Spark + Flink"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-spark-flink.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Big Data - Spark + Flink"/></a><div class="content"><a class="title" href="/2024/09/22/bigdata-spark-flink/" title="Big Data - Spark + Flink">Big Data - Spark + Flink</a><time datetime="2024-09-21T16:06:25.000Z" title="Created 2024-09-22 00:06:25">2024-09-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/21/bigdata-spark-structured-streaming/" title="Spark - Structured Streaming"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-spark-structured-streaming.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spark - Structured Streaming"/></a><div class="content"><a class="title" href="/2024/09/21/bigdata-spark-structured-streaming/" title="Spark - Structured Streaming">Spark - Structured Streaming</a><time datetime="2024-09-20T16:06:25.000Z" title="Created 2024-09-21 00:06:25">2024-09-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/20/bigdata-spark-streaming/" title="Spark - Streaming"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-spark-streaming.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spark - Streaming"/></a><div class="content"><a class="title" href="/2024/09/20/bigdata-spark-streaming/" title="Spark - Streaming">Spark - Streaming</a><time datetime="2024-09-19T16:06:25.000Z" title="Created 2024-09-20 00:06:25">2024-09-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/19/bigdata-spark-sql/" title="Spark - SQL"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-spark-sql.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spark - SQL"/></a><div class="content"><a class="title" href="/2024/09/19/bigdata-spark-sql/" title="Spark - SQL">Spark - SQL</a><time datetime="2024-09-18T16:06:25.000Z" title="Created 2024-09-19 00:06:25">2024-09-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/18/bigdata-spark-rdd/" title="Spark - RDD"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-spark-rdd.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Spark - RDD"/></a><div class="content"><a class="title" href="/2024/09/18/bigdata-spark-rdd/" title="Spark - RDD">Spark - RDD</a><time datetime="2024-09-17T16:06:25.000Z" title="Created 2024-09-18 00:06:25">2024-09-18</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            <a class="card-more-btn" href="/categories/" title="More">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/"><span class="card-category-list-name">AI</span><span class="card-category-list-count">34</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/llm/"><span class="card-category-list-name">LLM</span><span class="card-category-list-count">16</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/rag/"><span class="card-category-list-name">RAG</span><span class="card-category-list-count">18</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/big-data/"><span class="card-category-list-name">Big Data</span><span class="card-category-list-count">13</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/big-data/spark/"><span class="card-category-list-name">Spark</span><span class="card-category-list-count">6</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/career/"><span class="card-category-list-name">Career</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/"><span class="card-category-list-name">Cloud Computing</span><span class="card-category-list-count">10</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/iaas/"><span class="card-category-list-name">IaaS</span><span class="card-category-list-count">5</span></a></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/big-data/" style="font-size: 1.24em; color: rgb(196, 31, 193)">Big Data</a><a href="/tags/spark/" style="font-size: 1.2em; color: rgb(50, 94, 186)">Spark</a><a href="/tags/flink/" style="font-size: 1.15em; color: rgb(77, 104, 107)">Flink</a><a href="/tags/mapreduce/" style="font-size: 1.15em; color: rgb(110, 146, 2)">MapReduce</a><a href="/tags/rdd/" style="font-size: 1.15em; color: rgb(198, 66, 118)">RDD</a><a href="/tags/cloud-computing/" style="font-size: 1.22em; color: rgb(35, 5, 172)">Cloud Computing</a><a href="/tags/iaas/" style="font-size: 1.19em; color: rgb(50, 92, 106)">IaaS</a><a href="/tags/paas/" style="font-size: 1.19em; color: rgb(69, 191, 80)">PaaS</a><a href="/tags/cloud-native/" style="font-size: 1.45em; color: rgb(140, 53, 61)">Cloud Native</a><a href="/tags/kubernetes/" style="font-size: 1.43em; color: rgb(88, 178, 185)">Kubernetes</a><a href="/tags/devops/" style="font-size: 1.18em; color: rgb(87, 33, 31)">DevOps</a><a href="/tags/go-core/" style="font-size: 1.17em; color: rgb(1, 13, 115)">Go Core</a><a href="/tags/go/" style="font-size: 1.42em; color: rgb(122, 6, 55)">Go</a><a href="/tags/container/" style="font-size: 1.26em; color: rgb(195, 90, 35)">Container</a><a href="/tags/docker/" style="font-size: 1.28em; color: rgb(94, 135, 189)">Docker</a><a href="/tags/go-engineering/" style="font-size: 1.34em; color: rgb(7, 42, 193)">Go Engineering</a><a href="/tags/swagger/" style="font-size: 1.15em; color: rgb(180, 138, 25)">Swagger</a><a href="/tags/rpc/" style="font-size: 1.16em; color: rgb(64, 165, 38)">RPC</a><a href="/tags/grpc/" style="font-size: 1.16em; color: rgb(186, 192, 166)">gRPC</a><a href="/tags/makefile/" style="font-size: 1.15em; color: rgb(174, 157, 69)">Makefile</a><a href="/tags/ci/" style="font-size: 1.15em; color: rgb(31, 40, 181)">CI</a><a href="/tags/network/" style="font-size: 1.16em; color: rgb(37, 105, 140)">Network</a><a href="/tags/cloud-native-foundation/" style="font-size: 1.33em; color: rgb(132, 96, 125)">Cloud Native Foundation</a><a href="/tags/linux/" style="font-size: 1.27em; color: rgb(85, 144, 19)">Linux</a><a href="/tags/dockerfile/" style="font-size: 1.17em; color: rgb(141, 2, 185)">Dockerfile</a><a href="/tags/service-mesh/" style="font-size: 1.18em; color: rgb(169, 0, 42)">Service Mesh</a><a href="/tags/microservices/" style="font-size: 1.27em; color: rgb(107, 103, 25)">Microservices</a><a href="/tags/spring-cloud/" style="font-size: 1.21em; color: rgb(106, 153, 128)">Spring Cloud</a><a href="/tags/spring/" style="font-size: 1.23em; color: rgb(79, 125, 41)">Spring</a><a href="/tags/java/" style="font-size: 1.44em; color: rgb(134, 136, 65)">Java</a><a href="/tags/service-governance/" style="font-size: 1.17em; color: rgb(104, 103, 176)">Service Governance</a><a href="/tags/opa/" style="font-size: 1.21em; color: rgb(11, 135, 165)">OPA</a><a href="/tags/alibaba/" style="font-size: 1.22em; color: rgb(185, 133, 29)">Alibaba</a><a href="/tags/security/" style="font-size: 1.26em; color: rgb(141, 27, 123)">Security</a><a href="/tags/compliance/" style="font-size: 1.17em; color: rgb(91, 98, 63)">Compliance</a><a href="/tags/infrastructure/" style="font-size: 1.31em; color: rgb(52, 134, 99)">Infrastructure</a><a href="/tags/architecture/" style="font-size: 1.32em; color: rgb(167, 22, 129)">Architecture</a><a href="/tags/serverless/" style="font-size: 1.22em; color: rgb(15, 101, 140)">Serverless</a><a href="/tags/faas/" style="font-size: 1.22em; color: rgb(108, 169, 6)">FaaS</a><a href="/tags/computer-basics/" style="font-size: 1.36em; color: rgb(168, 189, 1)">Computer Basics</a><a href="/tags/computer-organization/" style="font-size: 1.36em; color: rgb(14, 42, 0)">Computer Organization</a><a href="/tags/knowledge-map/" style="font-size: 1.15em; color: rgb(8, 192, 180)">Knowledge Map</a><a href="/tags/tool/" style="font-size: 1.22em; color: rgb(118, 81, 179)">Tool</a><a href="/tags/git/" style="font-size: 1.22em; color: rgb(9, 71, 70)">Git</a><a href="/tags/concurrency/" style="font-size: 1.15em; color: rgb(198, 200, 55)">Concurrency</a><a href="/tags/cloud/" style="font-size: 1.37em; color: rgb(189, 118, 88)">Cloud</a><a href="/tags/native/" style="font-size: 1.37em; color: rgb(91, 66, 64)">Native</a><a href="/tags/oauth-2-0/" style="font-size: 1.21em; color: rgb(83, 106, 55)">OAuth 2.0</a><a href="/tags/authentication/" style="font-size: 1.17em; color: rgb(10, 178, 32)">Authentication</a><a href="/tags/ldap/" style="font-size: 1.15em; color: rgb(83, 6, 147)">LDAP</a><a href="/tags/storage/" style="font-size: 1.4em; color: rgb(51, 99, 167)">Storage</a><a href="/tags/mysql/" style="font-size: 1.41em; color: rgb(11, 36, 199)">MySQL</a><a href="/tags/innodb/" style="font-size: 1.2em; color: rgb(168, 47, 119)">InnoDB</a><a href="/tags/java-concurrent/" style="font-size: 1.38em; color: rgb(118, 5, 42)">Java Concurrent</a><a href="/tags/actor/" style="font-size: 1.15em; color: rgb(146, 134, 167)">Actor</a><a href="/tags/akka/" style="font-size: 1.15em; color: rgb(193, 136, 188)">Akka</a><a href="/tags/coroutine/" style="font-size: 1.16em; color: rgb(130, 106, 79)">Coroutine</a><a href="/tags/csp/" style="font-size: 1.15em; color: rgb(168, 102, 79)">CSP</a><a href="/tags/disruptor/" style="font-size: 1.15em; color: rgb(67, 33, 163)">Disruptor</a><a href="/tags/netty/" style="font-size: 1.15em; color: rgb(112, 16, 157)">Netty</a><a href="/tags/stm/" style="font-size: 1.15em; color: rgb(155, 91, 145)">STM</a><a href="/tags/mvcc/" style="font-size: 1.15em; color: rgb(144, 15, 53)">MVCC</a><a href="/tags/java-core/" style="font-size: 1.21em; color: rgb(199, 62, 103)">Java Core</a><a href="/tags/java-performance/" style="font-size: 1.34em; color: rgb(191, 52, 154)">Java Performance</a><a href="/tags/cas/" style="font-size: 1.15em; color: rgb(18, 91, 200)">CAS</a><a href="/tags/hashtable/" style="font-size: 1.15em; color: rgb(114, 53, 117)">HashTable</a><a href="/tags/concurrenthashmap/" style="font-size: 1.15em; color: rgb(5, 163, 41)">ConcurrentHashMap</a><a href="/tags/concurrentskiplistmap/" style="font-size: 1.15em; color: rgb(129, 20, 70)">ConcurrentSkipListMap</a><a href="/tags/design-pattern/" style="font-size: 1.18em; color: rgb(10, 141, 184)">Design Pattern</a><a href="/tags/consistency/" style="font-size: 1.15em; color: rgb(89, 175, 111)">Consistency</a><a href="/tags/hashmap/" style="font-size: 1.15em; color: rgb(99, 105, 178)">HashMap</a><a href="/tags/jvm/" style="font-size: 1.38em; color: rgb(117, 177, 75)">JVM</a><a href="/tags/gc/" style="font-size: 1.16em; color: rgb(133, 177, 158)">GC</a><a href="/tags/io/" style="font-size: 1.15em; color: rgb(78, 179, 185)">IO</a><a href="/tags/nio/" style="font-size: 1.16em; color: rgb(27, 121, 46)">NIO</a><a href="/tags/aio/" style="font-size: 1.16em; color: rgb(140, 86, 6)">AIO</a><a href="/tags/epoll/" style="font-size: 1.16em; color: rgb(58, 104, 7)">Epoll</a><a href="/tags/synchronized/" style="font-size: 1.16em; color: rgb(158, 52, 137)">synchronized</a><a href="/tags/lock/" style="font-size: 1.15em; color: rgb(184, 183, 16)">Lock</a><a href="/tags/reentrantreadwritelock/" style="font-size: 1.15em; color: rgb(58, 141, 4)">ReentrantReadWriteLock</a><a href="/tags/stampedlock/" style="font-size: 1.15em; color: rgb(74, 6, 121)">StampedLock</a><a href="/tags/jit/" style="font-size: 1.15em; color: rgb(108, 28, 165)">JIT</a><a href="/tags/serialization/" style="font-size: 1.15em; color: rgb(96, 22, 194)">Serialization</a><a href="/tags/protobuf/" style="font-size: 1.15em; color: rgb(80, 32, 165)">ProtoBuf</a><a href="/tags/java-stream/" style="font-size: 1.15em; color: rgb(130, 138, 89)">Java Stream</a><a href="/tags/context-switch/" style="font-size: 1.15em; color: rgb(111, 153, 5)">Context Switch</a><a href="/tags/mark-word/" style="font-size: 1.15em; color: rgb(18, 67, 193)">Mark Word</a><a href="/tags/monitor/" style="font-size: 1.15em; color: rgb(71, 8, 200)">Monitor</a><a href="/tags/thread-pool/" style="font-size: 1.15em; color: rgb(38, 10, 49)">Thread Pool</a><a href="/tags/lambda/" style="font-size: 1.15em; color: rgb(147, 111, 101)">Lambda</a><a href="/tags/bytecode-manipulation/" style="font-size: 1.17em; color: rgb(68, 156, 154)">Bytecode Manipulation</a><a href="/tags/asm/" style="font-size: 1.15em; color: rgb(184, 95, 175)">ASM</a><a href="/tags/jol/" style="font-size: 1.17em; color: rgb(146, 137, 116)">JOL</a><a href="/tags/middleware/" style="font-size: 1.39em; color: rgb(139, 120, 159)">Middleware</a><a href="/tags/mq/" style="font-size: 1.39em; color: rgb(112, 27, 19)">MQ</a><a href="/tags/kafka/" style="font-size: 1.39em; color: rgb(44, 193, 124)">Kafka</a><a href="/tags/stream/" style="font-size: 1.39em; color: rgb(30, 87, 40)">Stream</a><a href="/tags/rebalance/" style="font-size: 1.17em; color: rgb(183, 12, 96)">Rebalance</a><a href="/tags/avro/" style="font-size: 1.18em; color: rgb(37, 130, 133)">Avro</a><a href="/tags/compression/" style="font-size: 1.15em; color: rgb(190, 152, 11)">Compression</a><a href="/tags/consumer-group/" style="font-size: 1.15em; color: rgb(31, 99, 153)">Consumer Group</a><a href="/tags/tcp/" style="font-size: 1.16em; color: rgb(80, 76, 160)">TCP</a><a href="/tags/idempotence/" style="font-size: 1.15em; color: rgb(183, 117, 46)">Idempotence</a><a href="/tags/producer/" style="font-size: 1.15em; color: rgb(134, 119, 114)">Producer</a><a href="/tags/load-balance/" style="font-size: 1.15em; color: rgb(166, 133, 188)">Load Balance</a><a href="/tags/distributed-architecture/" style="font-size: 1.15em; color: rgb(138, 70, 31)">Distributed Architecture</a><a href="/tags/distributed-design-pattern/" style="font-size: 1.17em; color: rgb(45, 186, 45)">Distributed Design Pattern</a><a href="/tags/career/" style="font-size: 1.15em; color: rgb(169, 44, 46)">Career</a><a href="/tags/linux-performance/" style="font-size: 1.17em; color: rgb(54, 184, 113)">Linux Performance</a><a href="/tags/linux-practice/" style="font-size: 1.24em; color: rgb(89, 186, 187)">Linux Practice</a><a href="/tags/ext4/" style="font-size: 1.15em; color: rgb(116, 42, 31)">ext4</a><a href="/tags/file-system/" style="font-size: 1.15em; color: rgb(184, 149, 137)">File System</a><a href="/tags/ai/" style="font-size: 1.35em; color: rgb(0, 115, 133)">AI</a><a href="/tags/llm/" style="font-size: 1.35em; color: rgb(105, 96, 26)">LLM</a><a href="/tags/nlp/" style="font-size: 1.25em; color: rgb(35, 10, 82)">NLP</a><a href="/tags/python/" style="font-size: 1.3em; color: rgb(72, 179, 80)">Python</a><a href="/tags/fastapi/" style="font-size: 1.15em; color: rgb(138, 132, 80)">FastAPI</a><a href="/tags/uvicorn/" style="font-size: 1.15em; color: rgb(86, 84, 55)">Uvicorn</a><a href="/tags/chatgpt/" style="font-size: 1.15em; color: rgb(190, 200, 8)">ChatGPT</a><a href="/tags/machine-learning/" style="font-size: 1.17em; color: rgb(169, 133, 167)">Machine Learning</a><a href="/tags/seq2seq/" style="font-size: 1.16em; color: rgb(170, 161, 53)">Seq2Seq</a><a href="/tags/rnn/" style="font-size: 1.15em; color: rgb(79, 144, 61)">RNN</a><a href="/tags/word2vec/" style="font-size: 1.15em; color: rgb(100, 45, 74)">Word2Vec</a><a href="/tags/langchain/" style="font-size: 1.19em; color: rgb(159, 20, 138)">LangChain</a><a href="/tags/ai-agent/" style="font-size: 1.18em; color: rgb(15, 186, 38)">AI Agent</a><a href="/tags/rag/" style="font-size: 1.29em; color: rgb(192, 26, 56)">RAG</a><a href="/tags/faiss/" style="font-size: 1.15em; color: rgb(25, 93, 157)">Faiss</a><a href="/tags/lora/" style="font-size: 1.15em; color: rgb(113, 33, 109)">LoRA</a><a href="/tags/peft/" style="font-size: 1.15em; color: rgb(75, 141, 167)">PEFT</a><a href="/tags/microservices-governance/" style="font-size: 1.22em; color: rgb(200, 138, 75)">Microservices Governance</a><a href="/tags/config/" style="font-size: 1.17em; color: rgb(7, 22, 51)">Config</a><a href="/tags/configuration-center/" style="font-size: 1.17em; color: rgb(36, 9, 90)">Configuration Center</a><a href="/tags/apollo/" style="font-size: 1.17em; color: rgb(176, 3, 73)">Apollo</a><a href="/tags/math/" style="font-size: 1.16em; color: rgb(135, 161, 103)">Math</a><a href="/tags/oauth2/" style="font-size: 1.2em; color: rgb(110, 94, 196)">Oauth2</a><a href="/tags/spring-security/" style="font-size: 1.19em; color: rgb(6, 170, 189)">Spring Security</a><a href="/tags/spring-security-oauth2/" style="font-size: 1.19em; color: rgb(181, 154, 150)">Spring Security OAuth2</a><a href="/tags/chatops/" style="font-size: 1.15em; color: rgb(192, 76, 44)">ChatOps</a><a href="/tags/chatbot/" style="font-size: 1.15em; color: rgb(70, 4, 94)">Chatbot</a><a href="/tags/kg-rag/" style="font-size: 1.15em; color: rgb(185, 96, 68)">KG-RAG</a><a href="/tags/rerank/" style="font-size: 1.15em; color: rgb(31, 139, 127)">Rerank</a><a href="/tags/prompting/" style="font-size: 1.15em; color: rgb(193, 191, 113)">Prompting</a><a href="/tags/graphrag/" style="font-size: 1.15em; color: rgb(44, 105, 21)">GraphRAG</a><a href="/tags/vector/" style="font-size: 1.16em; color: rgb(144, 133, 49)">Vector</a><a href="/tags/vim/" style="font-size: 1.2em; color: rgb(163, 182, 120)">Vim</a><a href="/tags/web/" style="font-size: 1.21em; color: rgb(10, 52, 47)">Web</a><a href="/tags/javascript/" style="font-size: 1.19em; color: rgb(47, 194, 16)">JavaScript</a><a href="/tags/zookeeper/" style="font-size: 1.16em; color: rgb(77, 141, 179)">Zookeeper</a><a href="/tags/distributed-lock/" style="font-size: 1.15em; color: rgb(186, 125, 184)">Distributed Lock</a><a href="/tags/istio/" style="font-size: 1.17em; color: rgb(137, 110, 92)">Istio</a><a href="/tags/jwt/" style="font-size: 1.15em; color: rgb(198, 155, 83)">JWT</a><a href="/tags/bio/" style="font-size: 1.15em; color: rgb(117, 32, 81)">BIO</a><a href="/tags/tomcat/" style="font-size: 1.15em; color: rgb(97, 47, 127)">Tomcat</a><a href="/tags/select/" style="font-size: 1.15em; color: rgb(40, 27, 20)">Select</a><a href="/tags/poll/" style="font-size: 1.15em; color: rgb(144, 51, 147)">Poll</a><a href="/tags/zero-copy/" style="font-size: 1.15em; color: rgb(35, 198, 51)">Zero Copy</a><a href="/tags/mmap/" style="font-size: 1.15em; color: rgb(97, 44, 105)">mmap</a><a href="/tags/reactor/" style="font-size: 1.15em; color: rgb(131, 198, 151)">Reactor</a><a href="/tags/transformer/" style="font-size: 1.16em; color: rgb(138, 121, 98)">Transformer</a><a href="/tags/svm/" style="font-size: 1.15em; color: rgb(101, 77, 28)">SVM</a><a href="/tags/attention/" style="font-size: 1.15em; color: rgb(48, 138, 34)">Attention</a><a href="/tags/zab/" style="font-size: 1.15em; color: rgb(118, 55, 41)">ZAB</a><a href="/tags/etcd/" style="font-size: 1.15em; color: rgb(132, 113, 63)">etcd</a><a href="/tags/raft/" style="font-size: 1.15em; color: rgb(38, 159, 38)">raft</a><a href="/tags/iac/" style="font-size: 1.15em; color: rgb(131, 135, 17)">IaC</a><a href="/tags/terraform/" style="font-size: 1.15em; color: rgb(24, 133, 141)">Terraform</a><a href="/tags/crossplane/" style="font-size: 1.15em; color: rgb(54, 92, 159)">Crossplane</a><a href="/tags/pulumi/" style="font-size: 1.15em; color: rgb(55, 120, 100)">Pulumi</a><a href="/tags/argo-cd/" style="font-size: 1.15em; color: rgb(182, 3, 23)">Argo CD</a><a href="/tags/vpc/" style="font-size: 1.15em; color: rgb(131, 53, 18)">VPC</a><a href="/tags/helm/" style="font-size: 1.15em; color: rgb(167, 120, 182)">Helm</a><a href="/tags/runc/" style="font-size: 1.15em; color: rgb(13, 84, 172)">runc</a><a href="/tags/kustomize/" style="font-size: 1.15em; color: rgb(14, 33, 30)">Kustomize</a><a href="/tags/oci/" style="font-size: 1.15em; color: rgb(190, 183, 7)">OCI</a><a href="/tags/buildkit/" style="font-size: 1.15em; color: rgb(171, 36, 139)">BuildKit</a><a href="/tags/crane/" style="font-size: 1.15em; color: rgb(120, 0, 170)">crane</a><a href="/tags/oci-image/" style="font-size: 1.15em; color: rgb(149, 1, 133)">OCI Image</a><a href="/tags/oci-runtime/" style="font-size: 1.15em; color: rgb(169, 53, 95)">OCI Runtime</a><a href="/tags/linux-namespace/" style="font-size: 1.15em; color: rgb(188, 76, 9)">Linux Namespace</a><a href="/tags/linux-cgroup/" style="font-size: 1.15em; color: rgb(42, 126, 187)">Linux CGroup</a><a href="/tags/k8s-manifest/" style="font-size: 1.15em; color: rgb(75, 103, 15)">K8S Manifest</a><a href="/tags/performance-tuning/" style="font-size: 1.15em; color: rgb(111, 69, 131)">Performance Tuning</a><a href="/tags/api-gateway/" style="font-size: 1.15em; color: rgb(39, 172, 23)">API Gateway</a><a href="/tags/apisix/" style="font-size: 1.15em; color: rgb(142, 63, 70)">APISIX</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span><a class="card-more-btn" href="/archives/" title="More">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/09/"><span class="card-archive-list-date">September 2024</span><span class="card-archive-list-count">22</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">August 2024</span><span class="card-archive-list-count">31</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">July 2024</span><span class="card-archive-list-count">10</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">June 2024</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">May 2023</span><span class="card-archive-list-count">11</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">April 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/02/"><span class="card-archive-list-date">February 2023</span><span class="card-archive-list-count">15</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/01/"><span class="card-archive-list-date">January 2023</span><span class="card-archive-list-count">31</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">592</div></div><div class="webinfo-item"><div class="item-name">Run time :</div><div class="item-count" id="runtimeshow" data-publishDate="2015-06-30T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Total Count :</div><div class="item-count">1120.8k</div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-11-18T16:36:45.611Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.pixabay.com/photo/2018/08/27/15/17/fishing-3635221_1280.png')"><div id="footer-wrap"><div class="copyright">&copy;2015 - 2024 By zhongmingmao</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Life is like a box of chocolates. You can't know what you'll eat until you open it.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["Stay hungry, stay foolish."])
  } else {
    document.getElementById("subtitle").innerHTML = 'Stay hungry, stay foolish.'
  }
}
typedJSFn.run(subtitleType)</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></body></html>