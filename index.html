<!DOCTYPE html><html lang="en" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>ByteCoding</title><meta name="author" content="zhongmingmao"><meta name="copyright" content="zhongmingmao"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="Focus on Infrastructure">
<meta property="og:type" content="website">
<meta property="og:title" content="ByteCoding">
<meta property="og:url" content="https://blog.zhongmingmao.top/index.html">
<meta property="og:site_name" content="ByteCoding">
<meta property="og:description" content="Focus on Infrastructure">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png">
<meta property="article:author" content="zhongmingmao">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="shortcut icon" href="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png"><link rel="canonical" href="https://blog.zhongmingmao.top/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: {"limitDay":512,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":256},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":32,"languages":{"author":"Author: zhongmingmao","link":"Link: ","source":"Source: ByteCoding","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ByteCoding',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-11-21 01:26:36'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="ByteCoding" type="application/atom+xml">
</head><body><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">601</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">185</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">76</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://cdn.pixabay.com/photo/2022/10/16/13/53/early-morning-7525151_1280.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="ByteCoding"><span class="site-name">ByteCoding</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">ByteCoding</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2024/10/01/bigdata-beam-execution-engine/" title="Beam - Execution Engine"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/flink-runner-beam-language-portability.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Beam - Execution Engine"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/10/01/bigdata-beam-execution-engine/" title="Beam - Execution Engine">Beam - Execution Engine</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-30T16:06:25.000Z" title="Created 2024-10-01 00:06:25">2024-10-01</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/big-data/">Big Data</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/big-data/beam/">Beam</a></span></div><div class="content">Pipeline
读取输入数据到 PCollection
对读进来的 PCollection 进行 Transform，得到另一个 PCollection
输出结果 PCollection



1234567891011121314// Start by defining the options for the pipeline.PipelineOptions options = PipelineOptionsFactory.create();// Then create the pipeline.Pipeline pipeline = Pipeline.create(options);PCollection&lt;String&gt; lines = pipeline.apply(  &quot;ReadLines&quot;, TextIO.read().from(&quot;gs://some/inputData.txt&quot;));PCollection&lt;String&gt; filteredLines = lines.apply(new FilterLines());filteredLi ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/09/30/bigdata-beam-pipeline-test/" title="Beam - Pipeline Test"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-beam-pipeline-test.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Beam - Pipeline Test"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/30/bigdata-beam-pipeline-test/" title="Beam - Pipeline Test">Beam - Pipeline Test</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-29T16:06:25.000Z" title="Created 2024-09-30 00:06:25">2024-09-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/big-data/">Big Data</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/big-data/beam/">Beam</a></span></div><div class="content">Context
设计好的 Pipeline 通常需要放在分布式环境下执行，具体每一步的 Transform 都会被分配到任意机器上执行
如果 Pipeline 运行出错，则需要定位到具体机器，再到上面去做调试是不现实的
另一种办法，读取一些样本数据集，再运行整个 Pipeline 去验证哪一步逻辑出错 - 费时费力
正式将 Pipeline 放在分布式环境上运行之前，需要先完整地测试整个 Pipeline 逻辑



Solution
Beam 提供了一套完整的测试 SDK
可以在开发 Pipeline 的同时，能够实现对一个 Transform 逻辑的单元测试
也可以对整个 Pipeline 的 End-to-End 测试


在 Beam 所支持的各种 Runners 中，有一个 DirectRunner
DirectRunner 即本地机器，整个 Pipeline 会放在本地机器上运行


DoFnTester - 让用户传入一个自定义函数来进行测试 - UDF - User Defined Function
DoFnTester 接收的对象是用户继承实现的 DoFn


不应该将 DoFn 当成一个单 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/09/29/bigdata-beam-pattern/" title="Beam - Pattern"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-beam-pattern.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Beam - Pattern"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/29/bigdata-beam-pattern/" title="Beam - Pattern">Beam - Pattern</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-28T16:06:25.000Z" title="Created 2024-09-29 00:06:25">2024-09-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/big-data/">Big Data</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/big-data/beam/">Beam</a></span></div><div class="content">Copier Pattern
每个数据处理模块的输入都是相同的，并且每个数据处理模块都可以单独并且同步地运行处理




1234567891011121314151617181920212223242526272829303132333435363738394041PCollection&lt;Video&gt; videoDataCollection = ...;//  生成高画质视频PCollection&lt;Video&gt; highResolutionVideoCollection = videoDataCollection.apply(&quot;highResolutionTransform&quot;, ParDo.of(new DoFn&lt;Video, Video&gt;()&#123;  @ProcessElement  public void processElement(ProcessContext c) &#123;    c.output(generateHighResolution(c.element()));  &#125;&#125;));//  生成低画质视频PCo ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/09/28/bigdata-beam-pipeline-io/" title="Beam - Pipeline IO"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-beam-pipeline-io.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Beam - Pipeline IO"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/28/bigdata-beam-pipeline-io/" title="Beam - Pipeline IO">Beam - Pipeline IO</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-27T16:06:25.000Z" title="Created 2024-09-28 00:06:25">2024-09-28</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/big-data/">Big Data</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/big-data/beam/">Beam</a></span></div><div class="content">读取数据集
一个输入数据集的读取通常是通过 Read Transform 来完成
Read Transform 从外部源读取数据 - 本地文件、数据库、OSS、MQ
Read Transform 返回一个 PCollection，该 PCollection 可以作为一个输入数据集，应用在各种 Transform 上
Pipeline 没有限制调用 Read Transform 的时机
可以在 Pipeline 最开始的时候调用
也可以在经过 N 个步骤的 Transforms 后再调用它来读取另外的数据集






本地文件

1PCollection&lt;String&gt; inputs = p.apply(TextIO.read().from(filepath));


Beam 支持从多个文件路径中读取数据集，文件名匹配规则与 Linux glob 一样
glob 操作符的匹配规则最终要和所使用的底层文件系统挂钩


从不同的外部源读取同一类型的数据来统一作为输入数据集 - 利用 flatten 操作将数据集合并

12345PCollection&lt;String&gt; input1 = p ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/09/27/bigdata-beam-pipeline/" title="Beam - Pipeline"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-beam-pipeline.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Beam - Pipeline"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/27/bigdata-beam-pipeline/" title="Beam - Pipeline">Beam - Pipeline</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-26T16:06:25.000Z" title="Created 2024-09-27 00:06:25">2024-09-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/big-data/">Big Data</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/big-data/beam/">Beam</a></span></div><div class="content">创建
在 Beam 中，所有的数据处理逻辑都会被抽象成 Pipeline 来运行
Pipeline 是对数据处理逻辑的一个封装
包括一整套流程 - 读取数据集、将数据集转换成想要的结果、输出结果数据集






创建 Pipeline

12PipelineOptions options = PipelineOptionsFactory.create();Pipeline p = Pipeline.create(options);

应用

PCollection 具有不可变性
一个 PCollection 一旦生成，就不能在增加或者删除里面的元素了


在 Beam 中，每次 PCollection 经过一个 Transform 之后，Pipeline 都会创建一个新的 PCollection
新创建的 PCollection 又成为下一个 Transform 的输入
原先的 PCollection 不会有任何改变


对同一个 PCollection 可以应用多种不同的 Transform


处理模型
Pipeline 的底层思想依然是 MapReduce
在分布式环境下，整个 Pipeline 会启 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/09/26/bigdata-beam-transform/" title="Beam - Transform"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-beam-transform.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Beam - Transform"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/26/bigdata-beam-transform/" title="Beam - Transform">Beam - Transform</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-25T16:06:25.000Z" title="Created 2024-09-26 00:06:25">2024-09-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/big-data/">Big Data</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/big-data/beam/">Beam</a></span></div><div class="content">DAG
Transform 是 Beam 中数据处理的最基本单元





Beam 把数据转换抽象成有向图
反直觉 - PCollection 是有向图中的边，而 Transform 是有向图中的节点
区分节点和边的关键是看一个 Transform 是不是有一个多余的输入和输出
每个 Transform 都可能有大于一个的输入 PCollection，也可能输出大于一个的输出 PCollection



Apply
Beam 中的 PCollection 有一个抽象的成员函数 Apply，使用任何一个 Transform 时，都需要调用 Apply

123final_collection = input_collection.apply(Transform1).apply(Transform2).apply(Transform3)


Transform概述
ParDo - Parallel Do - 表达的是很通用的并行处理数据操作
GroupByKey - 把一个 Key&#x2F;Value 的数据集按照 Key 归并


可以用 ParDo 实现 GroupByKey


简单实现 - 放一个全 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/09/25/bigdata-beam-pcollection/" title="Beam - PCollection"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-beam-pcollection.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Beam - PCollection"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/25/bigdata-beam-pcollection/" title="Beam - PCollection">Beam - PCollection</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-24T16:06:25.000Z" title="Created 2024-09-25 00:06:25">2024-09-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/big-data/">Big Data</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/big-data/beam/">Beam</a></span></div><div class="content">数据抽象
Spark RDD


不同的技术系统有不同的数据结构， 如在 C++  中有 vector、unordered_map
几乎所有的 Beam 数据都能表达为 PCollection
PCollection - Parallel Collection - 可并行计算的数据集，与 Spark RDD 非常类似
在一个分布式计算系统中，需要为用户隐藏实现细节，包括数据是怎样表达和存储的
数据可能来自于内存的数据，也可能来自于外部文件，或者来自于 MySQL 数据库
如果没有一个统一的数据抽象的话，开发者需要不停地修改代码，无法专注于业务逻辑





Coder
将数据类型进行序列化和反序列化，便于在网络上传输


需要为 PCollection 的元素编写 Coder
Coder 的作用与 Beam 的本质紧密相关
计算流程最终会运行在一个分布式系统
所有的数据都可能在网络上的计算机之间相互传递
Coder 就是告诉 Beam 如何将数据类型进行序列化和反序列化，以便于在网络上传输


Coder 需要注册进全局的 CoderRegistry
为自定义的数据类型建立与 Coder 的对应关系，无需每次 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/09/24/bigdata-beam-paradigm/" title="Beam - Paradigm"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-beam-model.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Beam - Paradigm"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/24/bigdata-beam-paradigm/" title="Beam - Paradigm">Beam - Paradigm</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-23T16:06:25.000Z" title="Created 2024-09-24 00:06:25">2024-09-24</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/big-data/">Big Data</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/big-data/beam/">Beam</a></span></div><div class="content">Why
Apache Beam 本身并不是一个数据处理平台，本身也无法对数据进行处理
Apache Beam 所提供的是一个统一的编程模型思想
通过 Apache Beam 统一的 API 来编写处理逻辑，该处理逻辑会被转化为底层运行引擎相应的 API 去运行


SDK 会变，但背后的设计原理却不会改变



生态



Layer
Desc



Runner
现有的各种大数据处理平台，如 Apache Spark、Apache Flink


可移植的统一模型层
各个 Runner 将会依据中间抽象出来的模型思想Runner 将提供一套符合该模型的 APIs 出来，以供上层转换


SDK
提供不同语言版本的 API 来编写数据处理逻辑这些数据处理逻辑会被转换成 Runner 中相应的 API 来运行


基本概念
数据可以分成有界数据和无界数据
其中有界数据是无界数据的特例，可以将所有的数据抽象看作无界数据


每个数据都有两个时域，即事件时间和处理时间
处理无界数据时，数据会有延迟、丢失的情况
因此，无法保证是否接收完了所有发生在某一时刻之前的数据 - 事件时间
流处理必须在数据的完整性和数据处理的 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/09/23/bigdata-beam-context/" title="Beam - Context"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-beam-context.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Beam - Context"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/23/bigdata-beam-context/" title="Beam - Context">Beam - Context</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-22T16:06:25.000Z" title="Created 2024-09-23 00:06:25">2024-09-23</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/big-data/">Big Data</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/big-data/beam/">Beam</a></span></div><div class="content">MapReduce架构思想
提供一套简洁的 API 来表达工程师数据处理的逻辑
在这套 API 底层嵌套一套扩展性很强的容错系统



计算模型
Map


计算模型从输入源中读取数据集合
这些数据经过用户所写的逻辑后生成一个临时的键值对数据集
MapReduce 计算模型会将拥有相同键的数据集集中起来发送到下一阶段，即 Shuffle 阶段


Reduce


接收从 Shuffle 阶段发送过来的数据集
在经过用户所写的逻辑后生成零个或多个结果

划时代意义
Map 和 Reduce 这两种抽象，其实可以适用于非常多的应用场景
MapReduce 的容错系统，可以让数据处理逻辑在分布式环境下有很好的扩展性（Scalability）

不足
使用 MapReduce 来解决一个工程问题，往往会涉及非常多的步骤
每次使用 MapReduce 时，都需要在分布式环境中启动机器来完成 Map 和 Reduce 步骤
并且需要启动 Master 机器来协调两个步骤的中间结果，存在不少的硬件资源开销

FlumeJava
将所有的数据都抽象成名为 PCollection 的数据结构
无论是从内存中读取的数据，还是在 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/09/22/bigdata-spark-flink/" title="Big Data - Spark + Flink"><img class="post-bg" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-spark-flink.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Big Data - Spark + Flink"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/09/22/bigdata-spark-flink/" title="Big Data - Spark + Flink">Big Data - Spark + Flink</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2024-09-21T16:06:25.000Z" title="Created 2024-09-22 00:06:25">2024-09-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/big-data/">Big Data</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/big-data/spark/">Spark</a></span></div><div class="content">Spark 实时性
无论是 Spark Streaming 还是 Structured Streaming，Spark 流处理的实时性还不够
无法应对实时性要求很高的流处理场景


Spark 的流处理是基于微批处理的思想
把流处理看做批处理的一种特殊形式，没接收到一个时间间隔的数据才会去处理


虽然在 Spark 2.3 中提出连续处理模型，但只支持有限的功能，并不能在大项目中使用
要在流处理的实时性提升，就不能继续用微批处理的模式，而是有数据数据就立即处理，不做等待
Apache Flink 采用了基于操作符（Operator）的连续流模型，可以做到微秒级别的延迟





Flink模型
Flink 中最核心的数据结构是 Stream，代表一个运行在多个分区上的并行流
在 Stream 上可以进行各种转换（Transformation）操作
与 Spark RDD 不同的是，Stream 代表一个数据流而不是静态数据的集合
Stream 所包含的数据随着时间增长而变化的
而且 Stream 上的转换操作都是逐条进行的 - 每当有新数据进入，整个流程都会被执行并更新结果
Flink 比 Spark St ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/61/#content-inner">61</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://zhongmingmao-1253868755.cos.ap-guangzhou.myqcloud.com/z.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">zhongmingmao</div><div class="author-info__description">Focus on Infrastructure.</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">601</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">185</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">76</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:zhongmingmao0625@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Things are always unexpected!</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/10/01/bigdata-beam-execution-engine/" title="Beam - Execution Engine"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/flink-runner-beam-language-portability.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Beam - Execution Engine"/></a><div class="content"><a class="title" href="/2024/10/01/bigdata-beam-execution-engine/" title="Beam - Execution Engine">Beam - Execution Engine</a><time datetime="2024-09-30T16:06:25.000Z" title="Created 2024-10-01 00:06:25">2024-10-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/30/bigdata-beam-pipeline-test/" title="Beam - Pipeline Test"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-beam-pipeline-test.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Beam - Pipeline Test"/></a><div class="content"><a class="title" href="/2024/09/30/bigdata-beam-pipeline-test/" title="Beam - Pipeline Test">Beam - Pipeline Test</a><time datetime="2024-09-29T16:06:25.000Z" title="Created 2024-09-30 00:06:25">2024-09-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/29/bigdata-beam-pattern/" title="Beam - Pattern"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-beam-pattern.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Beam - Pattern"/></a><div class="content"><a class="title" href="/2024/09/29/bigdata-beam-pattern/" title="Beam - Pattern">Beam - Pattern</a><time datetime="2024-09-28T16:06:25.000Z" title="Created 2024-09-29 00:06:25">2024-09-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/28/bigdata-beam-pipeline-io/" title="Beam - Pipeline IO"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-beam-pipeline-io.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Beam - Pipeline IO"/></a><div class="content"><a class="title" href="/2024/09/28/bigdata-beam-pipeline-io/" title="Beam - Pipeline IO">Beam - Pipeline IO</a><time datetime="2024-09-27T16:06:25.000Z" title="Created 2024-09-28 00:06:25">2024-09-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/27/bigdata-beam-pipeline/" title="Beam - Pipeline"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://big-data-1253868755.cos.ap-guangzhou.myqcloud.com/bigdata-beam-pipeline.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Beam - Pipeline"/></a><div class="content"><a class="title" href="/2024/09/27/bigdata-beam-pipeline/" title="Beam - Pipeline">Beam - Pipeline</a><time datetime="2024-09-26T16:06:25.000Z" title="Created 2024-09-27 00:06:25">2024-09-27</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            <a class="card-more-btn" href="/categories/" title="More">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/"><span class="card-category-list-name">AI</span><span class="card-category-list-count">34</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/llm/"><span class="card-category-list-name">LLM</span><span class="card-category-list-count">16</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/rag/"><span class="card-category-list-name">RAG</span><span class="card-category-list-count">18</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/big-data/"><span class="card-category-list-name">Big Data</span><span class="card-category-list-count">22</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/big-data/beam/"><span class="card-category-list-name">Beam</span><span class="card-category-list-count">9</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/big-data/spark/"><span class="card-category-list-name">Spark</span><span class="card-category-list-count">6</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/career/"><span class="card-category-list-name">Career</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud-computing/"><span class="card-category-list-name">Cloud Computing</span><span class="card-category-list-count">10</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/big-data/" style="font-size: 1.29em; color: rgb(103, 168, 127)">Big Data</a><a href="/tags/beam/" style="font-size: 1.22em; color: rgb(80, 114, 118)">Beam</a><a href="/tags/spark/" style="font-size: 1.2em; color: rgb(189, 80, 88)">Spark</a><a href="/tags/mapreduce/" style="font-size: 1.15em; color: rgb(116, 179, 40)">MapReduce</a><a href="/tags/flink/" style="font-size: 1.15em; color: rgb(78, 120, 31)">Flink</a><a href="/tags/rdd/" style="font-size: 1.15em; color: rgb(104, 135, 31)">RDD</a><a href="/tags/cloud-computing/" style="font-size: 1.22em; color: rgb(37, 115, 152)">Cloud Computing</a><a href="/tags/iaas/" style="font-size: 1.19em; color: rgb(5, 200, 124)">IaaS</a><a href="/tags/paas/" style="font-size: 1.19em; color: rgb(90, 159, 46)">PaaS</a><a href="/tags/cloud-native/" style="font-size: 1.45em; color: rgb(60, 29, 13)">Cloud Native</a><a href="/tags/kubernetes/" style="font-size: 1.43em; color: rgb(90, 36, 67)">Kubernetes</a><a href="/tags/devops/" style="font-size: 1.18em; color: rgb(36, 64, 20)">DevOps</a><a href="/tags/container/" style="font-size: 1.26em; color: rgb(14, 115, 111)">Container</a><a href="/tags/docker/" style="font-size: 1.28em; color: rgb(159, 120, 100)">Docker</a><a href="/tags/go-core/" style="font-size: 1.17em; color: rgb(20, 46, 19)">Go Core</a><a href="/tags/go/" style="font-size: 1.42em; color: rgb(6, 38, 130)">Go</a><a href="/tags/go-engineering/" style="font-size: 1.34em; color: rgb(196, 134, 184)">Go Engineering</a><a href="/tags/swagger/" style="font-size: 1.15em; color: rgb(68, 30, 58)">Swagger</a><a href="/tags/rpc/" style="font-size: 1.16em; color: rgb(191, 128, 86)">RPC</a><a href="/tags/grpc/" style="font-size: 1.16em; color: rgb(34, 153, 125)">gRPC</a><a href="/tags/ci/" style="font-size: 1.15em; color: rgb(130, 200, 142)">CI</a><a href="/tags/makefile/" style="font-size: 1.15em; color: rgb(39, 28, 73)">Makefile</a><a href="/tags/network/" style="font-size: 1.16em; color: rgb(106, 124, 92)">Network</a><a href="/tags/cloud-native-foundation/" style="font-size: 1.33em; color: rgb(14, 55, 97)">Cloud Native Foundation</a><a href="/tags/linux/" style="font-size: 1.27em; color: rgb(56, 181, 21)">Linux</a><a href="/tags/dockerfile/" style="font-size: 1.17em; color: rgb(0, 111, 26)">Dockerfile</a><a href="/tags/service-mesh/" style="font-size: 1.18em; color: rgb(179, 88, 87)">Service Mesh</a><a href="/tags/microservices/" style="font-size: 1.27em; color: rgb(116, 47, 183)">Microservices</a><a href="/tags/spring-cloud/" style="font-size: 1.21em; color: rgb(120, 67, 45)">Spring Cloud</a><a href="/tags/spring/" style="font-size: 1.23em; color: rgb(102, 156, 88)">Spring</a><a href="/tags/java/" style="font-size: 1.44em; color: rgb(50, 36, 24)">Java</a><a href="/tags/service-governance/" style="font-size: 1.17em; color: rgb(159, 97, 46)">Service Governance</a><a href="/tags/opa/" style="font-size: 1.21em; color: rgb(108, 67, 49)">OPA</a><a href="/tags/alibaba/" style="font-size: 1.22em; color: rgb(80, 29, 56)">Alibaba</a><a href="/tags/security/" style="font-size: 1.26em; color: rgb(164, 200, 157)">Security</a><a href="/tags/compliance/" style="font-size: 1.17em; color: rgb(10, 157, 147)">Compliance</a><a href="/tags/infrastructure/" style="font-size: 1.31em; color: rgb(117, 167, 164)">Infrastructure</a><a href="/tags/architecture/" style="font-size: 1.32em; color: rgb(18, 65, 196)">Architecture</a><a href="/tags/serverless/" style="font-size: 1.22em; color: rgb(88, 192, 72)">Serverless</a><a href="/tags/faas/" style="font-size: 1.22em; color: rgb(2, 187, 177)">FaaS</a><a href="/tags/computer-basics/" style="font-size: 1.36em; color: rgb(128, 171, 92)">Computer Basics</a><a href="/tags/computer-organization/" style="font-size: 1.36em; color: rgb(39, 172, 175)">Computer Organization</a><a href="/tags/knowledge-map/" style="font-size: 1.15em; color: rgb(101, 162, 168)">Knowledge Map</a><a href="/tags/tool/" style="font-size: 1.22em; color: rgb(23, 2, 68)">Tool</a><a href="/tags/git/" style="font-size: 1.22em; color: rgb(29, 158, 28)">Git</a><a href="/tags/concurrency/" style="font-size: 1.15em; color: rgb(10, 195, 57)">Concurrency</a><a href="/tags/cloud/" style="font-size: 1.37em; color: rgb(62, 164, 19)">Cloud</a><a href="/tags/native/" style="font-size: 1.37em; color: rgb(106, 20, 48)">Native</a><a href="/tags/authentication/" style="font-size: 1.17em; color: rgb(152, 136, 123)">Authentication</a><a href="/tags/ldap/" style="font-size: 1.15em; color: rgb(60, 188, 32)">LDAP</a><a href="/tags/oauth-2-0/" style="font-size: 1.21em; color: rgb(41, 184, 151)">OAuth 2.0</a><a href="/tags/storage/" style="font-size: 1.4em; color: rgb(121, 106, 15)">Storage</a><a href="/tags/mysql/" style="font-size: 1.41em; color: rgb(39, 111, 174)">MySQL</a><a href="/tags/innodb/" style="font-size: 1.2em; color: rgb(182, 168, 24)">InnoDB</a><a href="/tags/java-concurrent/" style="font-size: 1.38em; color: rgb(68, 154, 96)">Java Concurrent</a><a href="/tags/actor/" style="font-size: 1.15em; color: rgb(147, 49, 33)">Actor</a><a href="/tags/akka/" style="font-size: 1.15em; color: rgb(31, 80, 45)">Akka</a><a href="/tags/coroutine/" style="font-size: 1.16em; color: rgb(164, 108, 124)">Coroutine</a><a href="/tags/csp/" style="font-size: 1.15em; color: rgb(98, 146, 188)">CSP</a><a href="/tags/disruptor/" style="font-size: 1.15em; color: rgb(132, 105, 192)">Disruptor</a><a href="/tags/netty/" style="font-size: 1.15em; color: rgb(75, 123, 16)">Netty</a><a href="/tags/stm/" style="font-size: 1.15em; color: rgb(154, 7, 140)">STM</a><a href="/tags/mvcc/" style="font-size: 1.15em; color: rgb(49, 40, 151)">MVCC</a><a href="/tags/java-core/" style="font-size: 1.21em; color: rgb(128, 178, 42)">Java Core</a><a href="/tags/java-performance/" style="font-size: 1.34em; color: rgb(155, 197, 109)">Java Performance</a><a href="/tags/cas/" style="font-size: 1.15em; color: rgb(85, 116, 163)">CAS</a><a href="/tags/design-pattern/" style="font-size: 1.18em; color: rgb(62, 72, 174)">Design Pattern</a><a href="/tags/hashtable/" style="font-size: 1.15em; color: rgb(32, 84, 69)">HashTable</a><a href="/tags/concurrenthashmap/" style="font-size: 1.15em; color: rgb(60, 119, 193)">ConcurrentHashMap</a><a href="/tags/concurrentskiplistmap/" style="font-size: 1.15em; color: rgb(51, 37, 140)">ConcurrentSkipListMap</a><a href="/tags/consistency/" style="font-size: 1.15em; color: rgb(55, 141, 94)">Consistency</a><a href="/tags/jvm/" style="font-size: 1.38em; color: rgb(32, 52, 66)">JVM</a><a href="/tags/gc/" style="font-size: 1.16em; color: rgb(57, 152, 136)">GC</a><a href="/tags/hashmap/" style="font-size: 1.15em; color: rgb(161, 126, 199)">HashMap</a><a href="/tags/io/" style="font-size: 1.15em; color: rgb(46, 7, 171)">IO</a><a href="/tags/nio/" style="font-size: 1.16em; color: rgb(95, 3, 117)">NIO</a><a href="/tags/aio/" style="font-size: 1.16em; color: rgb(101, 72, 145)">AIO</a><a href="/tags/epoll/" style="font-size: 1.16em; color: rgb(80, 129, 35)">Epoll</a><a href="/tags/jit/" style="font-size: 1.15em; color: rgb(116, 31, 84)">JIT</a><a href="/tags/synchronized/" style="font-size: 1.16em; color: rgb(72, 163, 84)">synchronized</a><a href="/tags/lock/" style="font-size: 1.15em; color: rgb(66, 89, 42)">Lock</a><a href="/tags/reentrantreadwritelock/" style="font-size: 1.15em; color: rgb(19, 143, 197)">ReentrantReadWriteLock</a><a href="/tags/stampedlock/" style="font-size: 1.15em; color: rgb(176, 140, 104)">StampedLock</a><a href="/tags/serialization/" style="font-size: 1.15em; color: rgb(53, 110, 50)">Serialization</a><a href="/tags/protobuf/" style="font-size: 1.15em; color: rgb(174, 98, 147)">ProtoBuf</a><a href="/tags/java-stream/" style="font-size: 1.15em; color: rgb(153, 53, 65)">Java Stream</a><a href="/tags/mark-word/" style="font-size: 1.15em; color: rgb(11, 94, 112)">Mark Word</a><a href="/tags/monitor/" style="font-size: 1.15em; color: rgb(55, 180, 100)">Monitor</a><a href="/tags/context-switch/" style="font-size: 1.15em; color: rgb(46, 111, 187)">Context Switch</a><a href="/tags/thread-pool/" style="font-size: 1.15em; color: rgb(50, 121, 186)">Thread Pool</a><a href="/tags/lambda/" style="font-size: 1.15em; color: rgb(58, 48, 133)">Lambda</a><a href="/tags/bytecode-manipulation/" style="font-size: 1.17em; color: rgb(55, 13, 183)">Bytecode Manipulation</a><a href="/tags/asm/" style="font-size: 1.15em; color: rgb(169, 29, 168)">ASM</a><a href="/tags/jol/" style="font-size: 1.17em; color: rgb(109, 18, 188)">JOL</a><a href="/tags/middleware/" style="font-size: 1.39em; color: rgb(182, 161, 171)">Middleware</a><a href="/tags/mq/" style="font-size: 1.39em; color: rgb(70, 24, 94)">MQ</a><a href="/tags/kafka/" style="font-size: 1.39em; color: rgb(107, 10, 62)">Kafka</a><a href="/tags/stream/" style="font-size: 1.39em; color: rgb(137, 186, 49)">Stream</a><a href="/tags/rebalance/" style="font-size: 1.17em; color: rgb(155, 159, 24)">Rebalance</a><a href="/tags/avro/" style="font-size: 1.18em; color: rgb(55, 17, 52)">Avro</a><a href="/tags/consumer-group/" style="font-size: 1.15em; color: rgb(27, 92, 70)">Consumer Group</a><a href="/tags/compression/" style="font-size: 1.15em; color: rgb(144, 123, 168)">Compression</a><a href="/tags/tcp/" style="font-size: 1.16em; color: rgb(103, 89, 185)">TCP</a><a href="/tags/idempotence/" style="font-size: 1.15em; color: rgb(79, 72, 116)">Idempotence</a><a href="/tags/producer/" style="font-size: 1.15em; color: rgb(54, 198, 93)">Producer</a><a href="/tags/load-balance/" style="font-size: 1.15em; color: rgb(38, 59, 18)">Load Balance</a><a href="/tags/distributed-architecture/" style="font-size: 1.15em; color: rgb(110, 189, 76)">Distributed Architecture</a><a href="/tags/distributed-design-pattern/" style="font-size: 1.17em; color: rgb(22, 49, 125)">Distributed Design Pattern</a><a href="/tags/career/" style="font-size: 1.15em; color: rgb(179, 21, 105)">Career</a><a href="/tags/linux-performance/" style="font-size: 1.17em; color: rgb(160, 193, 185)">Linux Performance</a><a href="/tags/linux-practice/" style="font-size: 1.24em; color: rgb(134, 166, 40)">Linux Practice</a><a href="/tags/ext4/" style="font-size: 1.15em; color: rgb(111, 139, 119)">ext4</a><a href="/tags/file-system/" style="font-size: 1.15em; color: rgb(9, 0, 75)">File System</a><a href="/tags/ai/" style="font-size: 1.35em; color: rgb(32, 158, 101)">AI</a><a href="/tags/llm/" style="font-size: 1.35em; color: rgb(175, 58, 122)">LLM</a><a href="/tags/nlp/" style="font-size: 1.25em; color: rgb(81, 167, 40)">NLP</a><a href="/tags/python/" style="font-size: 1.3em; color: rgb(136, 59, 7)">Python</a><a href="/tags/fastapi/" style="font-size: 1.15em; color: rgb(104, 160, 51)">FastAPI</a><a href="/tags/uvicorn/" style="font-size: 1.15em; color: rgb(129, 35, 140)">Uvicorn</a><a href="/tags/chatgpt/" style="font-size: 1.15em; color: rgb(35, 186, 5)">ChatGPT</a><a href="/tags/machine-learning/" style="font-size: 1.17em; color: rgb(154, 168, 169)">Machine Learning</a><a href="/tags/rnn/" style="font-size: 1.15em; color: rgb(183, 79, 31)">RNN</a><a href="/tags/seq2seq/" style="font-size: 1.16em; color: rgb(44, 76, 55)">Seq2Seq</a><a href="/tags/word2vec/" style="font-size: 1.15em; color: rgb(44, 129, 155)">Word2Vec</a><a href="/tags/langchain/" style="font-size: 1.19em; color: rgb(17, 100, 169)">LangChain</a><a href="/tags/ai-agent/" style="font-size: 1.18em; color: rgb(64, 144, 101)">AI Agent</a><a href="/tags/rag/" style="font-size: 1.29em; color: rgb(136, 8, 134)">RAG</a><a href="/tags/lora/" style="font-size: 1.15em; color: rgb(32, 83, 193)">LoRA</a><a href="/tags/peft/" style="font-size: 1.15em; color: rgb(71, 116, 47)">PEFT</a><a href="/tags/math/" style="font-size: 1.16em; color: rgb(11, 152, 56)">Math</a><a href="/tags/microservices-governance/" style="font-size: 1.22em; color: rgb(95, 131, 79)">Microservices Governance</a><a href="/tags/config/" style="font-size: 1.17em; color: rgb(25, 83, 182)">Config</a><a href="/tags/configuration-center/" style="font-size: 1.17em; color: rgb(195, 34, 61)">Configuration Center</a><a href="/tags/apollo/" style="font-size: 1.17em; color: rgb(109, 86, 88)">Apollo</a><a href="/tags/faiss/" style="font-size: 1.15em; color: rgb(151, 97, 75)">Faiss</a><a href="/tags/oauth2/" style="font-size: 1.2em; color: rgb(156, 171, 3)">Oauth2</a><a href="/tags/spring-security/" style="font-size: 1.19em; color: rgb(147, 98, 90)">Spring Security</a><a href="/tags/spring-security-oauth2/" style="font-size: 1.19em; color: rgb(191, 55, 190)">Spring Security OAuth2</a><a href="/tags/chatops/" style="font-size: 1.15em; color: rgb(31, 116, 186)">ChatOps</a><a href="/tags/chatbot/" style="font-size: 1.15em; color: rgb(172, 137, 144)">Chatbot</a><a href="/tags/graphrag/" style="font-size: 1.15em; color: rgb(134, 107, 30)">GraphRAG</a><a href="/tags/rerank/" style="font-size: 1.15em; color: rgb(74, 28, 106)">Rerank</a><a href="/tags/prompting/" style="font-size: 1.15em; color: rgb(174, 142, 109)">Prompting</a><a href="/tags/kg-rag/" style="font-size: 1.15em; color: rgb(174, 166, 152)">KG-RAG</a><a href="/tags/vector/" style="font-size: 1.16em; color: rgb(124, 31, 98)">Vector</a><a href="/tags/vim/" style="font-size: 1.2em; color: rgb(30, 40, 154)">Vim</a><a href="/tags/web/" style="font-size: 1.21em; color: rgb(165, 195, 70)">Web</a><a href="/tags/javascript/" style="font-size: 1.19em; color: rgb(2, 83, 51)">JavaScript</a><a href="/tags/zookeeper/" style="font-size: 1.16em; color: rgb(18, 13, 19)">Zookeeper</a><a href="/tags/distributed-lock/" style="font-size: 1.15em; color: rgb(116, 139, 157)">Distributed Lock</a><a href="/tags/istio/" style="font-size: 1.17em; color: rgb(83, 163, 46)">Istio</a><a href="/tags/jwt/" style="font-size: 1.15em; color: rgb(50, 189, 106)">JWT</a><a href="/tags/bio/" style="font-size: 1.15em; color: rgb(195, 130, 36)">BIO</a><a href="/tags/tomcat/" style="font-size: 1.15em; color: rgb(149, 66, 89)">Tomcat</a><a href="/tags/select/" style="font-size: 1.15em; color: rgb(78, 86, 4)">Select</a><a href="/tags/poll/" style="font-size: 1.15em; color: rgb(112, 136, 53)">Poll</a><a href="/tags/zero-copy/" style="font-size: 1.15em; color: rgb(2, 91, 118)">Zero Copy</a><a href="/tags/mmap/" style="font-size: 1.15em; color: rgb(101, 19, 127)">mmap</a><a href="/tags/reactor/" style="font-size: 1.15em; color: rgb(167, 198, 10)">Reactor</a><a href="/tags/transformer/" style="font-size: 1.16em; color: rgb(127, 108, 59)">Transformer</a><a href="/tags/svm/" style="font-size: 1.15em; color: rgb(27, 68, 129)">SVM</a><a href="/tags/attention/" style="font-size: 1.15em; color: rgb(41, 80, 68)">Attention</a><a href="/tags/zab/" style="font-size: 1.15em; color: rgb(94, 76, 194)">ZAB</a><a href="/tags/etcd/" style="font-size: 1.15em; color: rgb(175, 89, 13)">etcd</a><a href="/tags/raft/" style="font-size: 1.15em; color: rgb(72, 192, 86)">raft</a><a href="/tags/iac/" style="font-size: 1.15em; color: rgb(24, 30, 154)">IaC</a><a href="/tags/terraform/" style="font-size: 1.15em; color: rgb(160, 95, 46)">Terraform</a><a href="/tags/crossplane/" style="font-size: 1.15em; color: rgb(127, 183, 12)">Crossplane</a><a href="/tags/pulumi/" style="font-size: 1.15em; color: rgb(33, 132, 66)">Pulumi</a><a href="/tags/argo-cd/" style="font-size: 1.15em; color: rgb(109, 66, 193)">Argo CD</a><a href="/tags/vpc/" style="font-size: 1.15em; color: rgb(185, 198, 54)">VPC</a><a href="/tags/helm/" style="font-size: 1.15em; color: rgb(8, 77, 57)">Helm</a><a href="/tags/runc/" style="font-size: 1.15em; color: rgb(30, 127, 162)">runc</a><a href="/tags/kustomize/" style="font-size: 1.15em; color: rgb(131, 29, 24)">Kustomize</a><a href="/tags/oci/" style="font-size: 1.15em; color: rgb(95, 81, 180)">OCI</a><a href="/tags/buildkit/" style="font-size: 1.15em; color: rgb(175, 185, 173)">BuildKit</a><a href="/tags/crane/" style="font-size: 1.15em; color: rgb(123, 0, 24)">crane</a><a href="/tags/oci-image/" style="font-size: 1.15em; color: rgb(189, 37, 23)">OCI Image</a><a href="/tags/oci-runtime/" style="font-size: 1.15em; color: rgb(20, 168, 178)">OCI Runtime</a><a href="/tags/linux-namespace/" style="font-size: 1.15em; color: rgb(3, 37, 67)">Linux Namespace</a><a href="/tags/linux-cgroup/" style="font-size: 1.15em; color: rgb(178, 149, 113)">Linux CGroup</a><a href="/tags/k8s-manifest/" style="font-size: 1.15em; color: rgb(63, 17, 58)">K8S Manifest</a><a href="/tags/performance-tuning/" style="font-size: 1.15em; color: rgb(166, 22, 45)">Performance Tuning</a><a href="/tags/api-gateway/" style="font-size: 1.15em; color: rgb(152, 14, 5)">API Gateway</a><a href="/tags/apisix/" style="font-size: 1.15em; color: rgb(18, 176, 58)">APISIX</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span><a class="card-more-btn" href="/archives/" title="More">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/10/"><span class="card-archive-list-date">October 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/09/"><span class="card-archive-list-date">September 2024</span><span class="card-archive-list-count">30</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/08/"><span class="card-archive-list-date">August 2024</span><span class="card-archive-list-count">31</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">July 2024</span><span class="card-archive-list-count">10</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">June 2024</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">May 2023</span><span class="card-archive-list-count">11</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">April 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/02/"><span class="card-archive-list-date">February 2023</span><span class="card-archive-list-count">15</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">601</div></div><div class="webinfo-item"><div class="item-name">Run time :</div><div class="item-count" id="runtimeshow" data-publishDate="2015-06-30T16:00:00.000Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Total Count :</div><div class="item-count">1128.9k</div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-11-20T17:26:32.300Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://cdn.pixabay.com/photo/2018/08/27/15/17/fishing-3635221_1280.png')"><div id="footer-wrap"><div class="copyright">&copy;2015 - 2024 By zhongmingmao</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Life is like a box of chocolates. You can't know what you'll eat until you open it.</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["Stay hungry, stay foolish."])
  } else {
    document.getElementById("subtitle").innerHTML = 'Stay hungry, stay foolish.'
  }
}
typedJSFn.run(subtitleType)</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></body></html>